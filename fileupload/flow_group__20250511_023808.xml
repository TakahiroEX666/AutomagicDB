<?xml version='1.0' encoding='UTF-8' standalone='yes' ?>
<data version="1.38.0">
  <trigger type="file_observer">
    <useDefaultName>false</useDefaultName>
    <name>EX-MAP MAKER</name>
    <enabled>true</enabled>
    <pathList>/storage/emulated/0/Android/application/SPFDB/LOCATION-ENGINE</pathList>
    <eventTypeAccess>false</eventTypeAccess>
    <eventTypeAttrib>false</eventTypeAttrib>
    <eventTypeCloseNowrite>false</eventTypeCloseNowrite>
    <eventTypeCloseWrite>false</eventTypeCloseWrite>
    <eventTypeCreate>true</eventTypeCreate>
    <eventTypeDelete>false</eventTypeDelete>
    <eventTypeDeleteSelf>false</eventTypeDeleteSelf>
    <eventTypeModify>false</eventTypeModify>
    <eventTypeMovedFrom>false</eventTypeMovedFrom>
    <eventTypeMovedTo>false</eventTypeMovedTo>
    <eventTypeMoveSelf>false</eventTypeMoveSelf>
    <eventTypeOpen>false</eventTypeOpen>
  </trigger>
  <trigger type="user_interface_event">
    <useDefaultName>false</useDefaultName>
    <name>GOOD</name>
    <enabled>true</enabled>
    <accessibilityEventType>TYPE_WINDOW_STATE_CHANGED</accessibilityEventType>
    <packageNameFilter>com.shopee.foody.driver.th</packageNameFilter>
    <textMatchType>CONTAINS_TEXT</textMatchType>
    <textFilter>‡∏î‡∏µ</textFilter>
    <removeNonPrintableCharacters>false</removeNonPrintableCharacters>
  </trigger>
  <trigger type="app_task_ended">
    <useDefaultName>false</useDefaultName>
    <name>MARKER-END</name>
    <enabled>true</enabled>
    <method>CLASSIC</method>
    <packageNameFilter>com.exlyo.mapmarker</packageNameFilter>
  </trigger>
  <trigger type="app_task_started">
    <useDefaultName>false</useDefaultName>
    <name>MARKER-START</name>
    <enabled>true</enabled>
    <method>CLASSIC</method>
    <packageNameFilter>com.exlyo.mapmarker</packageNameFilter>
  </trigger>
  <trigger type="user_interface_event">
    <useDefaultName>false</useDefaultName>
    <name>SPF-CANCEL</name>
    <enabled>true</enabled>
    <accessibilityEventType>TYPE_WINDOW_STATE_CHANGED</accessibilityEventType>
    <packageNameFilter>com.shopee.foody.driver.th</packageNameFilter>
    <textMatchType>CONTAINS_TEXT</textMatchType>
    <textFilter>‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°?</textFilter>
    <removeNonPrintableCharacters>false</removeNonPrintableCharacters>
  </trigger>
  <trigger type="activity_started">
    <useDefaultName>false</useDefaultName>
    <name>SPF-HOME</name>
    <enabled>true</enabled>
    <method>CLASSIC</method>
    <packageNameFilter>com.shopee.foody.driver.th</packageNameFilter>
    <classNameFilter>com.shopee.foody.driver.MainActivity</classNameFilter>
  </trigger>
  <trigger type="activity_started">
    <useDefaultName>false</useDefaultName>
    <name>SPF-ICM</name>
    <enabled>true</enabled>
    <method>CLASSIC</method>
    <packageNameFilter>com.shopee.foody.driver.th</packageNameFilter>
    <classNameFilter>com.shopee.foody.driver.popmanager.activity.PopActivity</classNameFilter>
  </trigger>
  <trigger type="notification_status_bar_displayed">
    <useDefaultName>false</useDefaultName>
    <name>SPF-NOTIF</name>
    <enabled>true</enabled>
    <packageNameFilter>com.shopee.foody.driver.th</packageNameFilter>
    <textMatchField>TEXT</textMatchField>
    <textMatchType>CONTAINS_TEXT</textMatchType>
    <textFilter>‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà</textFilter>
    <ignoreRegular>false</ignoreRegular>
    <ignoreOngoing>false</ignoreOngoing>
    <ignoreGroupSummary>false</ignoreGroupSummary>
  </trigger>
  <trigger type="activity_started">
    <useDefaultName>false</useDefaultName>
    <name>SPF-TAKE</name>
    <enabled>true</enabled>
    <method>CLASSIC</method>
    <packageNameFilter>com.shopee.foody.driver.th</packageNameFilter>
    <classNameFilter>com.shopee.android.react.impl.activity.stubs.RNStubs4</classNameFilter>
  </trigger>
  <condition type="confirmation_dialog">
    <useDefaultName>false</useDefaultName>
    <name>


  </name>
    <title>‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô!?</title>
    <question>‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö: {address_raw}

‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥: {geo_address}

‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏´‡∏°‡∏∏‡∏î: {poi["formatted_address"]}

‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏°‡∏±‡πâ‡∏¢?</question>
    <falseLabel>No</falseLabel>
    <trueLabel>Yes</trueLabel>
    <backOperation>IGNORE</backOperation>
    <timeoutEnabled>false</timeoutEnabled>
    <timeout>60000</timeout>
    <defaultValueOnTimeout>true</defaultValueOnTimeout>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>  


</name>
    <expression>trigger=="Manual"</expression>
  </condition>
  <condition type="debug_dialog">
    <useDefaultName>false</useDefaultName>
    <name>     DEBUG    </name>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>     OK     </name>
    <expression>operation=="ok"</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>   END   </name>
    <expression>trigger=="MARKER-END"</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>   START   </name>
    <expression>trigger=="MARKER-START"</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>  AREA  </name>
    <expression>x_start=50;
y_start=530;
weight=245;
height=120;


b=newList(
newList(x_start,y_start,weight,80,true),
newList(x_start+weight*1,y_start,weight,height),
newList(x_start+weight*2,y_start,weight,height),
newList(x_start+weight*3,y_start,weight,height));


for (i in [0 to length(b)-1]){


   if(screen_x&gt;=b[i][0] and screen_x&lt;=(b[i][0]+b[i][2]) and
   screen_y&gt;=b[i][1] and screen_y&lt;=b[i][1]+b[i][3]) {

      return true
   }
}

return false</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>  CLICK  </name>
    <expression>gesture=="CLICK"</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name> AUTOFILL? </name>
    <expression>if(contains(autofill,"autofill failed")) {return false}

autofill=fromJSON(autofill);

kut=toJSON(newMapFromValues("use_case", "shopee.account",
"sessiontoken","c7374990-7d63-4847-8485-cb43d8825710",
"components","country:TH",
"address_list",newList(newMapFromValues(
"address", autofill["data"]["detailed_address"],
"address_level1",autofill["data"]["admin_info"]["admin_division_1"],
"address_level2",autofill["data"]["admin_info"]["admin_division_2"],
"address_level3",autofill["data"]["admin_info"]["admin_division_3"],
"zipcode",autofill["data"]["admin_info"]["zipcode"]
))));

city=replaceAll(autofill["data"]["admin_info"]["admin_division_1"],"","");
dt=replaceAll(autofill["data"]["admin_info"]["admin_division_2"],"","");
subdt=replaceAll(autofill["data"]["admin_info"]["admin_division_3"],"","");
zip=autofill["data"]["admin_info"]["zipcode"];

return true</expression>
  </condition>
  <condition type="debug_dialog">
    <useDefaultName>false</useDefaultName>
    <name> Debug Dialog</name>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name> INDEX </name>
    <expression>length(global_navigation)&gt;0</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name> RANGE? </name>
    <expression>geo=fromJSON(geo)["result_list"]["0"];

geo_address=geo["output_address"];
geo_lat=geo["geometry"]["location"]["lat"];
geo_lng=geo["geometry"]["location"]["lng"];
geo_latlng="{geo_lat},{geo_lng}";


if(global_device["device"]=="alioth") {color_cust="009688";}
   //23ac9a

else {color_cust="3f51b5"}


file_text[index][0]=file_text[index][0]+"_FIXED";
file_text[index][0]=replaceAll(file_text[index][0],"_FIXED.*","_FIXED");

file_text[index][1]=color_cust;
file_text[index][6]=color_cust;
file_text[index][2]=geo_lat;
file_text[index][3]=geo_lng;
file_text[index][4]=file_text[index][4];
file_text[index][9]=-6;

//-1: pin

haversine=round(distance(newLocation(o_lat,o_lon),newLocation(geo_lat,geo_lng)));

if(haversine&gt;8000) {result="error"} else
if(haversine&gt;5000) {result="abnormal"} else
if(haversine&gt;1000) {result="loc_failed"} else
if(haversine&gt;300) {result="loc_failed"}

if(result!=null)   {result=null; return false}

return true</expression>
  </condition>
  <condition type="confirmation_dialog">
    <useDefaultName>false</useDefaultName>
    <name>..</name>
    <title>üì¶ ‡∏û‡∏ö‡πÄ‡∏à‡∏≠‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏°‡∏±‡πâ‡∏¢?</title>
    <question></question>
    <falseLabel>XXX</falseLabel>
    <trueLabel>‚úì‚úì‚úì</trueLabel>
    <backOperation>CANCEL</backOperation>
    <timeoutEnabled>true</timeoutEnabled>
    <timeout>3000</timeout>
    <defaultValueOnTimeout>true</defaultValueOnTimeout>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>1
CALL</name>
    <expression>i==0</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>2
NAVIG</name>
    <expression>i==1</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>2L</name>
    <expression>length(result)==2</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>3
NEXT</name>
    <expression>i==2</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>4
CLOSE</name>
    <expression>i==3</expression>
  </condition>
  <condition type="custom_widget_overlay_showing">
    <useDefaultName>false</useDefaultName>
    <name>BEGINNING</name>
    <overlayNameList>SPF_ROUTE_MINIMIZE,SPF_ROUTE_STATUSBAR</overlayNameList>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>CANCEL?</name>
    <expression>state=="cancel"</expression>
  </condition>
  <condition type="confirmation_dialog">
    <useDefaultName>false</useDefaultName>
    <name>CF: ADD</name>
    <title>Confirm Element: {result[0][4]}</title>
    <question>{list_current}</question>
    <falseLabel>No</falseLabel>
    <trueLabel>Yes</trueLabel>
    <backOperation>IGNORE</backOperation>
    <timeoutEnabled>false</timeoutEnabled>
    <timeout>60000</timeout>
    <defaultValueOnTimeout>true</defaultValueOnTimeout>
  </condition>
  <condition type="confirmation_dialog">
    <useDefaultName>false</useDefaultName>
    <name>CF: SHOW</name>
    <title>Show Navigation Now?</title>
    <question></question>
    <falseLabel>No</falseLabel>
    <trueLabel>Yes</trueLabel>
    <backOperation>IGNORE</backOperation>
    <timeoutEnabled>false</timeoutEnabled>
    <timeout>60000</timeout>
    <defaultValueOnTimeout>true</defaultValueOnTimeout>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>CHECKLOOP?</name>
    <expression>if(checkloop==null) {

   checkloop=true;
   return true
}
else{

   return false
}</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>CLEAR</name>
    <expression>if(contains(value,"üóëÔ∏è")) {

   global_navigation=newList();
   return true
}
return false</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>COLUMN</name>
    <expression>if(index==null) {index=0}
else if(index&lt;length(file_text)-1){index=index+1}
else {

  removeVariable("index");
  return false
}

while(true) {

   csv=file_text[index];
   if(contains(csv[0],"CUST")) {

      //autofill clipboard 
      address_raw=split(csv[5]," \\|")[0];
      o_lat=csv[2];
      o_lon=csv[3];
      data=toJSON(newMapFromValues("input",address_raw,"request_type","pasting","use_case","shopee.account","page_session_id","c7374990-7d63-4847-8485-cb43d8825710"));
      return true}

   if(index&gt;length(file_text)-1){removeVariable("index");return false}
   else {

   addElement(shop_list,split(csv[4],"\n")[1]);
   //csv_original[index][3]=csv_original[index][3]+0.0005;
   file_text[index]=null;
   index=index+1} 
}
   
return true</expression>
  </condition>
  <condition type="debug_dialog">
    <useDefaultName>false</useDefaultName>
    <name>Debug Dialoguhyy</name>
  </condition>
  <condition type="time_range">
    <useDefaultName>false</useDefaultName>
    <name>EX TIME?</name>
    <weekday>Mon</weekday>
    <weekday>Tue</weekday>
    <weekday>Wed</weekday>
    <weekday>Thu</weekday>
    <weekday>Fri</weekday>
    <weekday>Sat</weekday>
    <weekday>Sun</weekday>
    <hourFrom>12</hourFrom>
    <minuteFrom>0</minuteFrom>
    <hourTo>17</hourTo>
    <minuteTo>0</minuteTo>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>EXIST?.2</name>
    <expression>sFileDb=getExternalStorageDir()+"/Android/application/SPFDB/{global_spxdb['files']}";
OPEN_READONLY = getJavaStaticField("android.database.sqlite.SQLiteDatabase","OPEN_READONLY");
OPEN_READWRITE = getJavaStaticField("android.database.sqlite.SQLiteDatabase", "OPEN_READWRITE");
objDb = callJavaStaticMethod("android.database.sqlite.SQLiteDatabase","openDatabase(java.lang.String,¬†android.database.sqlite.SQLiteDatabase$CursorFactory,¬†int)",sFileDb, null, OPEN_READWRITE);

existsFile(sFileDb)</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>true</useDefaultName>
    <name>Expression: osm=fromJSON(osm)["address"]; quarter=trim(replaceAll(osm["quarter"],"‡πÅ‡∏Ç‡∏ß‡∏á|‡∏ï‡∏≥‡∏ö‡∏•|‡∏ï\\.","")); if(maps["locality"]==null or maps["locality"]=="null") { if(contains(maps["name"],quarter)) { name=""; city=osm["city"]; district=trim(replaceAll(osm["suburb"],"‡πÄ‡∏Ç‡∏ï|‡∏≠‡∏≥‡πÄ‡∏†‡∏≠","")); subdt=quarter; zipcode=osm["postcode"]; return true } } else { //use for country name=maps["name"]; city=maps["admin"]; district=trim(replaceAll(maps["sub-admin"],"‡∏≠‡∏≥‡πÄ‡∏†‡∏≠|‡∏≠\\.","")); subdt=trim(replaceAll(maps["locality"],"‡∏ï‡∏≥‡∏ö‡∏•|‡∏ï\\.","")); zipcode=maps["postalCode"]; return true } return false</name>
    <expression>osm=fromJSON(osm)["address"];
quarter=trim(replaceAll(osm["quarter"],"‡πÅ‡∏Ç‡∏ß‡∏á|‡∏ï‡∏≥‡∏ö‡∏•|‡∏ï\\.",""));

if(maps["locality"]==null or maps["locality"]=="null") {

   if(contains(maps["name"],quarter)) {

         name="";
         city=osm["city"];
         district=trim(replaceAll(osm["suburb"],"‡πÄ‡∏Ç‡∏ï|‡∏≠‡∏≥‡πÄ‡∏†‡∏≠",""));
         subdt=quarter;
         zipcode=osm["postcode"];
      return true
   }
} else {

   //use for country 
   name=maps["name"];
   city=maps["admin"];
   district=trim(replaceAll(maps["sub-admin"],"‡∏≠‡∏≥‡πÄ‡∏†‡∏≠|‡∏≠\\.",""));
   subdt=trim(replaceAll(maps["locality"],"‡∏ï‡∏≥‡∏ö‡∏•|‡∏ï\\.",""));
   zipcode=maps["postalCode"];
   return true
}
return false   




</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>true</useDefaultName>
    <name>Expression: type=="‡∏û‡∏±‡∏™‡∏î‡∏∏"</name>
    <expression>type=="‡∏û‡∏±‡∏™‡∏î‡∏∏"</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>FILE2?</name>
    <expression>sFileDb=getExternalStorageDir()+"/Android/application/SPFDB/{global_spxdb['files']}";
OPEN_READWRITE = getJavaStaticField("android.database.sqlite.SQLiteDatabase", "OPEN_READWRITE");
objDb = callJavaStaticMethod("android.database.sqlite.SQLiteDatabase","openDatabase(java.lang.String,¬†android.database.sqlite.SQLiteDatabase$CursorFactory,¬†int)",sFileDb, null, OPEN_READWRITE);


existsFile(sFileDb)</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>FILE?</name>
    <expression>not contains(stderr,"No such")</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>IGNORE </name>
    <expression>operation=="cancel" or operation=="timeout"</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>MAP MAKER</name>
    <expression>if(contains(path,"export")) {

   sleep(1000);
}</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>ONGOING</name>
    <expression>if(global_spxdb["order"]["incoming"]["ongoing"]==true) {

   return true
}

global_spxdb["order"]["taken"]=global_spxdb["order"]["incoming"];
global_spxdb["order"]["incoming"]=newMap();
global_spxdb["order"]["previous_income"]=0;
return false</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>ONGOING?</name>
    <expression>if(ongoing==true) {

   changer=global_spxdb["order"]["incoming"]["income"]-global_spxdb["order"]["taken"]["income"];
   return true
}
return false</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>POI?</name>
    <expression>
if(contains(poi,'{"5":false')) {sqrt()}
poi=fromJSON(poi)["data"]["results"][0];

/*
types[0]=street_number ... ‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà
types=[premise] ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ
types=[subpremise]},
types=[route] ... ‡∏ñ‡∏ô‡∏ô //‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 2 ‡∏ï‡∏±‡∏ß '‡∏ñ‡∏ô‡∏ô ‡∏ó‡πà‡∏≤‡∏Ç‡πâ‡∏≤‡∏°'
types=[political, sublocality, sublocality_level_2]} ... ‡πÅ‡∏Ç‡∏ß‡∏á //'‡πÅ‡∏Ç‡∏ß‡∏á ','‡πÅ‡∏Ç‡∏ß‡∏á‡∏•‡∏≤‡∏î'
types=[political, sublocality, sublocality_level_1 ... ‡πÄ‡∏Ç‡∏ï //'‡πÄ‡∏Ç‡∏ï'
types=[administrative_area_level_1, political]}, ... ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î //'‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£' 
types=[postal_code]}, ... ‡∏£‡∏´‡∏±‡∏™
types=[partial_formatted_address]}] ... ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏°‡∏°‡∏µ‡πÄ‡∏Ç‡∏ï
types=[plus_code]
types=[locality, political]}, . ...‡∏ï‡∏≥‡∏ö‡∏• '‡∏ï‡∏≥‡∏ö‡∏• ‡πÑ‡∏£‡πà‡∏Ç‡∏¥‡∏á //‡∏ö‡∏≤‡∏á‡∏ó‡∏µ‡∏Å‡πá‡πÑ‡∏°‡πà‡∏°‡∏µ
type"locality","political"s=[administrative_area_level_2, political] ... ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ '‡∏≠‡∏≥‡πÄ‡∏†‡∏≠'
*/


for (i in [0 to length(poi["address_components"])-1]) {

   if(contains(poi["address_components"][i],"administrative_area_level_1")) {

      poi_city=poi["address_components"][i]["long_name"];}
   
   else if(contains(poi["address_components"][i],"administrative_area_level_2") or
           contains(poi["address_components"][i],"sublocality_level_1")){

      poi_district=replaceAll(poi["address_components"][i]["long_name"]," ","");}

   else if(contains(poi["address_components"][i],"sublocality_level_2")){

      poi_subdtr=replaceAll(poi["address_components"][i]["long_name"]," ","")}

   else if(contains(poi["address_components"][i],"postal_code")){

      poi_zip=poi["address_components"][i]["long_name"];}

   else if(contains(poi["address_components"][i],"political") and
           contains(poi["address_components"][i],"locality")) {

      poi_subdtr=replaceAll(poi["address_components"][i]["long_name"]," "
,"")
   }
}



if(poi_district!=dt) {

   return false

}

checkloop=null;

return true</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>W-STATUS</name>
    <expression>widget_name=="SPF_ROUTE_STATUSBAR"</expression>
  </condition>
  <condition type="expression">
    <useDefaultName>false</useDefaultName>
    <name>üçõ</name>
    <expression>state=="food"</expression>
  </condition>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>





    </name>
    <script></script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>




          </name>
    <script></script>
  </action>
  <action type="message_dialog">
    <useDefaultName>false</useDefaultName>
    <name>


    </name>
    <title>Not Found INDEX!!</title>
    <message></message>
    <buttonLabel></buttonLabel>
    <timeoutEnabled>false</timeoutEnabled>
    <timeout>60000</timeout>
  </action>
  <action type="input_dialog">
    <useDefaultName>false</useDefaultName>
    <name>   MENU   </name>
    <title></title>
    <inputDialogType>SINGLE_CHOICE_MENU</inputDialogType>
    <prompt></prompt>
    <inputValues>{menu,listformat,comma}</inputValues>
    <defaultValue></defaultValue>
    <titleFontSize>DEFAULT</titleFontSize>
    <promptFontSize>DEFAULT</promptFontSize>
    <fontSize>DEFAULT</fontSize>
    <timeoutEnabled>false</timeoutEnabled>
    <timeout>60000</timeout>
    <defaultValueOnTimeout></defaultValueOnTimeout>
    <showWhenLocked>false</showWhenLocked>
    <turnScreenOn>false</turnScreenOn>
    <keepScreenOn>false</keepScreenOn>
    <enlargeDialogWidth>false</enlargeDialogWidth>
    <keyboardCapitalizeSentences>false</keyboardCapitalizeSentences>
  </action>
  <action type="notification_screen">
    <useDefaultName>false</useDefaultName>
    <name>  OK  </name>
    <showText>true</showText>
    <text>‚úîÔ∏è  ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å 'CSV' ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à  ‚úîÔ∏è</text>
    <widgetName></widgetName>
    <width></width>
    <height></height>
    <stretchToFillArea>false</stretchToFillArea>
    <opacity>1.00</opacity>
    <durationLong>true</durationLong>
    <customPosition>true</customPosition>
    <gravityType>CENTER_CENTER</gravityType>
    <xOffset>0</xOffset>
    <yOffset>0</yOffset>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name> MESCRIPT</name>
    <script>menu=newList();

if(length(global_navigation)&gt;0) {

   for (i in [0 to length(global_navigation)-1]){

      addElement(menu, "‚û§     {global_navigation[i][4]}");
   }
}
addElement(menu, "");
addElement(menu, "üóëÔ∏è   ‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î");</script>
  </action>
  <action type="input_dialog">
    <useDefaultName>false</useDefaultName>
    <name> SELECT </name>
    <title></title>
    <inputDialogType>SINGLE_CHOICE_MENU</inputDialogType>
    <prompt></prompt>
    <inputValues>üõçÔ∏è   ‡∏£‡πâ‡∏≤‡∏ô‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°),üë§   ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</inputValues>
    <defaultValue></defaultValue>
    <titleFontSize>DEFAULT</titleFontSize>
    <promptFontSize>DEFAULT</promptFontSize>
    <fontSize>DEFAULT</fontSize>
    <timeoutEnabled>false</timeoutEnabled>
    <timeout>60000</timeout>
    <defaultValueOnTimeout></defaultValueOnTimeout>
    <showWhenLocked>false</showWhenLocked>
    <turnScreenOn>false</turnScreenOn>
    <keepScreenOn>false</keepScreenOn>
    <enlargeDialogWidth>false</enlargeDialogWidth>
    <keyboardCapitalizeSentences>false</keyboardCapitalizeSentences>
  </action>
  <action type="execute_flows">
    <useDefaultName>false</useDefaultName>
    <name>#42: NAVIGATION</name>
    <includeFlowNamePatternList>#42: NAVIGATION</includeFlowNamePatternList>
    <excludeFlowNamePatternList></excludeFlowNamePatternList>
    <skipDisabledFlowsWithoutError>false</skipDisabledFlowsWithoutError>
    <waitForFlowsToFinish>false</waitForFlowsToFinish>
    <returnLocalVariablesToCallingFlow>false</returnLocalVariablesToCallingFlow>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>***DEMO TAKE</name>
    <script>global_spxdb["order"]["taken"]=global_spxdb["order"]["incoming"];
global_spxdb["order"]["incoming"]=newMap();</script>
  </action>
  <action type="message_dialog">
    <useDefaultName>false</useDefaultName>
    <name>+</name>
    <title>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö : {changer}</title>
    <message></message>
    <buttonLabel></buttonLabel>
    <timeoutEnabled>false</timeoutEnabled>
    <timeout>60000</timeout>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>1-URI</name>
    <script>response=fromJSON(response);
waypoint2="";


for (i in [0 to length(response["routes"][0]["steps"])-1]) {

   if(response["routes"][0]["steps"][i]["type"]=="job") {

      point=response["routes"][0]["steps"][i]["location"];
      waypoint2=waypoint2+"point={point[1]},{point[0]}&amp;";
   }
}


uri="https://graphhopper.com/maps/?"+"point={lat_start},{lon_start}&amp;"+waypoint2
+"point={lat_end},{lon_end}&amp;"+"profile=scooter&amp;layer=Mapilion"</script>
  </action>
  <action type="sleep">
    <useDefaultName>false</useDefaultName>
    <name>15s</name>
    <duration>2s</duration>
    <keepDeviceAwake>true</keepDeviceAwake>
    <allowWakeupFromDeviceIdle>false</allowWakeupFromDeviceIdle>
  </action>
  <action type="execute_root_command">
    <useDefaultName>false</useDefaultName>
    <name>4_allexport</name>
    <command>mv {registered_path}/{path} {registered_path}/4_allexport.csv</command>
    <user></user>
    <seContext></seContext>
    <workingDirectory></workingDirectory>
    <timeout>300000</timeout>
    <variableStdout>stdout</variableStdout>
    <variableStderr>stderr</variableStderr>
    <variableExitCode>exit_code</variableExitCode>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>=</name>
    <script>if(operation=="yes") {

   global_spxdb["order"]["previous_income"]=global_spxdb["order"]["taken"]["income"];
   global_spxdb["order"]["taken"]=global_spxdb["order"]["incoming"];
   global_spxdb["order"]["incoming"]=newMap();
      return}

else {

   global_spxdb["order"]["incoming"]=newMap();
}</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>ACCESS DB</name>
    <script>FILE=getExternalStorageDir()+"/Android/application/SPFDB/{global_spxdb['files']}";
CMD="SELECT * FROM order_stacking_assign ORDER BY create_time DESC LIMIT 1";


objDb=callJavaStaticMethod("android.database.sqlite.SQLiteDatabase","openDatabase(java.lang.String,¬†android.database.sqlite.SQLiteDatabase$CursorFactory,¬†int)",FILE, null, getJavaStaticField("android.database.sqlite.SQLiteDatabase", "OPEN_READWRITE"));
objCursor=callJavaMethod(objDb,"android.database.sqlite.SQLiteDatabase","rawQuery(java.lang.String,¬†java.lang.String[])", CMD, null);
bExistRecords=callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
nFldCount=callJavaMethod(objCursor,"android.database.Cursor","getColumnCount()") - 1;
bExistRecords=callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
varSelect=newList();
nRec=0;


while (bExistRecords){

   nRec = nRec + 1;
   addElement(varSelect, newList());

   for (nCol in [0 to nFldCount]){

      sFldName = callJavaMethod(objCursor,"android.database.Cursor","getColumnName(int)", nCol);
      sFldValue = callJavaMethod(objCursor,"android.database.Cursor","getString(int)", nCol);
      nFldType = callJavaMethod(objCursor,"android.database.Cursor","getType(int)", nCol);
      sFldValue = replaceAll(sFldValue,'(\\n)',"|");
      sFldValue = replaceAll(sFldValue,"(\\')","`");

      if (nFldType == 3) {varValue = sFldValue}
      else {varValue = toNumber(sFldValue)}
      addElement(varSelect[nRec-1], varValue);
   }
   bExistRecords = callJavaMethod(objCursor,"android.database.Cursor","moveToNext()");
}


for (v in getVariableNames()) {if (NOT matches(v, "global_.*|flow_name|trigger|varSelect|sTypeOut|objDb")){removeVariable(v)};}
removeVariable("v");
removeVariable("sTypeOut");











route=newMapFromValues("all", newList(),"shop",newList(),"customer",newList(),"batch_shop",newList(),"batch_customer",newList());
db_assign=fromJSON(varSelect[0][3]);
ongoing=false;
batch_shop=newList();
batch_customer=newList();


laglon_shop="";
laglon_customer="";
laglon_batch_shop="";
laglon_batch_customer="";


income=db_assign["driver_delivery_order"]["total_shipping_fee"]/100000;
if(db_assign["deliveries"][0]["service_type"]==1) {type="FOOD";} else {type="EXPRESS";}

if(type=="EXPRESS") {
   for (i in [0 to length(db_assign["driver_delivery_order"]["routes"])-1]) {
     
      tg=db_assign["driver_delivery_order"]["routes"][i];   
      if(db_assign["driver_delivery_order"]["routes"][i]["location_type"]==1) {

         for (ii in [0 to length(db_assign["deliveries"])-1]) {
            
            if(tg["delivery_order_id"]==db_assign["deliveries"][ii]["delivery_order"]["delivery_order_id"]) {
        
               tg["details"]=newMapFromValues(
               "name",db_assign["deliveries"][ii]["delivery_order"]["pickup_address"]["name"],
               "phone",db_assign["deliveries"][ii]["delivery_order"]["pickup_address"]["phone"],
               "address",db_assign["deliveries"][ii]["delivery_order"]["pickup_address"]["location"],
               "parcel",db_assign["deliveries"][ii]["delivery_order"]["delivery_package"]["weight"]/1000,
               "cod",db_assign["deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000,
               "income",db_assign["deliveries"][ii]["delivery_order"]["income"]/100000);

               if(length(db_assign["ongoing_deliveries"])&gt;=1) {
               
                  addElement(batch_shop,tg);
                  laglon_batch_shop=laglon_batch_shop+"{tg['details']['address']['latitude']},{tg['details']['address']['longitude']}|";
               }
               break
            }
         }       
         if(length(db_assign["ongoing_deliveries"])&gt;=1) {
                  
            ongoing=true;           
            for (ii in [0 to length(db_assign["ongoing_deliveries"])-1]) {
            
               if(tg["delivery_order_id"]==db_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_order_id"]) {
                   
                  tg["details"]=newMapFromValues(
                  "name",db_assign["ongoing_deliveries"][ii]["delivery_order"]["pickup_address"]["name"],
                  "phone",db_assign["ongoing_deliveries"][ii]["delivery_order"]["pickup_address"]["phone"],
                  "address",db_assign["ongoing_deliveries"][ii]["delivery_order"]["pickup_address"]["location"],
                  "parcel",db_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_package"]["weight"]/1000,
                  "cod",db_assign["ongoing_deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000,
                  "income",db_assign["ongoing_deliveries"][ii]["delivery_order"]["income"]/100000);                  
                  break
               }
            } 
         }  
         addElement(route["shop"],tg);
         laglon_shop=laglon_shop+"{tg['details']['address']['latitude']},{tg['details']['address']['longitude']}|"
      }        
      else {
            
         for (ii in [0 to length(db_assign["deliveries"])-1]) {

            if(tg["delivery_order_id"]==db_assign["deliveries"][ii]["delivery_order"]["delivery_order_id"]) {
               
               tg["details"]=newMapFromValues(
               "name",db_assign["deliveries"][ii]["delivery_order"]["delivery_address"]["name"],
               "phone",db_assign["deliveries"][ii]["delivery_order"]["delivery_address"]["phone"],
               "address",db_assign["deliveries"][ii]["delivery_order"]["delivery_address"]["location"],
               "parcel",db_assign["deliveries"][ii]["delivery_order"]["delivery_package"]["weight"],
               "cod",db_assign["deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000,
               "income",db_assign["deliveries"][ii]["delivery_order"]["income"]/100000);

               if(length(db_assign["ongoing_deliveries"])&gt;=1) {
               
                  addElement(batch_customer,tg);
                  laglon_batch_customer=laglon_batch_customer+"{tg['details']['address']['latitude']},{tg['details']['address']['longitude']}|";
               }
               break
            }
         } //&lt;== adds current
         if(length(db_assign["ongoing_deliveries"])&gt;=1) {
         
            ongoing=true; 
            for (ii in [0 to length(db_assign["ongoing_deliveries"])-1]) {

               if(tg["delivery_order_id"]==db_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_order_id"]) {
                  
                  tg["details"]=newMapFromValues(
                  "name",db_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_address"]["name"],
                  "phone",db_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_address"]["phone"],
                  "address",db_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_address"]["location"],
                  "parcel",db_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_package"]["weight"],
                  "cod",db_assign["ongoing_deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000,     
                  "income",db_assign["ongoing_deliveries"][ii]["delivery_order"]["income"]/100000);
                  break
               }
            }
         }
         addElement(route["customer"],tg);
         laglon_customer=laglon_customer+"{tg['details']['address']['latitude']},{tg['details']['address']['longitude']}|"
      }
      addElement(route["all"],tg)
   }
}



if(length(batch_customer)!=0) {

   route["batch_shop"]=batch_shop;
   route["batch_customer"]=batch_customer;
}
if(laglon_batch_customer!="") {

   laglon_shop=laglon_batch_shop;
   laglon_customer=laglon_batch_customer;
}


order=newMapFromValues(
"key",varSelect[0][0],
"time",varSelect[0][1],
"type",type,
"ongoing",ongoing,
"income",income,
"route",route);


//global_spxdb["order"]["incoming"]=order</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>BASE-CSV</name>
    <script>H=newList(
"Folder name",
"Folder color",
"Latitude",
"Longitude",
"Title",
"Description",
"Color",
"Phone number",
"Timestamp",
"Pin icon code");
W="{H,listformat,comma}"+"\n";



if(global_device["device"]=="alioth") {

   id=1;
   de="A";
   cust_id=0;
   color_shop="ed4d2d";
   color_cust="009688";}

else {

   id=2;
   de="C";
   cust_id=0;
   color_shop="9c27b0";
   color_cust="3f51b5";
}



for (i in [0 to length(order["route"]["all"])-1]){
  
   count=i+1;
   v=order["route"]["all"][i]["details"];
   name=v["name"];
   address=v["address"]["address"];
   lat=v["address"]["latitude"];
   lon=v["address"]["longitude"];
   cod="{v['cod']}‡∏ø";
   phone="+{v['phone']}";
   income="{v['income']}‡∏ø";
   distance=round(order["route"]["all"][i]["distance"]*100)/100000;
   distance=toNumber("{distance,numberformat,0.0}")+"km";


   if(order["route"]["all"][i]["location_type"]==1) {

      weight=round(v["parcel"]["weight"]*1000)/1000000;
      description="{address} |\n\n‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≠‡∏á‡∏≤‡∏ô: {income}\n‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏à‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ: {distance}";

      adds=newList(
      "{id}_SHOP",color_shop,lat,lon,
      "{de}-{count} | {weight}kg | {cod}\n{name}",
      description,color_shop,phone,"",457,"","","","","");

   } else {

      cust_id=cust_id+1;
      if(cust_id&gt;=2) {mark=1325+cust_id;} else {mark=1325}
      description="{address} |\n\n‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: {name}\n‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≠‡∏á‡∏≤‡∏ô: {income}\n‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏à‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ: {distance}";

      adds=newList(
      "{id}_CUST",color_cust,lat,lon,
      "{count} | {cod}\n{name}",
      description,color_cust,phone,"",mark,"","","","","");
   }
   W=W+"{adds,listformat,comma}"+"\n";
}</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>BASE-XML </name>
    <script>/*"&lt;?xml version='1.0' encoding='UTF-8' ?&gt;"
"&lt;kml"
"	xmlns="http://www.opengis.net/kml/2.2""
"	xmlns:gx="http://www.google.com/kml/ext/2.2"&gt;"
"	&lt;Document&gt;"
"		&lt;name&gt;TEST678&lt;/name&gt;"
"		&lt;Style id="mm_folder_color_2"&gt;"
"			&lt;IconStyle&gt;"
"				&lt;color&gt;ff889600&lt;/color&gt;"
"				&lt;colorMode&gt;normal&lt;/colorMode&gt;"
"				&lt;scale&gt;1&lt;/scale&gt;"
"			&lt;/IconStyle&gt;"
"			&lt;LineStyle&gt;"
"				&lt;color&gt;ff889600&lt;/color&gt;"
"				&lt;width&gt;4&lt;/width&gt;"
"			&lt;/LineStyle&gt;"
"			&lt;PolyStyle&gt;"
"				&lt;color&gt;ff889600&lt;/color&gt;"
"			&lt;/PolyStyle&gt;"
"		&lt;/Style&gt;"
*/




/*
"		&lt;Folder id="2"&gt;"
"			&lt;styleUrl&gt;#mm_folder_color_2&lt;/styleUrl&gt;"
"			&lt;name&gt;1_CUST&lt;/name&gt;"
"			&lt;ExtendedData&gt;"
"				&lt;Data name="com_exlyo_mapmarker_piniconcode"&gt;"
"					&lt;value&gt;-1&lt;/value&gt;"
"				&lt;/Data&gt;"
"				&lt;Data name="com_exlyo_mapmarker_customfields"&gt;"
"					&lt;value&gt;[]&lt;/value&gt;"
"				&lt;/Data&gt;"
"			&lt;/ExtendedData&gt;"
"			&lt;Style id="mm_marker_color_8"&gt;"
"				&lt;IconStyle&gt;"
"					&lt;color&gt;ff889600&lt;/color&gt;"
"					&lt;colorMode&gt;normal&lt;/colorMode&gt;"
"					&lt;scale&gt;1&lt;/scale&gt;"
"				&lt;/IconStyle&gt;"
"				&lt;LineStyle&gt;"
"					&lt;color&gt;ff889600&lt;/color&gt;"
"					&lt;width&gt;4&lt;/width&gt;"
"				&lt;/LineStyle&gt;"
"				&lt;PolyStyle&gt;"
"					&lt;color&gt;ff889600&lt;/color&gt;"
"				&lt;/PolyStyle&gt;"
"			&lt;/Style&gt;"
*/


cust_no="1";
cust_name="Ball\nland";
cust_description="xxx\nyyt";
cust_phone="";
cust_lonlat="100.42121,13.702702";
cust_icon="1325";
cust_color="ff889600";

placemark_customer=
'			&lt;Style id="mm_marker_color_'+cust_no+'"&gt;'+"\n"+
"				&lt;IconStyle&gt;"+"\n"+
"					&lt;color&gt;{cust_color}&lt;/color&gt;"+"\n"+
"					&lt;colorMode&gt;normal&lt;/colorMode&gt;"+"\n"+
"					&lt;scale&gt;1&lt;/scale&gt;"+"\n"+
"				&lt;/IconStyle&gt;"+"\n"+
"				&lt;LineStyle&gt;"+"\n"+
"					&lt;color&gt;{cust_color}&lt;/color&gt;"+"\n"+
"					&lt;width&gt;4&lt;/width&gt;"+"\n"+
"				&lt;/LineStyle&gt;"+"\n"+
"				&lt;PolyStyle&gt;"+"\n"+
"					&lt;color&gt;{cust_color}&lt;/color&gt;"+"\n"+
"				&lt;/PolyStyle&gt;"+"\n"+
"			&lt;/Style&gt;"+"\n"+
' 		&lt;Placemark id="'+cust_no+'"&gt;'+"\n"+
"				&lt;name&gt;{cust_name}&lt;/name&gt;"+"\n"+
"				&lt;description&gt;"+"\n"+
'					&lt;![CDATA[&lt;pre id="com.exlyo.mapmarker.description_p_tag"&gt;'+cust_description+"&lt;/pre&gt;]]&gt;"+"\n"+
"				&lt;/description&gt;"+"\n"+
"				&lt;phoneNumber&gt;{cust_phone}&lt;/phoneNumber&gt;"+"\n"+
"				&lt;Point&gt;"+"\n"+
"					&lt;coordinates&gt;{cust_lonlat}&lt;/coordinates&gt;"+"\n"+
"				&lt;/Point&gt;"+"\n"+
"				&lt;ExtendedData&gt;"+"\n"+
'					&lt;Data name="com_exlyo_mapmarker_piniconcode"&gt;'+"\n"+
"						&lt;value&gt;{cust_icon}&lt;/value&gt;"+"\n"+
"					&lt;/Data&gt;"+"\n"+
'					&lt;Data name="com_exlyo_mapmarker_customfields"&gt;'+"\n"+
"						&lt;value&gt;[]&lt;/value&gt;"+"\n"+
"					&lt;/Data&gt;"+"\n"+
"				&lt;/ExtendedData&gt;"+"\n"+
"				&lt;styleUrl&gt;#mm_marker_color_8&lt;/styleUrl&gt;"+"\n"+
"			&lt;/Placemark&gt;";





/*

"		&lt;Folder id="1"&gt;"
"			&lt;styleUrl&gt;#mm_folder_color_1&lt;/styleUrl&gt;"
"			&lt;name&gt;1_SHOP&lt;/name&gt;"
"			&lt;ExtendedData&gt;"
"				&lt;Data name="com_exlyo_mapmarker_piniconcode"&gt;"
"					&lt;value&gt;-1&lt;/value&gt;"
"				&lt;/Data&gt;"
"				&lt;Data name="com_exlyo_mapmarker_customfields"&gt;"
"					&lt;value&gt;[]&lt;/value&gt;"
"				&lt;/Data&gt;"
"			&lt;/ExtendedData&gt;"
"			&lt;Style id="mm_marker_color_1"&gt;"
"				&lt;IconStyle&gt;"
"					&lt;color&gt;ff2d4ded&lt;/color&gt;"
"					&lt;colorMode&gt;normal&lt;/colorMode&gt;"
"					&lt;scale&gt;1&lt;/scale&gt;"
"				&lt;/IconStyle&gt;"
"				&lt;LineStyle&gt;"
"					&lt;color&gt;ff2d4ded&lt;/color&gt;"
"					&lt;width&gt;4&lt;/width&gt;"
"				&lt;/LineStyle&gt;"
"				&lt;PolyStyle&gt;"
"					&lt;color&gt;ff2d4ded&lt;/color&gt;"
"				&lt;/PolyStyle&gt;"
"			&lt;/Style&gt;"
"			&lt;Placemark id="1"&gt;"
"				&lt;name&gt;A-1 | 4.0kg | 0‡∏ø"
"ceramic_chidee&lt;/name&gt;"
"				&lt;description&gt;"
"					&lt;![CDATA[&lt;pre id="com.exlyo.mapmarker.description_p_tag"&gt;‡∏£‡πâ‡∏≤‡∏ô‡∏à‡∏≤‡∏ô‡∏ä‡∏≤‡∏° ‡∏õ‡∏£‡∏µ‡∏ä‡∏≤ ‡πÄ‡∏ã‡∏£‡∏≤‡∏°‡∏¥‡∏Ñ ‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏õ‡∏£‡∏ì‡∏µ‡∏¢‡πå‡πÑ‡∏ó‡∏¢‡∏ô‡∏≤‡∏°‡∏´‡∏•‡∏ß‡∏á2  ‡∏ï.‡∏ó‡∏ß‡∏µ‡∏ß‡∏±‡∏í‡∏ô‡∏≤ ‡∏≠.‡∏ó‡∏ß‡∏µ‡∏ß‡∏±‡∏í‡∏ô‡∏≤ ‡∏à.‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£ 10170 |"
""
"‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≠‡∏á‡∏≤‡∏ô: 187‡∏ø"
"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏à‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ: 0.0km&lt;/pre&gt;]]&gt;"
"				&lt;/description&gt;"
"				&lt;phoneNumber&gt;+66814842054&lt;/phoneNumber&gt;"
"				&lt;Point&gt;"
"					&lt;coordinates&gt;100.35445,13.746126&lt;/coordinates&gt;"
"				&lt;/Point&gt;"
"				&lt;ExtendedData&gt;"
"					&lt;Data name="com_exlyo_mapmarker_piniconcode"&gt;"
"						&lt;value&gt;457&lt;/value&gt;"
"					&lt;/Data&gt;"
"					&lt;Data name="com_exlyo_mapmarker_customfields"&gt;"
"						&lt;value&gt;[]&lt;/value&gt;"
"					&lt;/Data&gt;"
"				&lt;/ExtendedData&gt;"
"				&lt;styleUrl&gt;#mm_marker_color_1&lt;/styleUrl&gt;"
"			&lt;/Placemark&gt;"
"		&lt;/Folder&gt;"
"	&lt;/Document&gt;"
"&lt;/kml&gt;"
*/</script>
  </action>
  <action type="control_user_interface">
    <useDefaultName>false</useDefaultName>
    <name>BTN-ACCEPT</name>
    <script>
sleep(10000);

while(getBounds("‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö(*")!=null) {

   sleep(1000);
}</script>
  </action>
  <action type="call_number">
    <useDefaultName>true</useDefaultName>
    <name>Call Number: {global_navigation[0][7]} (SIM 1)</name>
    <sim>SIM 1</sim>
    <number>{global_navigation[0][7]}</number>
    <directlyInitiateCall>true</directlyInitiateCall>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>CANCEL-ACC</name>
    <script>FILE=getExternalStorageDir()+"/Android/application/SPFDB/{global_spxdb['files']}";
CMD="SELECT * FROM order_cancel ORDER BY create_time DESC LIMIT 1";


objDb=callJavaStaticMethod("android.database.sqlite.SQLiteDatabase","openDatabase(java.lang.String,¬†android.database.sqlite.SQLiteDatabase$CursorFactory,¬†int)",FILE, null, getJavaStaticField("android.database.sqlite.SQLiteDatabase", "OPEN_READWRITE"));
objCursor=callJavaMethod(objDb,"android.database.sqlite.SQLiteDatabase","rawQuery(java.lang.String,¬†java.lang.String[])", CMD, null);
bExistRecords=callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
nFldCount=callJavaMethod(objCursor,"android.database.Cursor","getColumnCount()") - 1;
bExistRecords=callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
varSelect=newList();
nRec=0;


while (bExistRecords){

   nRec = nRec + 1;
   addElement(varSelect, newList());

   for (nCol in [0 to nFldCount]){

      sFldName = callJavaMethod(objCursor,"android.database.Cursor","getColumnName(int)", nCol);
      sFldValue = callJavaMethod(objCursor,"android.database.Cursor","getString(int)", nCol);
      nFldType = callJavaMethod(objCursor,"android.database.Cursor","getType(int)", nCol);
      sFldValue = replaceAll(sFldValue,'(\\n)',"|");
      sFldValue = replaceAll(sFldValue,"(\\')","`");

      if (nFldType == 3) {varValue = sFldValue}
      else {varValue = toNumber(sFldValue)}
      addElement(varSelect[nRec-1], varValue);
   }
   bExistRecords = callJavaMethod(objCursor,"android.database.Cursor","moveToNext()");
}


for (v in getVariableNames()) {if (NOT matches(v, "global_.*|flow_name|trigger|varSelect|sTypeOut|objDb")){removeVariable(v)};}
removeVariable("v");
removeVariable("sTypeOut");</script>
  </action>
  <action type="control_user_interface">
    <useDefaultName>false</useDefaultName>
    <name>CF-DENY</name>
    <script>while (true) {

   if(click("‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô") or clickById("com.shopee.foody.driver.th:id/positive")) {

      return
   }
   sleep(10);
}</script>
  </action>
  <action type="control_user_interface">
    <useDefaultName>false</useDefaultName>
    <name>CLEAR </name>
    <script>global_spxdb["order"]["incoming"]=newMap();</script>
  </action>
  <action type="copy_text_to_clipboard">
    <useDefaultName>true</useDefaultName>
    <name>Copy Text to Clipboard: {latlng}</name>
    <text>{latlng}</text>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>CP2</name>
    <script>cmd="cp /data/user/0/com.shopee.foody.driver.th/databases/{global_spxdb['files']}-wal /storage/emulated/0/Android/application/SPFDB &amp;&amp; cp /data/user/0/com.shopee.foody.driver.th/databases/{global_spxdb['files']}-shm /storage/emulated/0/Android/application/SPFDB &amp;&amp; cp /data/user/0/com.shopee.foody.driver.th/databases/{global_spxdb['files']} /storage/emulated/0/Android/application/SPFDB";

exec=callJavaMethod(callJavaStaticMethod("java.lang.Runtime", "getRuntime()"), "java.lang.Runtime", "exec(java.lang.String)", "su");
out=callJavaMethod(exec, "java.lang.Process", "getOutputStream()");
os=callJavaConstructor("java.io.DataOutputStream","DataOutputStream(java.io.OutputStream)",out);

callJavaMethod(os, "java.io.DataOutputStream","writeBytes(java.lang.String)",cmd);
callJavaMethod(os, "java.io.DataOutputStream", "flush()");
callJavaMethod(os, "java.io.DataOutputStream", "writeBytes(java.lang.String)", "\nexit\n");
callJavaMethod(os, "java.io.DataOutputStream", "flush()");

errorlog=callJavaMethod(callJavaConstructor("java.io.BufferedReader","BufferedReader(java.io.Reader)",callJavaConstructor("java.io.InputStreamReader","InputStreamReader(java.io.InputStream)",callJavaMethod(exec, "java.lang.Process", "getErrorStream()"))), "java.io.BufferedReader", "readLine()");

if(existsFile("/storage/emulated/0/Android/application/SPFDB/{global_spxdb['files']}")==false) {

   sqrt();
}</script>
  </action>
  <action type="init_variable_location">
    <useDefaultName>false</useDefaultName>
    <name>CURRENT-LOC</name>
    <variable>location</variable>
    <newLocation>false</newLocation>
    <provider>network</provider>
    <minimumAccuracyEnabled>false</minimumAccuracyEnabled>
    <minimumAccuracy>500</minimumAccuracy>
    <timeoutEnabled>true</timeoutEnabled>
    <timeoutMillis>60000</timeoutMillis>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>DATA-HERzE</name>
    <script>all_lon="";
all_lat="";



for (i in [0 to length(file_text)-1]) {

   if(contains(file_text[i][0],"CUST") and not contains(file_text[i][0],"FIX")) {

      all_lon=all_lon+"lon[]={file_text[i][3]},";
      all_lat=all_lat+"lat[]={file_text[i][2]},";
   }
}






encodeurl=
"key=2c9f86a98d5e41189cce2f3a70413166,"+
all_lon+
all_lat+
"cost=false,"+
"otsp=false,"+
"mode=t";</script>
  </action>
  <action type="execute_root_command">
    <useDefaultName>false</useDefaultName>
    <name>DB-SPFX</name>
    <command>cp /data/user/0/com.shopee.foody.driver.th/databases/{global_spxdb['files']}-wal /storage/emulated/0/Android/—Ç–∫–Ω—ï—É—ï—Ç—î–º/SPXDB/ &amp;&amp; cp /data/user/0/com.shopee.foody.driver.th/databases/{global_spxdb['files']}-shm /storage/emulated/0/Android/—Ç–∫–Ω—ï—É—ï—Ç—î–º/SPXDB/ &amp;&amp; cp /data/user/0/com.shopee.foody.driver.th/databases/{global_spxdb['files']} /storage/emulated/0/Android/—Ç–∫–Ω—ï—É—ï—Ç—î–º/SPXDB/</command>
    <user></user>
    <seContext></seContext>
    <workingDirectory></workingDirectory>
    <timeout>300000</timeout>
    <variableStdout>stdout</variableStdout>
    <variableStderr>stderr</variableStderr>
    <variableExitCode>exit_code</variableExitCode>
  </action>
  <action type="delete_http_request_cookies">
    <useDefaultName>false</useDefaultName>
    <name>DEL-COOKIE</name>
    <domainList>*</domainList>
  </action>
  <action type="delete_http_request_cookies">
    <useDefaultName>true</useDefaultName>
    <name>Delete HTTP Request Cookies: Domain matches https://shopee.co.th/api/v4/geo/get_poi_by_geo</name>
    <domainList>https://shopee.co.th/api/v4/geo/get_poi_by_geo</domainList>
  </action>
  <action type="input_dialog">
    <useDefaultName>false</useDefaultName>
    <name>DEST_TYPE</name>
    <title></title>
    <inputDialogType>SINGLE_CHOICE_MENU</inputDialogType>
    <prompt></prompt>
    <inputValues>{type_list,listformat,comma}</inputValues>
    <defaultValue></defaultValue>
    <titleFontSize>DEFAULT</titleFontSize>
    <promptFontSize>DEFAULT</promptFontSize>
    <fontSize>DEFAULT</fontSize>
    <timeoutEnabled>false</timeoutEnabled>
    <timeout>60000</timeout>
    <defaultValueOnTimeout></defaultValueOnTimeout>
    <showWhenLocked>false</showWhenLocked>
    <turnScreenOn>false</turnScreenOn>
    <keepScreenOn>false</keepScreenOn>
    <enlargeDialogWidth>false</enlargeDialogWidth>
    <keyboardCapitalizeSentences>false</keyboardCapitalizeSentences>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>DJ</name>
    <script>data=toJSON(newMapFromValues("input",value,
"request_type","pasting","use_case","shopee.account",
"page_session_id","c7374990-7d63-4847-8485-cb43d8825710"));</script>
  </action>
  <action type="download_url">
    <useDefaultName>true</useDefaultName>
    <name>Download URL: {staticmap} to /storage/emulated/0/Download/youx</name>
    <url>{staticmap}</url>
    <directory>/storage/emulated/0/Download</directory>
    <filename>youx</filename>
    <showProgress>true</showProgress>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>DT</name>
    <script>response=fromJSON(response);

/*
input_address
output_address
geometry
address_component
*/


lat=response["result_list"]["0"]["geometry"]["location"]["lat"];
lng=response["result_list"]["0"]["geometry"]["location"]["lng"];
latlng=lat+","+lng


</script>
  </action>
  <action type="execute_flows">
    <useDefaultName>true</useDefaultName>
    <name>Execute Flows: #22A  DENY &lt;MAINACT&gt;</name>
    <includeFlowNamePatternList>#22A  DENY &lt;MAINACT&gt;</includeFlowNamePatternList>
    <excludeFlowNamePatternList></excludeFlowNamePatternList>
    <skipDisabledFlowsWithoutError>true</skipDisabledFlowsWithoutError>
    <waitForFlowsToFinish>false</waitForFlowsToFinish>
    <returnLocalVariablesToCallingFlow>false</returnLocalVariablesToCallingFlow>
  </action>
  <action type="execute_flows">
    <useDefaultName>true</useDefaultName>
    <name>Execute Flows: #33:  LOCATION ENGINE</name>
    <includeFlowNamePatternList>#33:  LOCATION ENGINE</includeFlowNamePatternList>
    <excludeFlowNamePatternList></excludeFlowNamePatternList>
    <skipDisabledFlowsWithoutError>false</skipDisabledFlowsWithoutError>
    <waitForFlowsToFinish>false</waitForFlowsToFinish>
    <returnLocalVariablesToCallingFlow>false</returnLocalVariablesToCallingFlow>
  </action>
  <action type="execute_root_command">
    <useDefaultName>true</useDefaultName>
    <name>Execute Root Command: ls -ltr /storage/emulated/0/ in </name>
    <command>ls -ltr /storage/emulated/0/</command>
    <user></user>
    <seContext></seContext>
    <workingDirectory></workingDirectory>
    <timeout>300000</timeout>
    <variableStdout>stdout</variableStdout>
    <variableStderr>stderr</variableStderr>
    <variableExitCode>exit_code</variableExitCode>
  </action>
  <action type="execute_root_command">
    <useDefaultName>true</useDefaultName>
    <name>Execute Root Command: screencap -p /storage/emulated/0/Android/application/SPFDB/SCREENSHOT/{time}.png in </name>
    <command>screencap -p /storage/emulated/0/Android/application/SPFDB/SCREENSHOT/{time}.png</command>
    <user></user>
    <seContext></seContext>
    <workingDirectory></workingDirectory>
    <timeout>300000</timeout>
    <variableStdout>stdout</variableStdout>
    <variableStderr>stderr</variableStderr>
    <variableExitCode>exit_code</variableExitCode>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>FIL</name>
    <script>stdout=split(stdout,"\n");


for (i in [0 to length(stdout)-1]){

   if(contains(stdout[i],"user") and not contains(stdout[i],"_-1")) {

      stdout[i]=replaceAll(stdout[i],"-.*","");
      global_spxdb["files"]=stdout[i];
      return
   }
}</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>FILTER 5A</name>
    <script>route=newMapFromValues("all", newList(),"shop",newList(),"customer",
newList(),"batch_shop",newList(),"batch_customer",newList());
laglon_customer="";
laglon_shop="";
laglon_batch_customer="";
laglon_batch_shop="";
ongoing=false;

batch_shop=newList();
batch_customer=newList();



for (li in [0 to length(varSelect)-1]) {

   income=db_assign["driver_delivery_order"]["total_shipping_fee"]/100000;
   if(db_assign["deliveries"][0]["service_type"]==1) {type="‡∏≠‡∏≤‡∏´‡∏≤‡∏£";} else {type="‡∏û‡∏±‡∏™‡∏î‡∏∏";}


   if(type=="‡∏û‡∏±‡∏™‡∏î‡∏∏") {
         
      for (i in [0 to length(db_assign["driver_delivery_order"]["routes"])-1]) {
     
         tg=db_assign["driver_delivery_order"]["routes"][i];
     
         if(db_assign["driver_delivery_order"]["routes"][i]["location_type"]==1) {

            for (ii in [0 to length(db_assign["deliveries"])-1]) {
            
               if(tg["delivery_order_id"]==db_assign["deliveries"][ii]["delivery_order"]["delivery_order_id"]) {

                  deliveries=db_assign["deliveries"][ii]["delivery_order"];         
                  tg["details"]=newMapFromValues(
                  "name",deliveries["pickup_address"]["name"],
                  "phone",deliveries["pickup_address"]["phone"],
                  "address",deliveries["pickup_address"]["location"],
                  "parcel",deliveries["delivery_package"]["weight"]/1000,
                  "cod",deliveries["dropoff_cash_transaction"]["cash_amount"]/100000,
                  "income",deliveries["income"]/100000);


                  addElement(batch_shop,tg);
                  laglon_batch_shop=laglon_batch_shop+"{tg['details']['address']['latitude']},{tg['details']['address']['longitude']}|";

                  

                  break
               }
            } 
        
            if(length(db_assign["ongoing_deliveries"])&gt;=1) {
                  
               ongoing=true;
            
               for (ii in [0 to length(db_assign["ongoing_deliveries"])-1]) {
            
                  if(tg["delivery_order_id"]==db_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_order_id"]) {

                     deliveries=db_assign["ongoing_deliveries"][ii]["delivery_order"];         
                     tg["details"]=newMapFromValues(
                     "name",deliveries["pickup_address"]["name"],
                     "phone",deliveries["pickup_address"]["phone"],
                     "address",deliveries["pickup_address"]["location"],
                     "parcel",deliveries["delivery_package"]["weight"]/1000,
                     "cod",deliveries["dropoff_cash_transaction"]["cash_amount"]/100000,
                     "income",deliveries["income"]/100000);
                     
                                          break
                  }
               } 
            }  

            addElement(route["shop"],tg);
            laglon_shop=laglon_shop+"{tg['details']['address']['latitude']},{tg['details']['address']['longitude']}|"

         } else {   
            
            for (ii in [0 to length(db_assign["deliveries"])-1]) {

               if(tg["delivery_order_id"]==db_assign["deliveries"][ii]["delivery_order"]["delivery_order_id"]) {
               
                  deliveries=db_assign["deliveries"][ii]["delivery_order"];
                  tg["details"]=newMapFromValues(
                  "name",deliveries["delivery_address"]["name"],
                  "phone",deliveries["delivery_address"]["phone"],
                  "address",deliveries["delivery_address"]["location"],
                  "parcel",deliveries["delivery_package"]["weight"],
                  "cod",deliveries["dropoff_cash_transaction"]["cash_amount"]/100000,
                  "income",deliveries["income"]/100000);
addElement(batch_customer,tg);
  laglon_batch_customer=laglon_batch_customer+
"{tg['details']['address']['latitude']},{tg['details']['address']['longitude']}|";
                  break
               }

               if(length(db_assign["ongoing_deliveries"])&gt;=1) {
               for (ii in [0 to length(db_assign["ongoing_deliveries"])-1]) {

                  ongoing=true;

                  if(tg["delivery_order_id"]==db_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_order_id"]) {
               
                     deliveries=db_assign["ongoing_deliveries"][ii]["delivery_order"];
                     tg["details"]=newMapFromValues(
                     "name",deliveries["delivery_address"]["name"],
                     "phone",deliveries["delivery_address"]["phone"],
                     "address",deliveries["delivery_address"]["location"],
                     "parcel",deliveries["delivery_package"]["weight"],
                     "cod",deliveries["dropoff_cash_transaction"]["cash_amount"]/100000,
                     "income",deliveries["income"]/100000);
                                     break
                  }
               }
            }
         }
addElement(route["customer"],tg);
laglon_customer=laglon_customer+
"{tg['details']['address']['latitude']},{tg['details']['address']['longitude']}|"
      }
 addElement(route["all"],tg)
      }
   }
}


if(length(batch_customer)!=0) {


   route["batch_shop"]=batch_shop;
   route["batch_customer"]=batch_customer;

}





order=newMapFromValues(
"key",varSelect[0][0],
"type",type,
"ongoing",ongoing,
"income",income,
"route",route
);


//global_spxdb["order"]["incoming"]=order</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>FILTER X4+CC</name>
    <script>












route=newMapFromValues("all",newList(),"shop",newList(),"customer",newList(),"batch",newList());
ongoing=false;









for (li in [0 to length(db1_assign)-1]) {

   
  
   income=db1_assign["driver_delivery_order"]["total_shipping_fee"]/100000;

   if(db1_assign["deliveries"][0]["service_type"]==1) {type="‡∏≠‡∏≤‡∏´‡∏≤‡∏£";} 
                                                 else {type="‡∏û‡∏±‡∏™‡∏î‡∏∏";}

   if(type=="‡∏û‡∏±‡∏™‡∏î‡∏∏") {
         
      for (i in [0 to length(db1_assign["driver_delivery_order"]["routes"])-1]) {
            
         if(db1_assign["driver_delivery_order"]["routes"][i]["location_type"]==1) {
            
            tg=db1_assign["driver_delivery_order"]["routes"][i];
            for (ii in [0 to length(db1_assign["deliveries"])-1]) {
            
               if(tg["delivery_order_id"]==db1_assign["deliveries"][ii]["delivery_order"]["delivery_order_id"]) {

                  tg["details"]=newMapFromValues(
                  "name",db1_assign["deliveries"][ii]["delivery_order"]["pickup_address"]["name"],
                  "phone",db1_assign["deliveries"][ii]["delivery_order"]["pickup_address"]["phone"],
                  "address",db1_assign["deliveries"][ii]["delivery_order"]["pickup_address"]["location"],
                  "parcel",db1_assign["deliveries"][ii]["delivery_order"]["delivery_package"],
                  "cod",db1_assign["deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000,
                  "income",db1_assign["deliveries"][ii]["delivery_order"]["income"]/100000);
                  break
               }
            } 
        
            if(length(db1_assign["ongoing_deliveries"])&gt;=1) {

               ongoing=true;
            
               for (ii in [0 to length(db1_assign["ongoing_deliveries"])-1]) {
            
                  if(tg["delivery_order_id"]==db1_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_order_id"]) {

                     tg["details"]=newMapFromValues(
                     "name",db1_assign["ongoing_deliveries"][ii]["delivery_order"]["pickup_address"]["name"],
                     "phone",db1_assign["ongoing_deliveries"][ii]["delivery_order"]["pickup_address"]["phone"],
                     "address",db1_assign["ongoing_deliveries"][ii]["delivery_order"]["pickup_address"]["location"],
                     "parcel",db1_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_package"],
                     "cod",db1_assign["ongoing_deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000,
                     "income",db1_assign["ongoing_deliveries"][ii]["delivery_order"]["income"]/100000);
                     break
                  }
               } 
            }  
            addElement(route["shop"],tg) 
         } else {
         
            tg=db1_assign["driver_delivery_order"]["routes"][i];
            for (ii in [0 to length(db1_assign["deliveries"])-1]) {

               if(tg["delivery_order_id"]==db1_assign["deliveries"][ii]["delivery_order"]["delivery_order_id"]) {
               
                  tg["details"]=newMapFromValues(
                  "name",db1_assign["deliveries"][ii]["delivery_order"]["delivery_address"]["name"],
                  "phone",db1_assign["deliveries"][ii]["delivery_order"]["delivery_address"]["phone"],
                  "address",db1_assign["deliveries"][ii]["delivery_order"]["delivery_address"]["location"],
                  "cod",db1_assign["deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000,
                  "income",db1_assign["deliveries"][ii]["delivery_order"]["income"]/100000);
                  break
               }

               if(length(db1_assign["ongoing_deliveries"])&gt;=1) {
               for (ii in [0 to length(db1_assign["ongoing_deliveries"])-1]) {

                  ongoing=true;

                  if(tg["delivery_order_id"]==db1_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_order_id"]) {
               
                     tg["details"]=newMapFromValues(
                     "name",db1_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_address"]["name"],
                     "phone",db1_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_address"]["phone"],
                     "address",db1_assign["ongoing_deliveries"][ii]["delivery_order"]["delivery_address"]["location"],
                     "cod",db1_assign["ongoing_deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000,
                     "income",db1_assign["ongoing_deliveries"][ii]["delivery_order"]["income"]/100000);
                     break
                  }
               }
               }

         }
 addElement(route["customer"], tg)
      } addElement(route["all"],tg);log(income);
      }
   }
}











removeDuplicateElements(route["all"]);



order=newMapFromValues(
"time", getDate(),
"type",type,
"ongoing",ongoing,
"income",income,
"route",route
);







/*


for (i in [0 to length(db2_cancel)-1]) {

   for (ix in [0 to length(order["route"]["all"])-1]) {

      if(contains(order["route"]["all"][ix]["delivery_order_id"],db2_cancel[i][0])) {

      order["route"]["all"][ix]=null;
      
      }
   }
}

removeElementValue(order["route"]["all"], null);

*/

//global_spxdb["order"]["incoming"]=order</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>FILTER-</name>
    <script>route=newMapFromValues("all", newList(),"shop",newList(),"customer",newList(),"batch",newList());
ongoing=false;
laglon_shop="";
laglon_customer="";







for (li in [0 to length(varSelect)-1]) {

   
   db=fromJSON(varSelect[li][3]);
   income=db["driver_delivery_order"]["total_shipping_fee"]/100000;


   if(db["deliveries"][0]["service_type"]==1) {type="‡∏≠‡∏≤‡∏´‡∏≤‡∏£";} 
                                         else {type="‡∏û‡∏±‡∏™‡∏î‡∏∏";}

   if(type=="‡∏û‡∏±‡∏™‡∏î‡∏∏") {
         
      for (i in [0 to length(db["driver_delivery_order"]["routes"])-1]) {
            
         if(db["driver_delivery_order"]["routes"][i]["location_type"]==1) {
            
            tg=db["driver_delivery_order"]["routes"][i];
            for (ii in [0 to length(db["deliveries"])-1]) {
            
               if(tg["delivery_order_id"]==db["deliveries"][ii]["delivery_order"]["delivery_order_id"]) {

                  tg["details"]=newMapFromValues(
                  "name",db["deliveries"][ii]["delivery_order"]["pickup_address"]["name"],
                  "phone",db["deliveries"][ii]["delivery_order"]["pickup_address"]["phone"],
                  "address",db["deliveries"][ii]["delivery_order"]["pickup_address"]["location"],
                  "parcel",db["deliveries"][ii]["delivery_order"]["delivery_package"],
                  "income",db["deliveries"][ii]["delivery_order"]["income"]/100000);
                  break
               }
            } 
        
            if(length(db["ongoing_deliveries"])&gt;=1) {

               ongoing=true;
            
               for (ii in [0 to length(db["ongoing_deliveries"])-1]) {
            
                  if(tg["delivery_order_id"]==db["ongoing_deliveries"][ii]["delivery_order"]["delivery_order_id"]) {

                     tg["details"]=newMapFromValues(
                     "name",db["ongoing_deliveries"][ii]["delivery_order"]["pickup_address"]["name"],
                     "phone",db["ongoing_deliveries"][ii]["delivery_order"]["pickup_address"]["phone"],
                     "address",db["ongoing_deliveries"][ii]["delivery_order"]["pickup_address"]["location"],
                     "parcel",db["ongoing_deliveries"][ii]["delivery_order"]["delivery_package"],
                     "income",db["ongoing_deliveries"][ii]["delivery_order"]["income"]/100000);
                     break
                  }
               } 
            }  
            addElement(route["shop"],tg) ;

            laglon_shop=laglon_shop+
"{tg['details']['address']['latitude']},{tg['details']['address']['longitude']}|"
















         } else {
         
            tg=db["driver_delivery_order"]["routes"][i];
            for (ii in [0 to length(db["deliveries"])-1]) {

               if(tg["delivery_order_id"]==db["deliveries"][ii]["delivery_order"]["delivery_order_id"]) {
               
                  tg["details"]=newMapFromValues(
                  "name",db["deliveries"][ii]["delivery_order"]["delivery_address"]["name"],
                  "phone",db["deliveries"][ii]["delivery_order"]["delivery_address"]["phone"],
                  "address",db["deliveries"][ii]["delivery_order"]["delivery_address"]["location"],
                  "cod",db["deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000,
                  "income",db["deliveries"][ii]["delivery_order"]["income"]/100000);
                  break
               }

               if(length(db["ongoing_deliveries"])&gt;=1) {
               for (ii in [0 to length(db["ongoing_deliveries"])-1]) {

                  ongoing=true;

                  if(tg["delivery_order_id"]==db["ongoing_deliveries"][ii]["delivery_order"]["delivery_order_id"]) {
               
                     tg["details"]=newMapFromValues(
                     "name",db["ongoing_deliveries"][ii]["delivery_order"]["delivery_address"]["name"],
                     "phone",db["ongoing_deliveries"][ii]["delivery_order"]["delivery_address"]["phone"],
                     "address",db["ongoing_deliveries"][ii]["delivery_order"]["delivery_address"]["location"],
                     "cod",db["ongoing_deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000,
                     "income",db["ongoing_deliveries"][ii]["delivery_order"]["income"]/100000);
                     break
                  }
               }
               }











         }
 addElement(route["customer"], tg);


laglon_customer=laglon_customer+
"{tg['details']['address']['latitude']},{tg['details']['address']['longitude']}|"

      } addElement(route["all"],tg)
      }
   }
}


laglon_shop=left(laglon_shop, length(laglon_shop)-1);
laglon_customer=left(laglon_customer, length(laglon_customer)-1);





staticmap=
"http://mmmap15.longdo.com/mmmap/snippet/?map=epsg3857&amp;locale=th&amp;height=500&amp;width=500&amp;"+
"marker=position:{laglon_shop};icon:http://mmmap15.longdo.com/mmmap/images/icons_big/bank.png&amp;"+
"marker=position:{laglon_customer};"+
"offsetX:center;offsetY:bottom";






order=newMapFromValues(
"time", getDate(),
"type",type,
"ongoing",ongoing,
"income",income,
"route",route
);


global_spxdb["order"]["incoming"]=order</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>FILTER-nnn</name>
    <script>for (li in [0 to length(varSelect)-1]) {

   
   db=fromJSON(varSelect[li][3]);
   income=db["driver_delivery_order"]["total_shipping_fee"]/100000;


   if(db["deliveries"][li]["service_type"]==2) {type="‡∏≠‡∏≤‡∏´‡∏≤‡∏£";} 
                                         






   if(type=="‡∏û‡∏±‡∏™‡∏î‡∏∏") {
         
      for (i in [0 to length(db["driver_delivery_order"]["routes"])-1]) {
            
         if(db["driver_delivery_order"]["routes"][i]["location_type"]==1) {
            
            tg=db["driver_delivery_order"]["routes"][i];
            for (ii in [0 to length(db["deliveries"])-1]) {
            
               if(tg["delivery_order_id"]==db["deliveries"][ii]["delivery_order"]["delivery_order_id"]) {

                  tg["details"]=newMapFromValues(
                  "name",db["deliveries"][ii]["delivery_order"]["pickup_address"]["name"],
                  "phone",db["deliveries"][ii]["delivery_order"]["pickup_address"]["phone"],
                  "address",db["deliveries"][ii]["delivery_order"]["pickup_address"]["location"],
                  "parcel",db["deliveries"][ii]["delivery_order"]["delivery_package"],
                  "income",db["deliveries"][ii]["delivery_order"]["income"]/100000);
                  break
               }
            } 
        
            if(length(db["ongoing_deliveries"])&gt;=1) {

               ongoing=true;
            
               for (ii in [0 to length(db["ongoing_deliveries"])-1]) {
            
                  if(tg["delivery_order_id"]==db["ongoing_deliveries"][ii]["delivery_order"]["delivery_order_id"]) {

                     tg["details"]=newMapFromValues(
                     "name",db["ongoing_deliveries"][ii]["delivery_order"]["pickup_address"]["name"],
                     "phone",db["ongoing_deliveries"][ii]["delivery_order"]["pickup_address"]["phone"],
                     "address",db["ongoing_deliveries"][ii]["delivery_order"]["pickup_address"]["location"],
                     "parcel",db["ongoing_deliveries"][ii]["delivery_order"]["delivery_package"],
                     "income",db["ongoing_deliveries"][ii]["delivery_order"]["income"]/100000);
                     break
                  }
               } 
            }  
            addElement(route["shop"],tg) 
         } else {
         
            tg=db["driver_delivery_order"]["routes"][i];
            for (ii in [0 to length(db["deliveries"])-1]) {

               if(tg["delivery_order_id"]==db["deliveries"][ii]["delivery_order"]["delivery_order_id"]) {
               
                  tg["details"]=newMapFromValues(
                  "name",db["deliveries"][ii]["delivery_order"]["delivery_address"]["name"],
                  "phone",db["deliveries"][ii]["delivery_order"]["delivery_address"]["phone"],
                  "address",db["deliveries"][ii]["delivery_order"]["delivery_address"]["location"],
                  "cod",db["deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000,
                  "income",db["deliveries"][ii]["delivery_order"]["income"]/100000);
                  break
               }

               if(length(db["ongoing_deliveries"])&gt;=1) {
               for (ii in [0 to length(db["ongoing_deliveries"])-1]) {

                  ongoing=true;

                  if(tg["delivery_order_id"]==db["ongoing_deliveries"][ii]["delivery_order"]["delivery_order_id"]) {
               
                     tg["details"]=newMapFromValues(
                     "name",db["ongoing_deliveries"][ii]["delivery_order"]["delivery_address"]["name"],
                     "phone",db["ongoing_deliveries"][ii]["delivery_order"]["delivery_address"]["phone"],
                     "address",db["ongoing_deliveries"][ii]["delivery_order"]["delivery_address"]["location"],
                     "cod",db["ongoing_deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000,
                     "income",db["ongoing_deliveries"][ii]["delivery_order"]["income"]/100000);
                     break
                  }
               }
               }











         }
 addElement(route["customer"], tg)
      } addElement(route["all"],tg)
      }
   }
}
















order=newMapFromValues(
"time", getDate(),
"type",type,
"ongoing",ongoing,
"income",income,
"route",route
);


global_spxdb["order"]["incoming"]=order</script>
  </action>
  <action type="control_user_interface">
    <useDefaultName>false</useDefaultName>
    <name>FIND CONTENT?</name>
    <script>for (i in [14 to 50]){

   if(contains(getContentDescriptionByIdAndIndex("", i),"‡∏ø")) {

      name=getContentDescriptionByIdAndIndex("", i);
      return;}

   else if(i==50 and name==null) {

      sqrt()
   }
}</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>FIXELEMENT</name>
    <script>if(contains(result[0][0],"FIX")) {

   index=1;
   alter=0;}

else {

   index=0;
   alter=1;
}



for (i in [0 to length(result[index])-1]) {

   if(contains(result[index][i],'+66')) {

      result[index]=removeElements(result[index], 0, i+1);
      break
   }
}

addElement(result[index], newList(result[alter][2],result[alter][3]));
result[index][4]=replaceAll(result[index][4],"\n"," ");
result[index][5]=split(result[index][5],"\\|")[0];

addElement(global_navigation,removeElementValue(result[0],""));</script>
  </action>
  <action type="message_dialog">
    <useDefaultName>false</useDefaultName>
    <name>FOOD-RP</name>
    <title>üçù  ‡∏ï‡∏£‡∏á‡∏û‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡∏±‡∏≠‡∏°‡∏π‡∏•: ‡∏≠‡∏≤‡∏´‡∏≤‡∏£ - FOOD </title>
    <message></message>
    <buttonLabel></buttonLabel>
    <timeoutEnabled>false</timeoutEnabled>
    <timeout>60000</timeout>
  </action>
  <action type="http_request">
    <useDefaultName>false</useDefaultName>
    <name>GEOAPIFY
(TSP)</name>
    <url>https://api.geoapify.com/v1/routeplanner?apiKey=a9ebe60151e245fba58b5cb5b5ae09d7</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>POST</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>GENERAL_TEXT</httpContentType>
    <contentType>application/json</contentType>
    <generalTextData>{route}</generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>false</setCustomHTTPHeaders>
    <customHTTPHeaders>apiKey: a9ebe60151e245fba58b5cb5b5ae09d7</customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>response</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="http_request">
    <useDefaultName>false</useDefaultName>
    <name>HERE API 
(TSP)</name>
    <url>https://wps.hereapi.com/v8/findsequence2?{route}</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>POST</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>X_WWW_FORM_URLENCODED</httpContentType>
    <contentType>application/json</contentType>
    <generalTextData>{route}</generalTextData>
    <formFieldList></formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>false</setCustomHTTPHeaders>
    <customHTTPHeaders>Authorization: Bearer hHZRpkyx7PQs7ZGFlg29B1IcmhjY84RGx_4rdnKEVRg</customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>response</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>HERE PARAMETER</name>
    <script>x=0;
route=
"start={lat_start},{lon_start}&amp;"+
"end={lat_end},{lon_end}&amp;"+
"departure=now&amp;"+
"mode=shortest;car;traffic:disabled;motorway:-2,tollroad:-2&amp;";


for (i in [0 to length(file_text)-1]) {

   if(contains(file_text[i][0],"CUST") and not contains(file_text[i][0],"FIX")) {

      x=x+1;
      route=route+"destination{x}="+"{file_text[i][2]},{file_text[i][3]}"+"&amp;"
   }
}


route=route+"apiKey=nt9ob12ZKWo0hPk18-wL3_KmUtCTtuQT0KwRCUvBIR0";</script>
  </action>
  <action type="hide_custom_widget_overlay">
    <useDefaultName>true</useDefaultName>
    <name>Hide Custom Widget Overlay: SPF_ROUTE_MINIMIZE</name>
    <overlayNames>SPF_ROUTE_MINIMIZE</overlayNames>
  </action>
  <action type="hide_custom_widget_overlay">
    <useDefaultName>true</useDefaultName>
    <name>Hide Custom Widget Overlay: SPF_ROUTE_STATUSBAR</name>
    <overlayNames>SPF_ROUTE_STATUSBAR</overlayNames>
  </action>
  <action type="hide_custom_widget_overlay">
    <useDefaultName>false</useDefaultName>
    <name>HIDE DENY,DETAIL</name>
    <overlayNames>SPF_INCOMING_DENY,SPF_INCOMING_DETAIL</overlayNames>
  </action>
  <action type="http_request">
    <useDefaultName>false</useDefaultName>
    <name>HTTP
AUTOFILL</name>
    <url>https://mall.shopee.co.th/api/v4/account/address/autofill</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>POST</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>GENERAL_TEXT</httpContentType>
    <contentType>application/json</contentType>
    <generalTextData>{data}</generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>true</setCustomHTTPHeaders>
    <customHTTPHeaders>referer: https://mall.shopee.co.th/
x-csrftoken: A31DX9wSS0x4pReMclNLOSDHdhtACJuy
cookie: shopee_token=EAtZJYAIHYKePkJaxpb2IdhTiDvPbWtf7ifXbm2c5SG/4KHYDOJdOgpTUrw+V3LDWqeqGMYtYLgcoEbqDUzP2Mg=; csrftoken=A31DX9wSS0x4pReMclNLOSDHdhtACJuy</customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>autofill</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="http_request">
    <useDefaultName>false</useDefaultName>
    <name>HTTP
GEOCODE</name>
    <url>https://mall.shopee.co.th/api/v4/geo/geocode_v2</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>POST</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>GENERAL_TEXT</httpContentType>
    <contentType>application/json</contentType>
    <generalTextData>{kut}</generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>true</setCustomHTTPHeaders>
    <customHTTPHeaders>referer: https://mall.shopee.co.th/
x-csrftoken: A31DX9wSS0x4pReMclNLOSDHdhtACJuy
cookie: shopee_token=EDZgG8Wn73Ks2NNYykVsWydXSF4zSB5+TTECHKR8OGZ52rH8Jr76RWPznl9GhQ7CtV3jN6fsnsvN7K2FJSag9Ms=; csrftoken=A31DX9wSS0x4pReMclNLOSDHdhtACJuy



</customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>geo</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="http_request">
    <useDefaultName>true</useDefaultName>
    <name>HTTP Request: GET https://mall.shopee.co.th/api/v4/geo/autocomplete?city={city}&amp;components=country%3ATH&amp;district={district}&amp;input={input}&amp;sessiontoken=d1157d8d-55e9-4ed8-9697-21826590124d&amp;state={state}&amp;use_case=marketplace.checkout&amp;user_lat=13.7177965&amp;user_lng=100.3443447&amp;zipcode={zip}   store in response</name>
    <url>https://mall.shopee.co.th/api/v4/geo/autocomplete?city={city}&amp;components=country%3ATH&amp;district={district}&amp;input={input}&amp;sessiontoken=d1157d8d-55e9-4ed8-9697-21826590124d&amp;state={state}&amp;use_case=marketplace.checkout&amp;user_lat=13.7177965&amp;user_lng=100.3443447&amp;zipcode={zip}</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>GET</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>X_WWW_FORM_URLENCODED</httpContentType>
    <contentType>text/plain</contentType>
    <generalTextData></generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>true</setCustomHTTPHeaders>
    <customHTTPHeaders>referer: https://mall.shopee.co.th/
client-request-id: 7919496b-ee96-4951-866a-71436e5b11ed.740
x-shopee-client-timezone: Asia/Bangkok
Accept-Encoding: gzip, deflate, br
User-Agent: Android app Shopee appver=34424 app_type=1 platform=native_android os_ver=35 Cronet/102.0.5005.61</customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>response</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="http_request">
    <useDefaultName>true</useDefaultName>
    <name>HTTP Request: GET https://mall.shopee.co.th/api/v4/geo/details?components=country%3ATH&amp;fields=formatted_address%2Cgeometry&amp;group=DS&amp;placeid={loc_id}&amp;sessiontoken=d1157d8d-55e9-4ed8-9697-21826590124d&amp;use_case=marketplace.checkout   store in response</name>
    <url>https://mall.shopee.co.th/api/v4/geo/details?components=country%3ATH&amp;fields=formatted_address%2Cgeometry&amp;group=DS&amp;placeid={loc_id}&amp;sessiontoken=d1157d8d-55e9-4ed8-9697-21826590124d&amp;use_case=marketplace.checkout</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>GET</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>X_WWW_FORM_URLENCODED</httpContentType>
    <contentType>text/plain</contentType>
    <generalTextData></generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>true</setCustomHTTPHeaders>
    <customHTTPHeaders>referer: https://mall.shopee.co.th/
client-request-id: 7919496b-ee96-4951-866a-71436e5b11ed.740
x-shopee-client-timezone: Asia/Bangkok
Accept-Encoding: gzip, deflate, br
User-Agent: Android app Shopee appver=34424 app_type=1 platform=native_android os_ver=35 Cronet/102.0.5005.61</customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>response</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="http_request">
    <useDefaultName>true</useDefaultName>
    <name>HTTP Request: POST https://api.openrouteservice.org/optimization application/json {route} store in response</name>
    <url>https://api.openrouteservice.org/optimization</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>POST</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>GENERAL_TEXT</httpContentType>
    <contentType>application/json</contentType>
    <generalTextData>{route}</generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>true</setCustomHTTPHeaders>
    <customHTTPHeaders>Authorization: Bearer 5b3ce3597851110001cf6248a50a304ab3b14da5875365dcc665ce0d</customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>response</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="init_variable_text_file">
    <useDefaultName>false</useDefaultName>
    <name>IMPORT CSV</name>
    <path>/storage/emulated/0/Android/application/SPFDB/LOCATION-ENGINE/2_engine.csv</path>
    <encoding>UTF-8</encoding>
    <variable>file_text</variable>
    <stripBOM>false</stripBOM>
  </action>
  <action type="init_variable_text_file">
    <useDefaultName>false</useDefaultName>
    <name>IMPORT CSVc</name>
    <path>/storage/emulated/0/zzz/decode.txt</path>
    <encoding>UTF-8</encoding>
    <variable>file_text</variable>
    <stripBOM>false</stripBOM>
  </action>
  <action type="init_variable_text_file">
    <useDefaultName>false</useDefaultName>
    <name>IMPORT CSVgg</name>
    <path>/storage/emulated/0/Android/application/SPFDB/LOCATION-ENGINE/4_allexport.csv</path>
    <encoding>UTF-8</encoding>
    <variable>file_text</variable>
    <stripBOM>false</stripBOM>
  </action>
  <action type="init_variable_text_file">
    <useDefaultName>false</useDefaultName>
    <name>IMPORT CSVX</name>
    <path>/storage/emulated/0/Android/application/SPFDB/LOCATION-ENGINE/4_allexport.csv</path>
    <encoding>UTF-8</encoding>
    <variable>file_text</variable>
    <stripBOM>false</stripBOM>
  </action>
  <action type="init_variable_location">
    <useDefaultName>false</useDefaultName>
    <name>Init Variablfde Location: last known location into location</name>
    <variable>location</variable>
    <newLocation>false</newLocation>
    <provider>network</provider>
    <minimumAccuracyEnabled>false</minimumAccuracyEnabled>
    <minimumAccuracy>500</minimumAccuracy>
    <timeoutEnabled>true</timeoutEnabled>
    <timeoutMillis>60000</timeoutMillis>
  </action>
  <action type="input_dialog">
    <useDefaultName>false</useDefaultName>
    <name>Inpubbt Dialog:  Single-line text </name>
    <title></title>
    <inputDialogType>SINGLE_LINE_TEXT</inputDialogType>
    <prompt></prompt>
    <inputValues></inputValues>
    <defaultValue></defaultValue>
    <titleFontSize>DEFAULT</titleFontSize>
    <promptFontSize>DEFAULT</promptFontSize>
    <fontSize>DEFAULT</fontSize>
    <timeoutEnabled>false</timeoutEnabled>
    <timeout>60000</timeout>
    <defaultValueOnTimeout></defaultValueOnTimeout>
    <showWhenLocked>false</showWhenLocked>
    <turnScreenOn>false</turnScreenOn>
    <keepScreenOn>false</keepScreenOn>
    <enlargeDialogWidth>false</enlargeDialogWidth>
    <keyboardCapitalizeSentences>false</keyboardCapitalizeSentences>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>J-GEO</name>
    <script>
if(contains(response,"autofill failed")) {sqrt()}
response=fromJSON(response);


kut=toJSON(newMapFromValues("use_case", "shopee.account",
"sessiontoken","c7374990-7d63-4847-8485-cb43d8825710",
"components","country:TH",
"address_list",newList(newMapFromValues(
"address", response["data"]["detailed_address"],
"address_level1",response["data"]["admin_info"]["admin_division_1"],
"address_level2",response["data"]["admin_info"]["admin_division_2"],
"address_level3",response["data"]["admin_info"]["admin_division_3"],
"zipcode",response["data"]["admin_info"]["zipcode"]
))));</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>J-GEO </name>
    <script>
if(contains(response,"autofill failed")) {sqrt()}
response=fromJSON(response);


city=response["data"]["admin_info"]["admin_division_1"];
district=response["data"]["admin_info"]["admin_division_2"];
state=response["data"]["admin_info"]["admin_division_3"];
input=response["data"]["detailed_address"];

zip=response["data"]["admin_info"]["zipcode"];</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>lEXX</name>
    <script>removeElementValue(file_text, null);

newfile="";

for (i in [0 to length(file_text)-1]) {

   file_text[i]="{file_text[i],listformat,comma}";
   newfile=newfile+file_text[i]+"\n";
}

file_text=csv_original;
newfile=file_text+newfile</script>
  </action>
  <action type="execute_root_command">
    <useDefaultName>false</useDefaultName>
    <name>LIST</name>
    <command>ls data/user/0/com.shopee.foody.driver.th/databases/</command>
    <user></user>
    <seContext></seContext>
    <workingDirectory></workingDirectory>
    <timeout>300000</timeout>
    <variableStdout>stdout</variableStdout>
    <variableStderr>stderr</variableStderr>
    <variableExitCode>exit_code</variableExitCode>
  </action>
  <action type="http_request">
    <useDefaultName>false</useDefaultName>
    <name>LONGDO
(TSP)</name>
    <url>https://api.longdo.com/route-tsp-v2</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>POST</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>X_WWW_FORM_URLENCODED</httpContentType>
    <contentType>text/plain</contentType>
    <generalTextData></generalTextData>
    <formFieldList>{encodeurl}</formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>false</setCustomHTTPHeaders>
    <customHTTPHeaders></customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>response</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="http_request">
    <useDefaultName>false</useDefaultName>
    <name>LONGDO API</name>
    <url>https://api.longdo.com/map/services/address?lon={lon}&amp;lat={lat}&amp;noelevation=1&amp;key=2c9f86a98d5e41189cce2f3a70413166</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>GET</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>X_WWW_FORM_URLENCODED</httpContentType>
    <contentType>text/plain</contentType>
    <generalTextData></generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>false</setCustomHTTPHeaders>
    <customHTTPHeaders></customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>responsexx</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="http_request">
    <useDefaultName>false</useDefaultName>
    <name>LONGDO API </name>
    <url>https://api.longdo.com/map/services/address?lon=100.237465&amp;lat=13.644777&amp;noelevation=1&amp;key=2c9f86a98d5e41189cce2f3a70413166</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>GET</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>X_WWW_FORM_URLENCODED</httpContentType>
    <contentType>text/plain</contentType>
    <generalTextData></generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>false</setCustomHTTPHeaders>
    <customHTTPHeaders></customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>responsexx</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="message_dialog">
    <useDefaultName>true</useDefaultName>
    <name>Message Dialog: ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á {name} {city} {district} {subdt} {zipcode}</name>
    <title>‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</title>
    <message>{name}
{city}
{district}
{subdt}
{zipcode}</message>
    <buttonLabel></buttonLabel>
    <timeoutEnabled>false</timeoutEnabled>
    <timeout>60000</timeout>
  </action>
  <action type="hide_custom_widget_overlay">
    <useDefaultName>false</useDefaultName>
    <name>MM-HIDE</name>
    <overlayNames>MAP-MARKER_RECORD</overlayNames>
  </action>
  <action type="show_custom_widget_overlay">
    <useDefaultName>false</useDefaultName>
    <name>MM-REC</name>
    <overlayName>MAP-MARKER_RECORD</overlayName>
    <widgetName>MAP-MARKER_RECORD</widgetName>
    <width>150</width>
    <height>150</height>
    <gravityType>BOTTOM_RIGHT</gravityType>
    <xOffset>25</xOffset>
    <yOffset>600</yOffset>
    <draggable>false</draggable>
    <opacity>1.00</opacity>
    <clickable>true</clickable>
    <stretchToFillArea>false</stretchToFillArea>
    <showOnTop>true</showOnTop>
    <noPositionRestriction>false</noPositionRestriction>
    <useAccessibilityService>true</useAccessibilityService>
  </action>
  <action type="notification_screen">
    <useDefaultName>true</useDefaultName>
    <name>Notification on Screen: üìù  ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</name>
    <showText>true</showText>
    <text>üìù  ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</text>
    <widgetName></widgetName>
    <width></width>
    <height></height>
    <stretchToFillArea>false</stretchToFillArea>
    <opacity>1.00</opacity>
    <durationLong>false</durationLong>
    <customPosition>true</customPosition>
    <gravityType>CENTER_CENTER</gravityType>
    <xOffset>0</xOffset>
    <yOffset>0</yOffset>
  </action>
  <action type="http_request">
    <useDefaultName>false</useDefaultName>
    <name>ORS
(VRP)</name>
    <url>https://api.openrouteservice.org/optimization</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>POST</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>GENERAL_TEXT</httpContentType>
    <contentType>application/json</contentType>
    <generalTextData>{route}</generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>true</setCustomHTTPHeaders>
    <customHTTPHeaders>Authorization: Bearer 5b3ce3597851110001cf6248a50a304ab3b14da5875365dcc665ce0d</customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>response</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>ORS / PAR</name>
    <script>route=newMapFromValues("jobs", newList(),"vehicles",newList(),"options", newMapFromValues("g",true));


for (i in [0 to length(file_text)-1]) {
   
   if(contains(file_text[i][0],"CUST") and not contains(file_text[i][0],"FIX")) {

      addElement(route["jobs"],newMapFromValues(
      "id", i+1,
      "service",0,
      "delivery",newList(2),
      "location",newList(
      toNumber(file_text[i][3]),
      toNumber(file_text[i][2]))));
   }
}



addElement(route["vehicles"],newMapFromValues(
"id",1,
"profile","driving-car",
"start",newList(lon_start,lat_start),
"end",newList(lon_end,lat_end),
"capacity",newList(1000)));

route=toJSON(route)</script>
  </action>
  <action type="http_request">
    <useDefaultName>false</useDefaultName>
    <name>OSMk</name>
    <url>https://nominatim.openstreetmap.org/reverse?format=jsonv2&amp;lat={lat}&amp;lon={lon}</url>
    <verifyCertificates>false</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>GET</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>X_WWW_FORM_URLENCODED</httpContentType>
    <contentType>text/plain</contentType>
    <generalTextData></generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>false</setCustomHTTPHeaders>
    <customHTTPHeaders></customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>osm</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="speech_output">
    <useDefaultName>false</useDefaultName>
    <name>OUTRANGE!!</name>
    <audioStreamType>MUSIC</audioStreamType>
    <text>‡πÄ‡∏Å‡∏¥‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î</text>
    <locale>th_TH</locale>
    <usePitch>true</usePitch>
    <pitch>1.0</pitch>
    <useSpeechRate>true</useSpeechRate>
    <speechRate>1.0</speechRate>
    <embeddedSynthesis>false</embeddedSynthesis>
    <networkSynthesis>false</networkSynthesis>
    <showStopSpeechNotification>false</showStopSpeechNotification>
    <requestAudioFocus>false</requestAudioFocus>
    <audioFocusType>TRANSIENT</audioFocusType>
  </action>
  <action type="http_request">
    <useDefaultName>false</useDefaultName>
    <name>P-AUTOFIL</name>
    <url>https://mall.shopee.co.th/api/v4/account/address/autofill</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>POST</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>GENERAL_TEXT</httpContentType>
    <contentType>application/json</contentType>
    <generalTextData>{data}</generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>true</setCustomHTTPHeaders>
    <customHTTPHeaders>referer: https://mall.shopee.co.th/
x-csrftoken: A31DX9wSS0x4pReMclNLOSDHdhtACJuy
cookie: shopee_token=EDZgG8Wn73Ks2NNYykVsWydXSF4zSB5+TTECHKR8OGZ52rH8Jr76RWPznl9GhQ7CtV3jN6fsnsvN7K2FJSag9Ms=; csrftoken=A31DX9wSS0x4pReMclNLOSDHdhtACJuy



</customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>response</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="http_request">
    <useDefaultName>false</useDefaultName>
    <name>P-GEO</name>
    <url>https://mall.shopee.co.th/api/v4/geo/geocode_v2</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>POST</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>GENERAL_TEXT</httpContentType>
    <contentType>application/json</contentType>
    <generalTextData>{kut}</generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>true</setCustomHTTPHeaders>
    <customHTTPHeaders>referer: https://mall.shopee.co.th/
x-csrftoken: A31DX9wSS0x4pReMclNLOSDHdhtACJuy
cookie: shopee_token=EDZgG8Wn73Ks2NNYykVsWydXSF4zSB5+TTECHKR8OGZ52rH8Jr76RWPznl9GhQ7CtV3jN6fsnsvN7K2FJSag9Ms=; csrftoken=A31DX9wSS0x4pReMclNLOSDHdhtACJuy



</customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>response</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="perform_action_notification_status_bar">
    <useDefaultName>false</useDefaultName>
    <name>PERFORM</name>
    <actionType>CONTENT_INTENT</actionType>
    <button>Reply</button>
    <wearableAction>Reply</wearableAction>
    <wearableActionInput>Hi!</wearableActionInput>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>POI-JSON</name>
    <script>x_lat=toNumber(o_lat);
x_lon=toNumber(o_lon);
poi=toJSON(newMapFromValues(
"lat","{x_lat}",
"lon", "{x_lon}",
"user_lat", 13.3175131,
"user_lng", 100.34525,
"use_case", "shopeefood.save_address_select",
"radius", "200",
"language", "th",
"country", "TH",
"size", 5,
"category_type", "street_address|route|intersection|neighborhood|premise|subpremise|natural_feature|airport|park|point_of_interest",
"wifi_list", newList(newMapFromValues("connection_mode", "cellular")),
"bff_meta", newMapFromValues(
"be_userid", 1434933235,
"be_userid_type", "shopee"),
"session_token", "24148600-361a-4e4c-9968-0f1f22d6284e"));</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>POLYLINE</name>
    <script>
polyline=polyline+
"      &lt;Placemark id="+'"'+id_polyline+'"&gt;"'+"\n"+
"        &lt;name&gt;{id_polyline}&lt;/name&gt;"+"\n"+
"			    	&lt;description&gt;"+"\n"+
"					&lt;![CDATA[&lt;pre id="+'"'+"com.exlyo.mapmarker.description_p_tag"+'"'+
"&gt;{haversine}&lt;/pre&gt;]]&gt;"+"\n"+
"			    	&lt;/description&gt;"+"\n"+
"        &lt;LineString&gt;"+"\n"+
"          &lt;coordinates&gt;{o_lon},{o_lat} {geo_lng},{geo_lat}&lt;/coordinates&gt;"+"\n"+
"        &lt;/LineString&gt;"+"\n"+
"        &lt;styleUrl&gt;#mm_marker_color_7&lt;/styleUrl&gt;"+"\n"+
"      &lt;/Placemark&gt;\n";
id_polyline=id_polyline+1;</script>
  </action>
  <action type="http_request">
    <useDefaultName>false</useDefaultName>
    <name>POST-POI</name>
    <url>https://shopee.co.th/api/v4/geo/get_poi_by_geo</url>
    <verifyCertificates>true</verifyCertificates>
    <basicAuthentication>false</basicAuthentication>
    <username></username>
    <clientCert>false</clientCert>
    <clientCertPath></clientCertPath>
    <httpMethod>POST</httpMethod>
    <networkType>DEFAULT</networkType>
    <httpContentType>GENERAL_TEXT</httpContentType>
    <contentType>application/json</contentType>
    <generalTextData>{poi}</generalTextData>
    <formFieldList>Lastname=XYZ,Firstname=ABC</formFieldList>
    <uploadFieldName>upload_field</uploadFieldName>
    <uploadFilePath></uploadFilePath>
    <binaryContentType>application/octet-stream</binaryContentType>
    <binaryFilePath></binaryFilePath>
    <timeout>60000</timeout>
    <setCustomHTTPHeaders>true</setCustomHTTPHeaders>
    <customHTTPHeaders>User-Agent: okhttp/3.12.4 app_type=1 platform=native_android /os_ver=35 appver=34560
Accept-Encoding: gzip, deflate, br
x-shopee-client-timezone: Asia/Bangkok
Accept: */*</customHTTPHeaders>
    <storeInVariable>true</storeInVariable>
    <variable>poi</variable>
    <encoding></encoding>
    <path>/storage/emulated/0/Download/file.bin</path>
    <followRedirects>true</followRedirects>
    <skipConnectivityCheck>false</skipConnectivityCheck>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>PRESENT</name>
    <script>if(order["ongoing"]==true) {

   LO=callJavaMethod(getContext(), "android.content.Context", "getSystemService(java.lang.String)",getJavaStaticField("android.content.Context", "LOCATION_SERVICE"));
   LO=callJavaMethod(LO, "android.location.LocationManager", "getLastKnownLocation(java.lang.String)", getJavaStaticField("android.location.LocationManager", "GPS_PROVIDER"));
   glat=callJavaMethod(LO, "android.location.Location", "getLatitude()");
   glng=callJavaMethod(LO, "android.location.Location", "getLongitude()");
   currentloc="marker=position:{glat},{glng};icon:https://mmmap15.longdo.com/mmmap/images/icons_2x/police.png&amp;";
   changer=global_spxdb["order"]["incoming"]["income"]-global_spxdb["order"]["taken"]["income"];
   setWidgetElementProperty("SPF_INCOMING_DENY", "T1", "text", "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: +{changer}");}

else {

   currentloc="";
   setWidgetElementProperty("SPF_INCOMING_DENY", "T1", "text", "‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò");
}


//==========================================================================================


detail_text="";
cod_per=0;
laglon_shop=left(laglon_shop, length(laglon_shop)-1);
laglon_customer=left(laglon_customer, length(laglon_customer)-1);


staticmap=
"http://mmmap15.longdo.com/mmmap/snippet/?mode=gray&amp;locale=th&amp;height=500&amp;width=500&amp;"+
"marker=position:{laglon_shop};icon:http://mmmap15.longdo.com/mmmap/images/icons_big/bank.png&amp;"+
currentloc+
"marker=position:{laglon_customer};"+
"offsetX:center;offsetY:bottom&amp;refresh=1";

setWidgetElementProperty("SPF_INCOMING_DETAIL", "MAP", "path", "{staticmap}");


//=========================================================================================








if(length(order["route"]["batch_customer"])==0) {

   detail$shop=order['route']['shop'];
   detail$cust=order["route"]["customer"];

} else { 

   detail$shop=order["route"]["batch_shop"]; 
   detail$cust=order["route"]["batch_customer"]; 
}


for (i in [0 to length(detail$shop)-1]){

   weight=toNumber(ceil(detail$shop[i]['details']['parcel']));
   if(weight&gt;=5) {

      detail_text=detail_text+"{weight}‡∏Å‡∏Å\n";
   }
}

for (i in [0 to length(detail$cust)-1]){

   cod="{detail$shop[i]['details']['cod']}";
   if(cod&gt;0) {

      cod_per=cod_per+1;  
   }
}

if(cod_per&gt;0) {

   codx="‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î: {cod_per} ‡∏Ñ‡∏ô";}

else {

   codx="";
}








detail_text=detail_text+codx;
setWidgetElementProperty("SPF_INCOMING_DETAIL", "T1", "text", "{detail_text}");</script>
  </action>
  <action type="init_variable_text_file">
    <useDefaultName>false</useDefaultName>
    <name>RAW CSV</name>
    <path>/storage/emulated/0/Android/application/SPFDB/LOCATION-ENGINE/1_base.csv</path>
    <encoding>UTF-8</encoding>
    <variable>csv_original</variable>
    <stripBOM>false</stripBOM>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>RE-FILL</name>
    <script>if(contains(autofill,"autofill failed")) {dxd=address_raw}
else { dxd=autofill["data"]["detailed_address"]; }


kut=toJSON(newMapFromValues("use_case", "shopee.account",
"sessiontoken","c7374990-7d63-4847-8485-cb43d8825710",
"components","country:TH",
"address_list",newList(newMapFromValues(
"address", dxd,
"address_level1",poi_city,
"address_level2",poi_district,
"address_level3",poi_subdtr,
"zipcode",poi_zip
))));</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>rmVAR</name>
    <script>
if(index==null) {

   id_polyline=random(100,999);
   polyline="";
   shop_list=newList();
   type_list=newList();
}


for (v in getVariableNames()) {if (NOT matches(v,"type_list|csv_original|shop_list|.*polyline.*|index|csv|header_22|file_text|global_.*|flow_name|trigger|varSelect|sTypeOut|objDb")){removeVariable(v)}}
removeVariable("v");
removeVariable("sTypeOut");</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>Scripbbjt: </name>
    <script>response=fromJSON(response);
waypoint=response["features"][0]["properties"]["waypoints"];
waypoint2="";


for (i in [1 to length(waypoint)-1]) {

   poi=waypoint[i]["original_location"];
   waypoint2=waypoint2+"point={poi[1]},{poi[0]}&amp;";
}

start=waypoint[0]["original_location"];
start="{start[1]},{start[0]}";



end=waypoint[length(waypoint)-1]["original_location"];
end="{end[1]},{end[0]}";




















uri="https://graphhopper.com/maps/?"+"point={lat_start},{lon_start}&amp;"+waypoint2
+"profile=scooter&amp;layer=Mapilion"</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>Scripbbjt: nnj</name>
    <script>





response=fromJSON(response);
waypoint=response["results"][0]["waypoints"];

waypoint2="";
waypoint3="";







for (i in [1 to length(waypoint)-1]) {

   lat=waypoint[i]["lat"];
   lng=waypoint[i]["lng"];
   //waypoint2=waypoint2+"{lat},{lng}|";
   waypoint2=waypoint2+"point={lat},{lng}&amp;";
   //waypoint3=waypoint3+"{lat},{lng}";
}

//start=waypoint[0]["original_location"];
lat=waypoint[0]["lat"];
lng=waypoint[0]["lng"];
start="{lat},{lng}";



lat=waypoint[length(waypoint)-1]["lat"];
lng=waypoint[length(waypoint)-1]["lng"];

end="{lat},{lng}";


uri = "https://www.google.com/maps/dir/?api=1" +
      "&amp;origin={start}" +
      "&amp;destination={end}" +
      "&amp;waypoints={waypoint2}";




//uri="https://share.here.com/r/"+"{start}/{waypoint2}{end}";



uri="https://graphhopper.com/maps/?"+"point={start}&amp;"+waypoint2
+"profile=scooter&amp;layer=Mapilion"</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>Scripjjjt: response=fromJSON(response);</name>
    <script>response=fromJSON(response)["body"]["location"];
waypoint2="";

for (i in [0 to length(response)-1]){

   waypoint2=waypoint2+"point={response[i]['lat']},{response[i]['lon']}&amp;";
}


/*
for (i in [1 to length(waypoint)-1]) {

   poi=waypoint[i]["original_location"];
   waypoint2=waypoint2+"point={poi[1]},{poi[0]}&amp;";
}

start=waypoint[0]["original_location"];
start="{start[1]},{start[0]}";



end=waypoint[length(waypoint)-1]["original_location"];
end="{end[1]},{end[0]}";

*/


















uri="https://graphhopper.com/maps/?"+"point={lat_start},{lon_start}&amp;"+waypoint2
+"point=13.717727,100.344338&amp;"+"profile=scooter&amp;layer=Mapilion"</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: /* Folder name,Folder color,Latitude,Longitude,Title,Description,Color,Phone number,Timestamp,Pin icon code CUSTOMER,009688,13.717246094464993,100.41886858642101,Marker 1,,009688,,2025-03-05T14:04:55Z,268 CUSTOMER,009688,13.720979716439867,100.39747897535563,Marker 2,,009688,,2025-03-05T14:05:13Z,269 SHOP,f44336,13.739496469745207,100.43600622564554,Marker 1,,f44336,,2025-03-05T14:03:24Z,268 SHOP,f44336,13.725766925674511,100.43142098933458,Marker 2,, f44336,,2025-03-05T14:04:10Z,269 CUSTOMER,009688,13.773109041236552,100.43157957494259,Marker 7,, 009688,,2025-03-05T22:50:18Z,419 ==+1 CUSTOMER,009688,13.758255351056553,100.43494742363691,Marker 8,,009688,,2025-03-05T22:58:08Z,265 ==+2 23AC9A =‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß #ED4D2D =‡∏™‡πâ‡∏° */ header=newList("Folder name","Folder color","Latitude","Longitude","Title","Description","Color","Phone number","Timestamp","Pin icon code"); writer="{header,listformat,comma}"+"\n"; if(global_device["device"]=="alioth") { name=newList("1_SHOP","1_CUSTOMER"); color=newList("ed4d2d","23ac9a"); } else { name=newList("2_SHOP","2_CUSTOMER"); color=newList("ffeb3b","cddc39"); } for (i in [0 to length(order["route"]["all"])-1]){ count=i+1; if(order["route"]["all"][i]["location_type"]==1) { adds=newList( name[0], color[0], order["route"]["all"][i]["details"]["address"]["latitude"], order["route"]["all"][i]["details"]["address"]["longitude"], count+" - "+(order["route"]["all"][i]["details"]["parcel"]["weight"]), order["route"]["all"][i]["details"]["address"]["address"], color[0], "+"+order["route"]["all"][i]["details"]["phone"], "", 419); } else { adds=newList( name[1], color[1], order["route"]["all"][i]["details"]["address"]["latitude"], order["route"]["all"][i]["details"]["address"]["longitude"], count+" COD : "+order["route"]["all"][i]["details"]["cod"], order["route"]["all"][i]["details"]["address"]["address"], color[1], "+"+order["route"]["all"][i]["details"]["phone"], "", 419); } writer=writer+"{adds,listformat,comma}"+"\n"; }</name>
    <script>

/*
Folder name,Folder color,Latitude,Longitude,Title,Description,Color,Phone number,Timestamp,Pin icon code
CUSTOMER,009688,13.717246094464993,100.41886858642101,Marker 1,,009688,,2025-03-05T14:04:55Z,268
CUSTOMER,009688,13.720979716439867,100.39747897535563,Marker 2,,009688,,2025-03-05T14:05:13Z,269
SHOP,f44336,13.739496469745207,100.43600622564554,Marker 1,,f44336,,2025-03-05T14:03:24Z,268
SHOP,f44336,13.725766925674511,100.43142098933458,Marker 2,,
f44336,,2025-03-05T14:04:10Z,269


CUSTOMER,009688,13.773109041236552,100.43157957494259,Marker 7,,
009688,,2025-03-05T22:50:18Z,419 ==+1
CUSTOMER,009688,13.758255351056553,100.43494742363691,Marker 8,,009688,,2025-03-05T22:58:08Z,265 ==+2


23AC9A =‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß

#ED4D2D =‡∏™‡πâ‡∏°

*/








header=newList("Folder name","Folder color","Latitude","Longitude","Title","Description","Color","Phone number","Timestamp","Pin icon code");
writer="{header,listformat,comma}"+"\n";


if(global_device["device"]=="alioth") {

   name=newList("1_SHOP","1_CUSTOMER");
   color=newList("ed4d2d","23ac9a");


} else {

name=newList("2_SHOP","2_CUSTOMER");
color=newList("ffeb3b","cddc39");

}






for (i in [0 to length(order["route"]["all"])-1]){

   count=i+1;

   if(order["route"]["all"][i]["location_type"]==1) {
      
      adds=newList(
      name[0],
      color[0],
      order["route"]["all"][i]["details"]["address"]["latitude"],
      order["route"]["all"][i]["details"]["address"]["longitude"],
      count+" - "+(order["route"]["all"][i]["details"]["parcel"]["weight"]),
      order["route"]["all"][i]["details"]["address"]["address"],
      color[0],
      "+"+order["route"]["all"][i]["details"]["phone"],
      "",
      419);

   } else {

      adds=newList(
      name[1],
      color[1],
      order["route"]["all"][i]["details"]["address"]["latitude"],
      order["route"]["all"][i]["details"]["address"]["longitude"],
      count+" COD : "+order["route"]["all"][i]["details"]["cod"],
      order["route"]["all"][i]["details"]["address"]["address"],
      color[1],
      "+"+order["route"]["all"][i]["details"]["phone"],
      "",
      419);
   }
   writer=writer+"{adds,listformat,comma}"+"\n";
}














</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: /*import org.xmlpull.v1.XmlSerializer; import android.util.Xml; import java.io.File; import java.io.FileOutputStream; import java.io.OutputStreamWriter; import java.io.Writer; import java.io.BufferedReader; import java.io.FileReader; import java.io.IOException; public class CsvToKmlConverter { public static void convertCsvToKml(File csvFile, File kmlFile) { try { BufferedReader reader = new BufferedReader(new FileReader(csvFile)); Writer writer = new OutputStreamWriter(new FileOutputStream(kmlFile), "UTF-8"); XmlSerializer xmlSerializer = Xml.newSerializer(); xmlSerializer.setOutput(writer); xmlSerializer.startDocument("UTF-8", true); // Start KML xmlSerializer.startTag(null, "kml"); xmlSerializer.attribute(null, "xmlns", "http://www.opengis.net/kml/2.2"); xmlSerializer.startTag(null, "Document"); String line; boolean isFirstLine = true; while ((line = reader.readLine()) != null) { if (isFirstLine) { // ‡∏Ç‡πâ‡∏≤‡∏° Header isFirstLine = false; continue; } String[] values = line.split(","); if (values.length &gt;= 3) { String name = values[0]; String lat = values[1]; String lon = values[2]; xmlSerializer.startTag(null, "Placemark"); xmlSerializer.startTag(null, "name"); xmlSerializer.text(name); xmlSerializer.endTag(null, "name"); xmlSerializer.startTag(null, "Point"); xmlSerializer.startTag(null, "coordinates"); xmlSerializer.text(lon + "," + lat + ",0"); xmlSerializer.endTag(null, "coordinates"); xmlSerializer.endTag(null, "Point"); xmlSerializer.endTag(null, "Placemark"); } } // End KML xmlSerializer.endTag(null, "Document"); xmlSerializer.endTag(null, "kml"); xmlSerializer.endDocument(); reader.close(); writer.close(); } catch (IOException e) { e.printStackTrace(); } } } */ xmlSerializer=callJavaStaticMethod("android.util.Xml", "newSerializer()"); callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "startDocument(java.lang.String, java.lang.Boolean)", "UTF-8",true); callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "startTag(java.lang.String, java.lang.String)", null, "kml"); callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "attribute(java.lang.String, java.lang.String, java.lang.String)", null, "xmlns", "http://www.opengis.net/kml/2.2"); callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "startTag(java.lang.String, java.lang.String)", null, "Document"); callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "endDocument()")</name>
    <script>/*import org.xmlpull.v1.XmlSerializer;
import android.util.Xml;
import java.io.File;
import java.io.FileOutputStream;
import java.io.OutputStreamWriter;
import java.io.Writer;
import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

public class CsvToKmlConverter {
    public static void convertCsvToKml(File csvFile, File kmlFile) {
        try {
            BufferedReader reader = new BufferedReader(new FileReader(csvFile));
            Writer writer = new OutputStreamWriter(new FileOutputStream(kmlFile), "UTF-8");
            
            XmlSerializer xmlSerializer = Xml.newSerializer();
            xmlSerializer.setOutput(writer);
            xmlSerializer.startDocument("UTF-8", true);
            
            // Start KML
            xmlSerializer.startTag(null, "kml");
            xmlSerializer.attribute(null, "xmlns", "http://www.opengis.net/kml/2.2");
            xmlSerializer.startTag(null, "Document");
            
            String line;
            boolean isFirstLine = true;
            while ((line = reader.readLine()) != null) {
                if (isFirstLine) { // ‡∏Ç‡πâ‡∏≤‡∏° Header
                    isFirstLine = false;
                    continue;
                }
                
                String[] values = line.split(",");
                if (values.length &gt;= 3) {
                    String name = values[0];
                    String lat = values[1];
                    String lon = values[2];

                    xmlSerializer.startTag(null, "Placemark");
                    
                    xmlSerializer.startTag(null, "name");
                    xmlSerializer.text(name);
                    xmlSerializer.endTag(null, "name");
                    
                    xmlSerializer.startTag(null, "Point");
                    xmlSerializer.startTag(null, "coordinates");
                    xmlSerializer.text(lon + "," + lat + ",0");
                    xmlSerializer.endTag(null, "coordinates");
                    xmlSerializer.endTag(null, "Point");
                    
                    xmlSerializer.endTag(null, "Placemark");
                }
            }
            
            // End KML
            xmlSerializer.endTag(null, "Document");
            xmlSerializer.endTag(null, "kml");
            xmlSerializer.endDocument();
            
            reader.close();
            writer.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}


*/

xmlSerializer=callJavaStaticMethod("android.util.Xml", "newSerializer()");
callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "startDocument(java.lang.String,¬†java.lang.Boolean)", "UTF-8",true);



callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "startTag(java.lang.String,¬†java.lang.String)",
null, "kml");

callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "attribute(java.lang.String,¬†java.lang.String,¬†java.lang.String)",
null, "xmlns", "http://www.opengis.net/kml/2.2");
            

callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "startTag(java.lang.String,¬†java.lang.String)",
null, "Document");





callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "endDocument()")</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: //response=fromJSON(response)["result"]["geometry"]["location"] //lnglat</name>
    <script>//response=fromJSON(response)["result"]["geometry"]["location"]

//lnglat

</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: //setWidgetElementProperty("SPF_DENY_ORDER", "Image_1", "visible", true); refreshWidget("SPF_DENY_ORDER", true);</name>
    <script>//setWidgetElementProperty("SPF_DENY_ORDER", "Image_1", "visible", true);

refreshWidget("SPF_DENY_ORDER", true);</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: city="‡πÄ‡∏Ç‡∏ï"+"‡∏ó‡∏ß‡∏µ‡∏ß‡∏±‡∏í‡∏ô‡∏≤"; district="‡πÅ‡∏Ç‡∏ß‡∏á"+"‡∏®‡∏≤‡∏•‡∏≤‡∏ò‡∏£‡∏£‡∏°‡∏™‡∏û‡∏ô‡πå"; state="‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£"; //input="(‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ö‡∏™‡∏≤‡∏¢: 0636376715) ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 233/1, ‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô ‡∏ï‡∏•‡∏≤‡∏î‡πÅ‡∏™‡∏á‡∏™‡∏¥‡∏£‡∏¥ (‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏Å‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏° MR.DIY), ‡∏ã‡∏≠‡∏¢ ‡πÄ‡∏û‡∏ä‡∏£‡πÄ‡∏Å‡∏©‡∏°110 ‡πÅ‡∏Ç‡∏ß‡∏á‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡πâ‡∏≤‡∏á‡∏û‡∏•‡∏π ‡πÄ‡∏Ç‡∏ï‡∏´‡∏ô‡∏≠‡∏á‡πÅ‡∏Ç‡∏° ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£ 10160"; input="35/1 ‡∏´‡∏°‡∏π‡πà 14 ‡πÅ‡∏Ç‡∏ß‡∏á‡∏®‡∏≤‡∏•‡∏≤‡∏ò‡∏£‡∏£‡∏°‡∏™‡∏û‡∏ô‡πå ‡πÄ‡∏Ç‡∏ï‡∏ó‡∏ß‡∏µ‡∏ß‡∏±‡∏í‡∏ô‡∏≤ ‡∏Å‡∏ó‡∏°"; //‡∏ï‡∏≥‡∏ö‡∏•‡∏ï‡∏•‡∏≤‡∏î‡∏Ç‡∏ß‡∏±‡∏ç zip=10170;</name>
    <script>city="‡πÄ‡∏Ç‡∏ï"+"‡∏ó‡∏ß‡∏µ‡∏ß‡∏±‡∏í‡∏ô‡∏≤";
district="‡πÅ‡∏Ç‡∏ß‡∏á"+"‡∏®‡∏≤‡∏•‡∏≤‡∏ò‡∏£‡∏£‡∏°‡∏™‡∏û‡∏ô‡πå";
state="‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£";
//input="(‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ö‡∏™‡∏≤‡∏¢: 0636376715) ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 233/1, ‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô ‡∏ï‡∏•‡∏≤‡∏î‡πÅ‡∏™‡∏á‡∏™‡∏¥‡∏£‡∏¥ (‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏Å‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏° MR.DIY), ‡∏ã‡∏≠‡∏¢ ‡πÄ‡∏û‡∏ä‡∏£‡πÄ‡∏Å‡∏©‡∏°110 ‡πÅ‡∏Ç‡∏ß‡∏á‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡πâ‡∏≤‡∏á‡∏û‡∏•‡∏π ‡πÄ‡∏Ç‡∏ï‡∏´‡∏ô‡∏≠‡∏á‡πÅ‡∏Ç‡∏° ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£ 10160";

input="35/1 ‡∏´‡∏°‡∏π‡πà 14 ‡πÅ‡∏Ç‡∏ß‡∏á‡∏®‡∏≤‡∏•‡∏≤‡∏ò‡∏£‡∏£‡∏°‡∏™‡∏û‡∏ô‡πå ‡πÄ‡∏Ç‡∏ï‡∏ó‡∏ß‡∏µ‡∏ß‡∏±‡∏í‡∏ô‡∏≤ ‡∏Å‡∏ó‡∏°";
//‡∏ï‡∏≥‡∏ö‡∏•‡∏ï‡∏•‡∏≤‡∏î‡∏Ç‡∏ß‡∏±‡∏ç


zip=10170;</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: file_text=replaceAll(file_text, "\n"," "); line_color="fff39621"; line=" {file_text}"; write= "&lt;?xml version='1.0' encoding='UTF-8' ?&gt;"+"\n"+ '&lt;kml xmlns="http://www.opengis.net/kml/2.2" xmlns:gx="http://www.google.com/kml/ext/2.2"&gt;'+"\n"+ " &lt;Document&gt;"+"\n"+ " &lt;name&gt;yyy&lt;/name&gt;"+"\n"+ ' &lt;Style id="mm_folder_color_1"&gt;'+"\n"+ " &lt;IconStyle&gt;"+"\n"+ " &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+ " &lt;colorMode&gt;normal&lt;/colorMode&gt;"+"\n"+ " &lt;scale&gt;1&lt;/scale&gt;"+"\n"+ " &lt;/IconStyle&gt;"+"\n"+ " &lt;LineStyle&gt;"+"\n"+ " &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+ " &lt;width&gt;1&lt;/width&gt;"+"\n"+ " &lt;/LineStyle&gt;"+"\n"+ " &lt;PolyStyle&gt;"+"\n"+ " &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+ " &lt;/PolyStyle&gt;"+"\n"+ " &lt;/Style&gt;"+"\n"+ ' &lt;Folder id="1"&gt;'+"\n"+ " &lt;styleUrl&gt;#mm_folder_color_1&lt;/styleUrl&gt;"+"\n"+ " &lt;name&gt;POLYLINE&lt;/name&gt;"+"\n"+ ' &lt;Style id="mm_marker_color_7"&gt;'+"\n"+ " &lt;IconStyle&gt;"+"\n"+ " &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+ " &lt;colorMode&gt;normal&lt;/colorMode&gt;"+"\n"+ " &lt;scale&gt;1&lt;/scale&gt;"+"\n"+ " &lt;/IconStyle&gt;"+"\n"+ " &lt;LineStyle&gt;"+"\n"+ " &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+ " &lt;width&gt;1&lt;/width&gt;"+"\n"+ " &lt;/LineStyle&gt;"+"\n"+ " &lt;PolyStyle&gt;"+"\n"+ " &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+ " &lt;/PolyStyle&gt;"+"\n"+ " &lt;/Style&gt;"+"\n"+ ' &lt;Placemark id="7"&gt;'+"\n"+ " &lt;name&gt;Marker 1&lt;/name&gt;"+"\n"+ " &lt;LineString&gt;"+"\n"+ " &lt;coordinates&gt;{line}&lt;/coordinates&gt;"+"\n"+ " &lt;/LineString&gt;"+"\n"+ " &lt;styleUrl&gt;#mm_marker_color_7&lt;/styleUrl&gt;"+"\n"+ " &lt;/Placemark&gt;"+"\n"+ ' &lt;Placemark id="8"&gt;'+"\n"+ " &lt;name&gt;Marker 2&lt;/name&gt;"+"\n"+ " &lt;LineString&gt;"+"\n"+ " &lt;coordinates&gt;{line}&lt;/coordinates&gt;"+"\n"+ " &lt;/LineString&gt;"+"\n"+ " &lt;styleUrl&gt;#mm_marker_color_7&lt;/styleUrl&gt;"+"\n"+ " &lt;/Placemark&gt;"+"\n"+ " &lt;/Folder&gt;"+"\n"+ " &lt;/Document&gt;"+"\n"+ "&lt;/kml&gt;"+"\n";</name>
    <script>
file_text=replaceAll(file_text, "\n"," ");










line_color="fff39621";
line=" {file_text}";
write=
"&lt;?xml version='1.0' encoding='UTF-8' ?&gt;"+"\n"+
'&lt;kml xmlns="http://www.opengis.net/kml/2.2" xmlns:gx="http://www.google.com/kml/ext/2.2"&gt;'+"\n"+
"  &lt;Document&gt;"+"\n"+
"    &lt;name&gt;yyy&lt;/name&gt;"+"\n"+
'    &lt;Style id="mm_folder_color_1"&gt;'+"\n"+
"      &lt;IconStyle&gt;"+"\n"+
"        &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+
"        &lt;colorMode&gt;normal&lt;/colorMode&gt;"+"\n"+
"        &lt;scale&gt;1&lt;/scale&gt;"+"\n"+
"      &lt;/IconStyle&gt;"+"\n"+
"      &lt;LineStyle&gt;"+"\n"+
"        &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+
"        &lt;width&gt;1&lt;/width&gt;"+"\n"+
"      &lt;/LineStyle&gt;"+"\n"+
"      &lt;PolyStyle&gt;"+"\n"+
"        &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+
"      &lt;/PolyStyle&gt;"+"\n"+
"    &lt;/Style&gt;"+"\n"+
'    &lt;Folder id="1"&gt;'+"\n"+
"      &lt;styleUrl&gt;#mm_folder_color_1&lt;/styleUrl&gt;"+"\n"+
"      &lt;name&gt;POLYLINE&lt;/name&gt;"+"\n"+
'      &lt;Style id="mm_marker_color_7"&gt;'+"\n"+
"        &lt;IconStyle&gt;"+"\n"+
"          &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+
"          &lt;colorMode&gt;normal&lt;/colorMode&gt;"+"\n"+
"          &lt;scale&gt;1&lt;/scale&gt;"+"\n"+
"        &lt;/IconStyle&gt;"+"\n"+
"        &lt;LineStyle&gt;"+"\n"+
"          &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+
"          &lt;width&gt;1&lt;/width&gt;"+"\n"+
"        &lt;/LineStyle&gt;"+"\n"+
"        &lt;PolyStyle&gt;"+"\n"+
"          &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+
"        &lt;/PolyStyle&gt;"+"\n"+
"      &lt;/Style&gt;"+"\n"+
'      &lt;Placemark id="7"&gt;'+"\n"+
"        &lt;name&gt;Marker 1&lt;/name&gt;"+"\n"+
"        &lt;LineString&gt;"+"\n"+
"          &lt;coordinates&gt;{line}&lt;/coordinates&gt;"+"\n"+
"        &lt;/LineString&gt;"+"\n"+
"        &lt;styleUrl&gt;#mm_marker_color_7&lt;/styleUrl&gt;"+"\n"+
"      &lt;/Placemark&gt;"+"\n"+
'      &lt;Placemark id="8"&gt;'+"\n"+
"        &lt;name&gt;Marker 2&lt;/name&gt;"+"\n"+
"        &lt;LineString&gt;"+"\n"+
"          &lt;coordinates&gt;{line}&lt;/coordinates&gt;"+"\n"+
"        &lt;/LineString&gt;"+"\n"+
"        &lt;styleUrl&gt;#mm_marker_color_7&lt;/styleUrl&gt;"+"\n"+
"      &lt;/Placemark&gt;"+"\n"+
"    &lt;/Folder&gt;"+"\n"+
"  &lt;/Document&gt;"+"\n"+
"&lt;/kml&gt;"+"\n";</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>Script: for (i in [0 to length(varSelect)-1]) { //addElement(id_cancel,varSelect[i][0]); for (ix in [0 to length(gfggg["route"]["all"])-1]) { if(contains(order["route"]["all"][ix]["delivery_order_id"],varSelect[i][0])) { order["route"]["all"][ix]=null; } } }</name>
    <script>



for (i in [0 to length(db2_cancel)-1]) {

   for (ix in [0 to length(order["route"]["all"])-1]) {

      if(contains(order["route"]["all"][ix]["delivery_order_id"],db2_cancel[i][0])) {

      order["route"]["all"][ix]=null;
      
      }
   }
}</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: global_widget["SPF_ROUTE_MINIMIZE"]["x"]=widget_x_offset; global_widget["SPF_ROUTE_MINIMIZE"]["y"]=widget_y_offset;</name>
    <script>global_widget["SPF_ROUTE_MINIMIZE"]["x"]=widget_x_offset;
global_widget["SPF_ROUTE_MINIMIZE"]["y"]=widget_y_offset;</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: header=newList("Folder name","Folder color","Latitude","Longitude","Title","Description","Color","Phone number","Timestamp","Pin icon code"); writer="{header,listformat,comma}"+"\n"; //x=newList(1,2,3,4); for (i in [0 to length(customer_list)-1]) { //log(customer_list[i]); if(contains(customer_list[i],"latitude")) { writer=writer+ "Test"+","+ "ff9800"+","+ customer_list[i]["address"]["latitude"]+","+ customer_list[i]["address"]["longitude"]+","+ replaceAll(customer_list[i]["name"],"\\.|\\,","")+","+ replaceAll(customer_list[i]["address"]["address"],"\\.|\\,","")+","+ "ff9800"+","+ ""+","+ ""+","+ 41+ "\n" } } /* writer=writer+ "üìå"+","+ "ff5722"+","+ split[0]+","+ split[1]+","+ restaurants[i]["restaurant"]+","+ restaurants[i]["address"]+","+ "ff5722"+","+ ""+","+ ""+","+ 41+ */</name>
    <script>header=newList("Folder name","Folder color","Latitude","Longitude","Title","Description","Color","Phone number","Timestamp","Pin icon code");


writer="{header,listformat,comma}"+"\n";


//x=newList(1,2,3,4);



for (i in [0 to length(customer_list)-1])
{


//log(customer_list[i]);


if(contains(customer_list[i],"latitude")) {

writer=writer+
"Test"+","+
"ff9800"+","+
customer_list[i]["address"]["latitude"]+","+
customer_list[i]["address"]["longitude"]+","+
replaceAll(customer_list[i]["name"],"\\.|\\,","")+","+
replaceAll(customer_list[i]["address"]["address"],"\\.|\\,","")+","+
"ff9800"+","+
""+","+
""+","+
41+
"\n"
}
}

/*
writer=writer+
   

"üìå"+","+
"ff5722"+","+
split[0]+","+
split[1]+","+
restaurants[i]["restaurant"]+","+
restaurants[i]["address"]+","+
"ff5722"+","+
""+","+
""+","+
41+

*/

</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: lat=toNumber(split(value,",")[0]); lon=toNumber(split(value,",")[1]);</name>
    <script>lat=toNumber(split(value,",")[0]);
lon=toNumber(split(value,",")[1]);</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: loc_id=fromJSON(response)["predictions"][0]["id"];</name>
    <script>loc_id=fromJSON(response)["predictions"][0]["id"];

</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: loc_id=fromJSON(response)["predictions"][0]["id"]; response=fromJSON(response)["predictions"];</name>
    <script>loc_id=fromJSON(response)["predictions"][0]["id"];

response=fromJSON(response)["predictions"];</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: log(getDate()-start);</name>
    <script>log(getDate()-start);</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: points=newList(); file_text=split(file_text,"\n"); for (i in [0 to length(file_text)-1]) { v=split(file_text[i],","); addElement(points, newMapFromValues("latitude",toNumber(v[0]),"longitude",toNumber(v[1]))); if(i==5) {break} } points=toJSON(points)</name>
    <script>points=newList();

file_text=split(file_text,"\n");

for (i in [0 to length(file_text)-1]) {

   v=split(file_text[i],",");
   addElement(points, newMapFromValues("latitude",toNumber(v[0]),"longitude",toNumber(v[1])));

   if(i==5) {break}
}

points=toJSON(points)</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: removeElement(global_navigation, 0);</name>
    <script>removeElement(global_navigation, 0);</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: response=fromJSON(response); start=response["routes"][0]["steps"][0]["location"]; start="{start[1]},{start[0]}"; end=response["routes"][0]["steps"][length(response["routes"][0]["steps"])-1]["location"]; end="{end[1]},{end[0]}"; waypoint=""; for (i in [0 to length(response["routes"][0]["steps"])-1]) { if(response["routes"][0]["steps"][i]["type"]=="job") { point=response["routes"][0]["steps"][i]["location"]; waypoint=waypoint+"{point[1]},{point[0]}|" } } waypoint=substring(waypoint, 0, length(waypoint)-1); uri = "https://www.google.com/maps/dir/?api=1" + "&amp;origin={start}" + "&amp;destination={end}" + "&amp;waypoints={waypoint}";</name>
    <script>response=fromJSON(response);





start=response["routes"][0]["steps"][0]["location"];
start="{start[1]},{start[0]}";


end=response["routes"][0]["steps"][length(response["routes"][0]["steps"])-1]["location"];
end="{end[1]},{end[0]}";


waypoint="";




for (i in [0 to length(response["routes"][0]["steps"])-1]) {

   if(response["routes"][0]["steps"][i]["type"]=="job") {

      point=response["routes"][0]["steps"][i]["location"];
      waypoint=waypoint+"{point[1]},{point[0]}|"
   }
}

waypoint=substring(waypoint, 0, length(waypoint)-1);




uri = "https://www.google.com/maps/dir/?api=1" +
      "&amp;origin={start}" +
      "&amp;destination={end}" +
      "&amp;waypoints={waypoint}";

</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: response=fromJSON(response)["result"]["geometry"]["location"] //lnglat</name>
    <script>response=fromJSON(response)["result"]["geometry"]["location"]

//lnglat

</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: route=newMapFromValues("jobs", newList(),"vehicles",newList()); for (i in [0 to length(order["route"]["all"])-1]) { if(order["route"]["all"][i]["location_type"]==2) { addElement(route["jobs"], newMapFromValues( "id", i+1, "service",300, "delivery",newList(2), "location",newList( order["route"]["all"][i]["details"]["address"]["longitude"], order["route"]["all"][i]["details"]["address"]["latitude"] ) //"skills",newList(1) )); } } addElement(route["vehicles"],newMapFromValues( "id",1, "profile","driving-car", "start",newList(100.350930,13.745119), "end",newList(100.350930,13.745119), "capacity",newList(100) //"skills",newList(1,14) )); route=toJSON(route)</name>
    <script>route=newMapFromValues("jobs", newList(),"vehicles",newList());

for (i in [0 to length(order["route"]["all"])-1]) {

   if(order["route"]["all"][i]["location_type"]==2) {

   addElement(route["jobs"], newMapFromValues(
"id", i+1,
"service",300,
"delivery",newList(2),
"location",newList(
order["route"]["all"][i]["details"]["address"]["longitude"],
order["route"]["all"][i]["details"]["address"]["latitude"]
)
//"skills",newList(1)
));
   }
}

addElement(route["vehicles"],newMapFromValues(
"id",1,
"profile","driving-car",
"start",newList(100.350930,13.745119),
"end",newList(100.350930,13.745119),
"capacity",newList(100)
//"skills",newList(1,14)

));

route=toJSON(route)</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: route=newMapFromValues("mode","motorcycle","agents",newList(),"jobs",newList()); for (i in [0 to length(file_text)-1]) { if(contains(file_text[i][0],"CUST") and not contains(file_text[i][0],"FIX")) { addElement(route["jobs"],newMapFromValues( "location",newList(toNumber(file_text[i][3]),toNumber(file_text[i][2])), "duration",0) ); } } addElement(route["agents"],newMapFromValues( "start_location",newList(100.350930,13.745119), "end_location", newList(100.344338,13.717727)) ); /*addElement(route["locations"],newMapFromValues( "id","warehouse-0", "location",newList(100.350930,13.745119) ));*/ route=toJSON(route)</name>
    <script>















route=newMapFromValues("mode","motorcycle","agents",newList(),"jobs",newList());




for (i in [0 to length(file_text)-1]) {

   if(contains(file_text[i][0],"CUST") and not contains(file_text[i][0],"FIX")) {


      addElement(route["jobs"],newMapFromValues(

"location",newList(toNumber(file_text[i][3]),toNumber(file_text[i][2])),
"duration",0)
);

}
}









  




addElement(route["agents"],newMapFromValues(
"start_location",newList(100.350930,13.745119),
"end_location", newList(100.344338,13.717727))
);




/*addElement(route["locations"],newMapFromValues(
"id","warehouse-0",
"location",newList(100.350930,13.745119)
));*/

route=toJSON(route)</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>Script: shopeedb=newMap(); customer_list=newList(); for (i in [0 to length(varSelect)-1]) { db=fromJSON(varSelect[i][3]); for (i in [0 to length(db["driver_delivery_order"]["routes"])-1]) { if(db["drghyiver_delivery_order"]["routes"][i]["location_type"]==2) { addElement(customer_list, db["driver_delivery_order"]["routes"][i]) } } for (i in [0 to length(customer_list)-1]) { for (ii in [0 to length(db["deliveries"])-1]) { if(customer_list[i]["delivery_order_id"]==db["deliveries"][ii]["delivery_order"]["delivery_order_id"]) { customer_list[i]= newMapFromValues( "name",db["deliveries"][ii]["delivery_order"]["delivery_address"]["name"], "phone",db["deliveries"][ii]["delivery_order"]["delivery_address"]["phone"], "addresjjjs",db["deliveries"][ii]["delivery_order"]["delivery_address"]["location"], "distance",customer_list[i]["distance"], //"cod",db["deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000, "income",db["deliveries"][ii]["delivery_order"]["income"]/100000 ); //addMapEntry(customer_list[i],"xxx", db["deliveries"][ii]["delivery_order"]); //customer_list[i]["delivery_order_id"]=db["deliveries"][ii]["delivery_order"]; break } } } }</name>
    <script>shopeedb=newMap();
customer_list=newList();


address_x=newList();








for (i in [0 to length(varSelect)-1])
{
   db=fromJSON(varSelect[i][3]);
   varSelect[i][3]=db;
   for (i in [0 to length(db["driver_delivery_order"]["routes"])-1]) {

   if(db["driver_delivery_order"]["routes"][i]["location_type"]==2) {

      addElement(customer_list, db["driver_delivery_order"]["routes"][i])
   }
}

for (i in [0 to length(customer_list)-1]) {

   for (ii in [0 to length(db["deliveries"])-1]) {

      if(customer_list[i]["delivery_order_id"]==db["deliveries"][ii]["delivery_order"]["delivery_order_id"]) {

         if(contains(db["deliveries"][ii]["delivery_order"],"pickup_address")) {
         customer_list[i]=
newMapFromValues(


"name",db["deliveries"][ii]["delivery_order"]["delivery_address"]["name"],
//"phone",db["deliveries"][ii]["delivery_order"]["pickup_address"]["phone"],
"address",db["deliveries"][ii]["delivery_order"]["delivery_address"]["location"]
//"distance",customer_list[i]["distance"],
//"cod",db["deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000,
//"income",db["deliveries"][ii]["delivery_order"]["income"]/100000
);

addElement(address_x,db["deliveries"][ii]["delivery_order"]["delivery_address"]["location"]["address"]);
         //addMapEntry(customer_list[i],"xxx", db["deliveries"][ii]["delivery_order"]);
         //customer_list[i]["delivery_order_id"]=db["deliveries"][ii]["delivery_order"];
         
}
      }
   }
}
}

log(length(customer_list));

//947

for (i in [0 to length(customer_list)-1]) {

   if(contains(customer_list[i],"delivery_order_id")) {

      customer_list[i]=null;
   }
}


removeElementValue(customer_list,null);





//Duplicate 
removeDuplicateElements(customer_list)</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>Script: shopeedb=newMap(); customer_list=newList(); for (i in [0 to length(varSelect)-1]) { db=fromJSON(varSelect[i][3]); for (i in [0 to length(db["driver_delivery_order"]["routes"])-1]) { if(db["drghyiver_delivery_order"]["routes"][i]["location_type"]==2) { addElement(customer_list, db["driver_delivery_order"]["routes"][i]) } } for (i in [0 to length(customer_list)-1]) { for (ii in [0 to length(db["deliveries"])-1]) { if(customer_list[i]["delivery_order_id"]==db["deliveries"][ii]["delivery_order"]["delivery_order_id"]) { customer_list[i]= newMapFromValues( "name",db["deliveries"][ii]["delivery_order"]["delivery_address"]["name"], "phone",db["deliveries"][ii]["delivery_order"]["delivery_address"]["phone"], "address",db["deliveries"][ii]["delivery_order"]["delivery_address"]["location"], "distance",customer_list[i]["distance"], //"cod",db["deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000, "income",db["deliveries"][ii]["delivery_order"]["income"]/100000 ); //addMapEntry(customer_list[i],"xxx", db["deliveries"][ii]["delivery_order"]); //customer_list[i]["delivery_order_id"]=db["deliveries"][ii]["delivery_order"]; break } } } }</name>
    <script>shopeedb=newMap();
customer_list=newList();











for (i in [0 to length(varSelect)-1])
{
   db=fromJSON(varSelect[i][3]);
   varSelect[i][3]=db;
   for (i in [0 to length(db["driver_delivery_order"]["routes"])-1]) {

   if(db["driver_delivery_order"]["routes"][i]["location_type"]==2) {

      addElement(customer_list, db["driver_delivery_order"]["routes"][i])
   }
}

for (i in [0 to length(customer_list)-1]) {

   for (ii in [0 to length(db["deliveries"])-1]) {

      if(customer_list[i]["delivery_order_id"]==db["deliveries"][ii]["delivery_order"]["delivery_order_id"]) {

         if(contains(db["deliveries"][ii]["delivery_order"],"pickup_address")) {
         customer_list[i]=
newMapFromValues(


"name",db["deliveries"][ii]["delivery_order"]["pickup_address"]["name"],
//"phone",db["deliveries"][ii]["delivery_order"]["pickup_address"]["phone"],
"address",db["deliveries"][ii]["delivery_order"]["pickup_address"]["location"]
//"distance",customer_list[i]["distance"],
//"cod",db["deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000,
//"income",db["deliveries"][ii]["delivery_order"]["income"]/100000
);

         //addMapEntry(customer_list[i],"xxx", db["deliveries"][ii]["delivery_order"]);
         //customer_list[i]["delivery_order_id"]=db["deliveries"][ii]["delivery_order"];
         
}
      }
   }
}
}

log(length(customer_list));

//947

for (i in [0 to length(customer_list)-1]) {

   if(contains(customer_list[i],"delivery_order_id")) {

      customer_list[i]=null;
   }
}


removeElementValue(customer_list,null);





//Duplicate 
removeDuplicateElements(customer_list)</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: start=getDate();</name>
    <script>start=getDate();</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>Script: time="{getDate(),datedformat,dd.MM.yyyy}"+"_{getDate(),dateformat,HH.mm}";</name>
    <script>time="{getDate(),dateformat,dd.MM.yyyy}"+"_{getDate(),dateformat,HH.mm.ss}";
sleep(3000);</script>
  </action>
  <action type="script">
    <useDefaultName>true</useDefaultName>
    <name>Script: url="https://www.google.com/maps/dir/?api=1&amp;origin={location,locationformat,decimal}&amp;destination={global_navigation[0][8][0]},{global_navigation[0][8][1]}&amp;waypoints={global_navigation[0][2]},{global_navigation[0][3]}&amp;travelmode=driving&amp;dir_action=navigate";</name>
    <script>url="https://www.google.com/maps/dir/?api=1&amp;origin={location,locationformat,decimal}&amp;destination={global_navigation[0][8][0]},{global_navigation[0][8][1]}&amp;waypoints={global_navigation[0][2]},{global_navigation[0][3]}&amp;travelmode=driving&amp;dir_action=navigate";</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>SEL
ASSIGN/CC.2</name>
    <script>sQ = "SELECT * FROM order_stacking_assign ORDER BY create_time DESC LIMIT 1";
objCursor = callJavaMethod(objDb,"android.database.sqlite.SQLiteDatabase","rawQuery(java.lang.String,¬†java.lang.String[])", sQ, null);
bExistRecords = callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
sTypeOut="list";
nRec = 0;

nFldCount = callJavaMethod(objCursor,"android.database.Cursor","getColumnCount()") - 1;
bExistRecords = callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
varSelect = newList();


while (bExistRecords){

   nRec = nRec + 1;
   addElement(varSelect, newList());

   for (nCol in [0 to nFldCount]){

      sFldName = callJavaMethod(objCursor,"android.database.Cursor","getColumnName(int)", nCol);
      sFldValue = callJavaMethod(objCursor,"android.database.Cursor","getString(int)", nCol);
      nFldType = callJavaMethod(objCursor,"android.database.Cursor","getType(int)", nCol);
      sFldValue = replaceAll(sFldValue,'(\\n)',"|");
      sFldValue = replaceAll(sFldValue,"(\\')","`");

      if (nFldType == 3) {varValue = sFldValue}
      else {varValue = toNumber(sFldValue)}
      addElement(varSelect[nRec-1], varValue);
   }
   bExistRecords = callJavaMethod(objCursor,"android.database.Cursor","moveToNext()");
}


for (v in getVariableNames()) {if (NOT matches(v, "global_.*|flow_name|trigger|varSelect|sTypeOut|objDb")){removeVariable(v)};}
removeVariable("v");
removeVariable("sTypeOut");


db1_assign=fromJSON(varSelect[0][3]);
db1_assign_time=fromJSON(varSelect[0][1]);





sQ = "SELECT * FROM order_cancel";
objCursor = callJavaMethod(objDb,"android.database.sqlite.SQLiteDatabase","rawQuery(java.lang.String,¬†java.lang.String[])", sQ, null);
bExistRecords1 = callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
sTypeOut="list";
nRecx = 0;

nFldCount = callJavaMethod(objCursor,"android.database.Cursor","getColumnCount()") - 1;
bExistRecords1 = callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
varSelect = newList();


while (bExistRecords1){

   nRecx = nRecx + 1;
   addElement(varSelect, newList());

   for (nCol in [0 to nFldCount]){

      sFldName = callJavaMethod(objCursor,"android.database.Cursor",
"getColumnName(int)", nCol);
      sFldValue = callJavaMethod(objCursor,"android.database.Cursor",
"getString(int)", nCol);
      nFldType = callJavaMethod(objCursor,"android.database.Cursor",
"getType(int)", nCol);
      sFldValue = replaceAll(sFldValue,'(\\n)',"|");
      sFldValue = replaceAll(sFldValue,"(\\')","`");

      if (nFldType == 3) {varValue = sFldValue}
      else {varValue = toNumber(sFldValue)}
      addElement(varSelect[nRecx-1], varValue);
   }
   bExistRecords1 = callJavaMethod(objCursor,"android.database.Cursor","moveToNext()");
}

db2_cancel=fromJSON(varSelect);

for (v in getVariableNames()) {if (NOT matches(v, "db1.*|db2.*|global_.*|flow_name|trigger|varSelect|sTypeOut|objDb")){removeVariable(v)};}
removeVariable("v");
removeVariable("sTypeOut");


//</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>SELECT</name>
    <script>sQ = "SELECT * FROM order_stacking_assign ORDER BY create_time DESC LIMIT 1";
objCursor = callJavaMethod(objDb,"android.database.sqlite.SQLiteDatabase","rawQuery(java.lang.String,¬†java.lang.String[])", sQ, null);
bExistRecords = callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
sTypeOut="list";
nRec = 0;

nFldCount = callJavaMethod(objCursor,"android.database.Cursor","getColumnCount()") - 1;
bExistRecords = callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
varSelect = newList();


while (bExistRecords){

   nRec = nRec + 1;
   addElement(varSelect, newList());

   for (nCol in [0 to nFldCount]){

      sFldName = callJavaMethod(objCursor,"android.database.Cursor","getColumnName(int)", nCol);
      sFldValue = callJavaMethod(objCursor,"android.database.Cursor","getString(int)", nCol);
      nFldType = callJavaMethod(objCursor,"android.database.Cursor","getType(int)", nCol);
      sFldValue = replaceAll(sFldValue,'(\\n)',"|");
      sFldValue = replaceAll(sFldValue,"(\\')","`");

      if (nFldType == 3) {varValue = sFldValue}
      else {varValue = toNumber(sFldValue)}
      addElement(varSelect[nRec-1], varValue);
   }
   bExistRecords = callJavaMethod(objCursor,"android.database.Cursor","moveToNext()");
}


for (v in getVariableNames()) {if (NOT matches(v, "global_.*|flow_name|trigger|varSelect|sTypeOut|objDb")){removeVariable(v)};}
removeVariable("v");
removeVariable("sTypeOut");</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>SELECTnnn</name>
    <script>sQ = "SELECT * FROM order_stacking_assign";
objCursor = callJavaMethod(objDb,"android.database.sqlite.SQLiteDatabase","rawQuery(java.lang.String,¬†java.lang.String[])", sQ, null);
bExistRecords = callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
sTypeOut="list";
nRec = 0;

nFldCount = callJavaMethod(objCursor,"android.database.Cursor","getColumnCount()") - 1;
bExistRecords = callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
varSelect = newList();


while (bExistRecords){

   nRec = nRec + 1;
   addElement(varSelect, newList());

   for (nCol in [0 to nFldCount]){

      sFldName = callJavaMethod(objCursor,"android.database.Cursor","getColumnName(int)", nCol);
      sFldValue = callJavaMethod(objCursor,"android.database.Cursor","getString(int)", nCol);
      nFldType = callJavaMethod(objCursor,"android.database.Cursor","getType(int)", nCol);
      sFldValue = replaceAll(sFldValue,'(\\n)',"|");
      sFldValue = replaceAll(sFldValue,"(\\')","`");

      if (nFldType == 3) {varValue = sFldValue}
      else {varValue = toNumber(sFldValue)}
      addElement(varSelect[nRec-1], varValue);
   }
   bExistRecords = callJavaMethod(objCursor,"android.database.Cursor","moveToNext()");
}


for (v in getVariableNames()) {if (NOT matches(v, "global_.*|flow_name|trigger|varSelect|sTypeOut|objDb")){removeVariable(v)};}
removeVariable("v");
removeVariable("sTypeOut");</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>SHOP DUPICATE</name>
    <script>
for (i in [0 to length(shop_list)-1])
{
   for (ii in [0 to length(shop_list)-1]) {

      if(ii!=i) {

         log(shop_list[i]+" : "+shop_list[ii]);

         if(shop_list[i]==shop_list[ii]) {

            log("‡∏£‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≥");

         }
      }
   }
}</script>
  </action>
  <action type="show_custom_widget_overlay">
    <useDefaultName>true</useDefaultName>
    <name>Show Custom Widget Overlay: SPF_ROUTE_MINIMIZE, SPF_ROUTE_MINIMIZE  Top Left</name>
    <overlayName>SPF_ROUTE_MINIMIZE</overlayName>
    <widgetName>SPF_ROUTE_MINIMIZE</widgetName>
    <width></width>
    <height></height>
    <gravityType>TOP_LEFT</gravityType>
    <xOffset>{global_widget["SPF_ROUTE_MINIMIZE"]["x"]}</xOffset>
    <yOffset>{global_widget["SPF_ROUTE_MINIMIZE"]["y"]}</yOffset>
    <draggable>true</draggable>
    <opacity>1.00</opacity>
    <clickable>true</clickable>
    <stretchToFillArea>false</stretchToFillArea>
    <showOnTop>true</showOnTop>
    <noPositionRestriction>false</noPositionRestriction>
    <useAccessibilityService>true</useAccessibilityService>
  </action>
  <action type="show_custom_widget_overlay">
    <useDefaultName>false</useDefaultName>
    <name>Show Custom Widget Overljjay: Overlay 10, SPF_ROUTE_STATUSBAR ‡πâ‡πâ Top Left</name>
    <overlayName>SPF_ROUTE_STATUSBAR</overlayName>
    <widgetName>SPF_ROUTE_STATUSBAR</widgetName>
    <width></width>
    <height></height>
    <gravityType>TOP_LEFT</gravityType>
    <xOffset>0</xOffset>
    <yOffset>255</yOffset>
    <draggable>true</draggable>
    <opacity>1.00</opacity>
    <clickable>true</clickable>
    <stretchToFillArea>false</stretchToFillArea>
    <showOnTop>true</showOnTop>
    <noPositionRestriction>false</noPositionRestriction>
    <useAccessibilityService>true</useAccessibilityService>
  </action>
  <action type="sound">
    <useDefaultName>false</useDefaultName>
    <name>SO2</name>
    <soundSourceType>BUILTIN</soundSourceType>
    <alarmName>ragnarok-online-level-up-sound</alarmName>
    <uri>content://media/external/audio/media/1000004066?title=ragnarok-online-level-up-sound&amp;canonical=1</uri>
    <path></path>
    <audioStreamType>MUSIC</audioStreamType>
    <startPosition>150ms</startPosition>
    <showStopSoundNotification>false</showStopSoundNotification>
    <waitForSoundToFinish>false</waitForSoundToFinish>
    <requestAudioFocus>false</requestAudioFocus>
    <audioFocusType>TRANSIENT</audioFocusType>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>SOUND-INC</name>
    <script>if(global_device["device"]=="alioth") {return false}

skip=true;
p1="job";
p2="spf";
p4="incoming";

cmd='am start \ -a ch.gridvision.ppam.androidautomagic.intent.action.TRIGGER_SHORTCUT \ -t application/x-androidautomagic \ --es name SENDER \ --ez FROM_BACKGROUND true \ --ez ACTIVITY_NO_ANIMATION true \ --ez ACTIVITY_NO_USER_ACTION true \ --ez ACTIVITY_CLEAR_TOP true ';


exec=callJavaMethod(callJavaStaticMethod("java.lang.Runtime", "getRuntime()"), "java.lang.Runtime", "exec(java.lang.String)", "su");
   out=callJavaMethod(exec, "java.lang.Process", "getOutputStream()");
   os=callJavaConstructor("java.io.DataOutputStream","DataOutputStream(java.io.OutputStream)",out);

   callJavaMethod(os, "java.io.DataOutputStream","writeBytes(java.lang.String)",cmd);
   callJavaMethod(os, "java.io.DataOutputStream", "flush()");
   callJavaMethod(os, "java.io.DataOutputStream", "writeBytes(java.lang.String)", "\nexit\n");
   callJavaMethod(os, "java.io.DataOutputStream", "flush()");</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>SPLITS V2N</name>
    <script>if(length(split(file_text,",\n"))&lt;=1) {


   for (i in [1320 to 1340]){
     
      file_text=replaceAll(file_text,",,{i}",",,{i},");
   }
}

file_text=replaceAll(file_text,",,-6",",,-6,");


file_text=split(file_text,",\n");

header_22=findAll(file_text[0],"F.*")[0];
file_text[0]=split(file_text[0],"F.*\n")[1];


for (i in [0 to length(file_text)-1]){

   file_text[i]=splitCSVRecord(file_text[i]);
}





result=newList();


for (i in [0 to length(file_text)-1]){

log(i+"\n");
log(file_text[i]);


if(contains(file_text[i],name) and not contains(file_text[i],"AUTOCOM")) {

      addElement(result,file_text[i]);
   }
}
removeDuplicateElements(result);




log(length(result));

list_current="";

for (i in [0 to length(global_navigation)-1])
{
   if(length(global_navigation)!=0) {

      list_current=list_current+"‚ñ°      "+global_navigation[i][4]+"\n";
   }
}</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>SPLITS V3</name>
    <script>file_text=csv_original;

if(length(split(file_text,",\n"))&lt;=1) {


   for (i in [1320 to 1340]){
     
      file_text=replaceAll(file_text,",,{i}",",,{i},,,,,,,,,,,,,");
   }
}

file_text=split(file_text,",\n");

header_22=findAll(file_text[0],"F.*")[0];
file_text[0]=split(file_text[0],"F.*\n")[1];

for (i in [0 to length(file_text)-1]){

   file_text[i]=splitCSVRecord(file_text[i]);
}</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>SPLITS V3s</name>
    <script>if(length(split(file_text,",\n"))&lt;=1) {

   for (i in [300 to 1340]){
     
      file_text=replaceAll(file_text,",,{i}",",,{i},,,,");
   }

   file_text=replaceAll(file_text,",,-6",",,-6,,,,");

}




file_text=split(file_text,",\n");

header_22=findAll(file_text[0],"F.*")[0];
file_text[0]=split(file_text[0],"F.*\n")[1];

for (i in [0 to length(file_text)-1]){

   file_text[i]=splitCSVRecord(file_text[i]);
}



//=====================================================================

loc_start="{location,locationformat,decimal}";
lat_start=toNumber(split(loc_start,",")[0]);
lon_start=toNumber(split(loc_start,",")[1]);

loc_end="13.717727,100.344338";
lat_end=toNumber(split(loc_end,",")[0]);
lon_end=toNumber(split(loc_end,",")[1]);</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>SQL-ASSIGN 1</name>
    <script>sQ = "SELECT * FROM order_stacking_assign ORDER BY create_time DESC LIMIT 1";
objCursor=callJavaMethod(objDb,"android.database.sqlite.SQLiteDatabase","rawQuery(java.lang.String,¬†java.lang.String[])", sQ, null);
bExistRecords=callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
nFldCount=callJavaMethod(objCursor,"android.database.Cursor","getColumnCount()") - 1;
bExistRecords=callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
varSelect=newList();
nRec=0;

while (bExistRecords){

   nRec = nRec + 1;
   addElement(varSelect, newList());

   for (nCol in [0 to nFldCount]){

      sFldName = callJavaMethod(objCursor,"android.database.Cursor","getColumnName(int)", nCol);
      sFldValue = callJavaMethod(objCursor,"android.database.Cursor","getString(int)", nCol);
      nFldType = callJavaMethod(objCursor,"android.database.Cursor","getType(int)", nCol);
      sFldValue = replaceAll(sFldValue,'(\\n)',"|");
      sFldValue = replaceAll(sFldValue,"(\\')","`");

      if (nFldType == 3) {varValue = sFldValue}
      else {varValue = toNumber(sFldValue)}
      addElement(varSelect[nRec-1], varValue);
   }
   bExistRecords = callJavaMethod(objCursor,"android.database.Cursor","moveToNext()");
}

for (v in getVariableNames()) {if (NOT matches(v, "global_.*|flow_name|trigger|varSelect|sTypeOut|objDb")){removeVariable(v)};}
removeVariable("v");
removeVariable("sTypeOut");



//==========================================================================================


db_assign=fromJSON(varSelect[0][3]);


</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>SQL-CANCEL </name>
    <script>
order=global_spxdb["order"]["taken"];

db=fromJSON(varSelect[0][6]);
/*
global_spxdb["order"]["taken"]["income"]=
db["driver_delivery_order"]["total_shipping_fee"]/100000;
*/





db=fromJSON(varSelect[0][6]);
id_cancel=newList();

/*
for (i in [0 to length(varSelect)-1])
{
   //addElement(id_cancel,varSelect[i][0]);

for (ix in [0 to length(order["route"]["all"])-1])
{
   if(contains(order["route"]["all"][ix]["delivery_order_id"],varSelect[i][0])) {

      order["route"]["all"][ix]=null;
      
   }
   

}

for (ix in [0 to length(order["route"]["shop"])-1])
{
if(contains(order["route"]["shop"][ix]["delivery_order_id"],varSelect[i][0])) {

      order["route"]["shop"][ix]=null;
      
   }
}
for (ix in [0 to length(order["route"]["customer"])-1])
{
if(contains(order["route"]["customer"][ix]["delivery_order_id"],varSelect[i][0])) {

      order["route"]["customer"][ix]=null;
      
   }
}



}

removeElementValue(order["route"]["all"], null);
removeElementValue(order["route"]["shop"], null);
removeElementValue(order["route"]["customer"], null);*/</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>SQL-CANCEL ‡∏±‡∏±</name>
    <script>sQ = "SELECT * FROM order_cancel";
objCursor=callJavaMethod(objDb,"android.database.sqlite.SQLiteDatabase","rawQuery(java.lang.String,¬†java.lang.String[])", sQ, null);
bExistRecords=callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
nFldCount=callJavaMethod(objCursor,"android.database.Cursor","getColumnCount()") - 1;
bExistRecords=callJavaMethod(objCursor,"android.database.Cursor","moveToFirst()");
varSelect=newList();
nRec=0;

while (bExistRecords){

   nRec = nRec + 1;
   addElement(varSelect, newList());

   for (nCol in [0 to nFldCount]){

      sFldName = callJavaMethod(objCursor,"android.database.Cursor","getColumnName(int)", nCol);
      sFldValue = callJavaMethod(objCursor,"android.database.Cursor","getString(int)", nCol);
      nFldType = callJavaMethod(objCursor,"android.database.Cursor","getType(int)", nCol);
      sFldValue = replaceAll(sFldValue,'(\\n)',"|");
      sFldValue = replaceAll(sFldValue,"(\\')","`");

      if (nFldType == 3) {varValue = sFldValue}
      else {varValue = toNumber(sFldValue)}
      addElement(varSelect[nRec-1], varValue);
   }
   bExistRecords = callJavaMethod(objCursor,"android.database.Cursor","moveToNext()");
}

/*
for (v in getVariableNames()) {if (NOT matches(v, "global_.*|flow_name|trigger|varSelect|sTypeOut|objDb")){removeVariable(v)};}
removeVariable("v");
removeVariable("sTypeOut");

*/

//==========================================================================================


db=fromJSON(varSelect[0][6]);
id_cancel=newList();

for (i in [0 to length(varSelect)-1])
{
   //addElement(id_cancel,varSelect[i][0]);





for (ix in [0 to length(order["route"]["all"])-1])
{
   if(contains(order["route"]["all"][ix]["delivery_order_id"],varSelect[i][0])) {

      order["route"]["all"][ix]=null;
      
   }
   

}

for (ix in [0 to length(order["route"]["shop"])-1])
{
if(contains(order["route"]["shop"][ix]["delivery_order_id"],varSelect[i][0])) {

      order["route"]["shop"][ix]=null;
      
   }
}
for (ix in [0 to length(order["route"]["customer"])-1])
{
if(contains(order["route"]["customer"][ix]["delivery_order_id"],varSelect[i][0])) {

      order["route"]["customer"][ix]=null;
      
   }
}
}</script>
  </action>
  <action type="set_flow_state">
    <useDefaultName>false</useDefaultName>
    <name>ST-TAKE,CANCEL.2</name>
    <enable>true</enable>
    <includeFlowNamePatternList>#23  TAKE,#22A  DENY &lt;MAINACT&gt;,#22B  DENY &lt;DIALOG&gt;</includeFlowNamePatternList>
    <excludeFlowNamePatternList></excludeFlowNamePatternList>
  </action>
  <action type="start_activity">
    <useDefaultName>true</useDefaultName>
    <name>Start Activity: android.intent.action.VIEW {uri} </name>
    <intentAction>android.intent.action.VIEW</intentAction>
    <categoryListEnabled>false</categoryListEnabled>
    <categoryList>android.intent.category.DEFAULT</categoryList>
    <dataEnabled>true</dataEnabled>
    <data>{uri}</data>
    <dataTypeEnabled>false</dataTypeEnabled>
    <dataType>text/plain</dataType>
    <explicitComponent>false</explicitComponent>
    <packageName>com.google.android.apps.maps</packageName>
    <className></className>
    <flagList>FLAG_ACTIVITY_NEW_TASK</flagList>
    <launchBoundsEnabled>false</launchBoundsEnabled>
    <x></x>
    <y></y>
    <width></width>
    <height></height>
    <extras></extras>
    <waitForResult>false</waitForResult>
    <accessResultExtras></accessResultExtras>
  </action>
  <action type="start_activity">
    <useDefaultName>true</useDefaultName>
    <name>Start Activity: android.intent.action.VIEW {uri} com.google.android.apps.maps/ </name>
    <intentAction>android.intent.action.VIEW</intentAction>
    <categoryListEnabled>false</categoryListEnabled>
    <categoryList>android.intent.category.DEFAULT</categoryList>
    <dataEnabled>true</dataEnabled>
    <data>{uri}</data>
    <dataTypeEnabled>false</dataTypeEnabled>
    <dataType>text/plain</dataType>
    <explicitComponent>true</explicitComponent>
    <packageName>com.google.android.apps.maps</packageName>
    <className></className>
    <flagList>FLAG_ACTIVITY_NEW_TASK</flagList>
    <launchBoundsEnabled>false</launchBoundsEnabled>
    <x></x>
    <y></y>
    <width></width>
    <height></height>
    <extras></extras>
    <waitForResult>false</waitForResult>
    <accessResultExtras></accessResultExtras>
  </action>
  <action type="start_activity">
    <useDefaultName>true</useDefaultName>
    <name>Start Activity: android.intent.action.VIEW {url} com.google.android.apps.maps/ </name>
    <intentAction>android.intent.action.VIEW</intentAction>
    <categoryListEnabled>false</categoryListEnabled>
    <categoryList>android.intent.category.DEFAULT</categoryList>
    <dataEnabled>true</dataEnabled>
    <data>{url}</data>
    <dataTypeEnabled>false</dataTypeEnabled>
    <dataType>text/plain</dataType>
    <explicitComponent>true</explicitComponent>
    <packageName>com.google.android.apps.maps</packageName>
    <className></className>
    <flagList>FLAG_ACTIVITY_NEW_TASK</flagList>
    <launchBoundsEnabled>false</launchBoundsEnabled>
    <x></x>
    <y></y>
    <width></width>
    <height></height>
    <extras></extras>
    <waitForResult>false</waitForResult>
    <accessResultExtras></accessResultExtras>
  </action>
  <action type="stop_flows">
    <useDefaultName>false</useDefaultName>
    <name>STOP INC</name>
    <includeFlowNamePatternList>21:  ORDER-INC</includeFlowNamePatternList>
    <excludeFlowNamePatternList></excludeFlowNamePatternList>
  </action>
  <action type="input_dialog">
    <useDefaultName>false</useDefaultName>
    <name>TEST INPUT</name>
    <title></title>
    <inputDialogType>SINGLE_LINE_TEXT</inputDialogType>
    <prompt></prompt>
    <inputValues></inputValues>
    <defaultValue></defaultValue>
    <titleFontSize>DEFAULT</titleFontSize>
    <promptFontSize>DEFAULT</promptFontSize>
    <fontSize>DEFAULT</fontSize>
    <timeoutEnabled>false</timeoutEnabled>
    <timeout>60000</timeout>
    <defaultValueOnTimeout></defaultValueOnTimeout>
    <showWhenLocked>false</showWhenLocked>
    <turnScreenOn>false</turnScreenOn>
    <keepScreenOn>false</keepScreenOn>
    <enlargeDialogWidth>false</enlargeDialogWidth>
    <keyboardCapitalizeSentences>false</keyboardCapitalizeSentences>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>TYPE</name>
    <script>type_place = newList(
    "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó", "‡∏´‡∏à‡∏Å.", "‡∏´‡πâ‡∏≤‡∏á‡∏´‡∏∏‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô", "‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£", "‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô", "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£", "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£",
    "‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤", "‡∏Ñ‡∏•‡∏±‡∏á‡∏à‡∏±‡∏î‡∏™‡πà‡∏á", "‡∏Ñ‡∏•‡∏±‡∏á‡πÇ‡∏•‡∏à‡∏¥‡∏™‡∏ï‡∏¥‡∏Å‡∏™‡πå", "‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢", "‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà", "‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô",
    "‡∏ô‡∏¥‡∏Ñ‡∏°‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°", "‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°", "‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£", "‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ô‡∏Ñ‡∏£‡∏´‡∏•‡∏ß‡∏á", "‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ",
    "‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏õ‡∏≤‡∏ô‡∏Ñ‡∏£‡∏´‡∏•‡∏ß‡∏á", "‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏õ‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ", "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£", "‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏π‡∏ï", "‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏Ç‡∏ï",
    "‡πÄ‡∏ó‡∏®‡∏ö‡∏≤‡∏•", "‡∏≠‡∏ö‡∏ï.", "‡∏≠‡∏ö‡∏à.", "‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏≠‡∏≥‡πÄ‡∏†‡∏≠", "‡∏ó‡∏≥‡πÄ‡∏ô‡∏µ‡∏¢‡∏ö‡∏≠‡∏á‡∏Ñ‡∏°‡∏ô‡∏ï‡∏£‡∏µ", "‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô", "‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î",
    "‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î‡∏°‡∏¥‡πÄ‡∏ô‡∏µ‡∏¢‡∏°", "‡πÅ‡∏°‡∏ô‡∏ä‡∏±‡πà‡∏ô", "‡∏≠‡∏û‡∏≤‡∏£‡πå‡∏ï‡πÄ‡∏°‡∏ô‡∏ï‡πå", "‡πÅ‡∏ü‡∏•‡∏ï", "‡∏ï‡∏∂‡∏Å", "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ä‡∏∏‡∏î", "‡∏´‡∏≠‡∏û‡∏±‡∏Å", "‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏´‡∏≠",
    "‡∏£‡∏µ‡∏™‡∏≠‡∏£‡πå‡∏ï", "‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å", "‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏ä‡πà‡∏≤", "‡∏ä‡∏∏‡∏°‡∏ä‡∏ô", "‡∏´‡πâ‡∏≤‡∏á", "‡∏´‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤", "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤",
    "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏£‡∏ß‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤", "‡πÄ‡∏°‡∏Å‡∏∞‡∏°‡∏≠‡∏•‡∏•‡πå", "‡∏û‡∏•‡∏≤‡∏ã‡πà‡∏≤", "‡∏Ñ‡∏≠‡∏°‡∏°‡∏π‡∏ô‡∏¥‡∏ï‡∏µ‡πâ‡∏°‡∏≠‡∏•‡∏•‡πå", "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏≠‡∏≤‡∏´‡∏≤‡∏£", "‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤‡∏õ‡∏•‡∏µ‡∏Å",
    "‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°", "‡∏£‡∏µ‡∏™‡∏≠‡∏£‡πå‡∏ï", "‡πÇ‡∏Æ‡∏°‡∏™‡πÄ‡∏ï‡∏¢‡πå", "‡πÄ‡∏Å‡∏™‡∏ï‡πå‡πÄ‡∏Æ‡∏≤‡∏™‡πå", "‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•", "‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å", "‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡πÅ‡∏û‡∏ó‡∏¢‡πå",
    "‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡∏ó‡∏±‡∏ô‡∏ï‡∏Å‡∏£‡∏£‡∏°", "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå", "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û", "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏î‡∏π‡πÅ‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏", "‡∏™‡∏ñ‡∏≤‡∏ô‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•",
    "‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå", "‡∏™‡∏ñ‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡∏≤‡∏°", "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏®‡∏±‡∏•‡∏¢‡∏Å‡∏£‡∏£‡∏°", "‡∏£‡πâ‡∏≤‡∏ô", "‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤", "‡∏£‡πâ‡∏≤‡∏ô‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏ã‡∏∑‡πâ‡∏≠",
    "‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≤‡∏£‡πå‡∏ó", "‡∏ã‡∏π‡πÄ‡∏õ‡∏≠‡∏£‡πå‡∏°‡∏≤‡∏£‡πå‡πÄ‡∏Å‡πá‡∏ï", "‡πÑ‡∏Æ‡πÄ‡∏õ‡∏≠‡∏£‡πå‡∏°‡∏≤‡∏£‡πå‡πÄ‡∏Å‡πá‡∏ï", "‡∏´‡πâ‡∏≤‡∏á‡∏Ñ‡πâ‡∏≤‡∏õ‡∏•‡∏µ‡∏Å", "‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏ä‡∏≥",
    "‡∏£‡πâ‡∏≤‡∏ô‡πÇ‡∏ä‡∏´‡πà‡∏ß‡∏¢", "‡∏ï‡∏•‡∏≤‡∏î", "‡∏ï‡∏•‡∏≤‡∏î‡∏™‡∏î", "‡∏ï‡∏•‡∏≤‡∏î‡∏ô‡∏±‡∏î", "‡∏ï‡∏•‡∏≤‡∏î‡∏Å‡∏•‡∏≤‡∏á", "‡∏ï‡∏•‡∏≤‡∏î‡∏Ñ‡πâ‡∏≤‡∏™‡πà‡∏á", "‡∏ï‡∏•‡∏≤‡∏î‡∏Ñ‡πâ‡∏≤‡∏õ‡∏•‡∏µ‡∏Å",
    "‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢‡∏¢‡∏≤", "‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£", "‡∏ü‡∏π‡πâ‡∏î‡∏Ñ‡∏≠‡∏£‡πå‡∏ó", "‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô", "‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢", "‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢",
    "‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤", "‡∏™‡∏ñ‡∏≤‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤", "‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Å‡∏ß‡∏î‡∏ß‡∏¥‡∏ä‡∏≤", "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ", "‡∏´‡∏≠‡∏™‡∏°‡∏∏‡∏î",
    "‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏î", "‡∏®‡∏≤‡∏•‡∏≤‡∏Å‡∏•‡∏≤‡∏á", "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ï‡∏≥‡∏£‡∏ß‡∏à", "‡πÇ‡∏£‡∏á‡∏û‡∏±‡∏Å", "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏î‡∏±‡∏ö‡πÄ‡∏û‡∏•‡∏¥‡∏á", "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢",
    "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏≠‡∏≤‡∏™‡∏≤‡∏™‡∏°‡∏±‡∏Ñ‡∏£", "‡∏ß‡∏±‡∏î", "‡πÇ‡∏ö‡∏™‡∏ñ‡πå", "‡∏°‡∏±‡∏™‡∏¢‡∏¥‡∏î", "‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏™‡∏á‡∏Ü‡πå", "‡∏™‡∏ñ‡∏≤‡∏ô‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏°",
    "‡∏®‡∏≤‡∏•‡πÄ‡∏à‡πâ‡∏≤", "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á", "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏£‡∏ñ‡πÑ‡∏ü", "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏£‡∏ñ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤", "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏£‡∏ñ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô",
    "‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠", "‡∏ó‡πà‡∏≤‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏¢‡∏≤‡∏ô", "‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô", "‡∏≠‡∏π‡πà‡∏£‡∏ñ‡πÄ‡∏°‡∏•‡πå", "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",
    "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤", "‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô", "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô", "‡∏õ‡∏±‡πä‡∏°‡πÅ‡∏Å‡πä‡∏™",
    "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå", "‡∏≠‡∏π‡πà‡∏ã‡πà‡∏≠‡∏°‡∏£‡∏ñ", "‡∏™‡∏ß‡∏ô‡∏™‡∏ô‡∏∏‡∏Å", "‡∏™‡∏ß‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå", "‡∏≠‡∏Ñ‡∏ß‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏°",
    "‡∏™‡∏ß‡∏ô‡∏ô‡πâ‡∏≥", "‡∏û‡∏¥‡∏û‡∏¥‡∏ò‡∏†‡∏±‡∏ì‡∏ë‡πå", "‡∏´‡∏≠‡∏®‡∏¥‡∏•‡∏õ‡πå", "‡∏≠‡∏ô‡∏∏‡∏™‡∏£‡∏ì‡πå‡∏™‡∏ñ‡∏≤‡∏ô", "‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞",
    "‡∏ä‡∏≤‡∏¢‡∏´‡∏≤‡∏î", "‡∏ô‡πâ‡∏≥‡∏ï‡∏Å", "‡∏≠‡∏∏‡∏ó‡∏¢‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥", "‡πÇ‡∏Å‡∏î‡∏±‡∏á", "‡∏•‡∏≤‡∏ô‡∏à‡∏≠‡∏î‡∏£‡∏ñ", "‡∏™‡∏ô‡∏≤‡∏°‡∏Å‡∏µ‡∏¨‡∏≤",
    "‡∏™‡∏ô‡∏≤‡∏°‡∏ü‡∏∏‡∏ï‡∏ö‡∏≠‡∏•", "‡∏™‡∏ô‡∏≤‡∏°‡∏Å‡∏≠‡∏•‡πå‡∏ü", "‡∏ü‡∏¥‡∏ï‡πÄ‡∏ô‡∏™", "‡∏¢‡∏¥‡∏°", "‡πÄ‡∏ß‡∏ó‡∏µ‡∏°‡∏ß‡∏¢", "‡πÇ‡∏£‡∏á‡∏†‡∏≤‡∏û‡∏¢‡∏ô‡∏ï‡∏£‡πå",
    "‡πÇ‡∏£‡∏á‡∏•‡∏∞‡∏Ñ‡∏£", "‡∏™‡∏ô‡∏≤‡∏°‡πÅ‡∏Ç‡πà‡∏á‡∏£‡∏ñ",
    "‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô", "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ï‡∏≥‡∏£‡∏ß‡∏à", "‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•", "‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å", "‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£", "‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô", "‡∏ß‡∏±‡∏î",
        "‡∏ï‡∏•‡∏≤‡∏î", "‡∏ï‡∏•‡∏≤‡∏î‡∏ô‡∏±‡∏î", "‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô", "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó", "‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô", "‡∏≠‡∏≠‡∏ü‡∏ü‡∏¥‡∏®",
        "‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£", "‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà", "‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü", "‡∏´‡πâ‡∏≤‡∏á", "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤", "‡πÄ‡∏ã‡πÄ‡∏ß‡πà‡∏ô",
        "‡πÇ‡∏•‡∏ï‡∏±‡∏™", "‡∏ö‡∏¥‡πä‡∏Å‡∏ã‡∏µ", "‡πÅ‡∏°‡πá‡∏Ñ‡πÇ‡∏Ñ‡∏£", "‡πÅ‡∏ü‡∏°‡∏¥‡∏•‡∏µ‡πà‡∏°‡∏≤‡∏£‡πå‡∏ó", "‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô", "‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå",
        "‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°", "‡∏£‡∏µ‡∏™‡∏≠‡∏£‡πå‡∏ó", "‡πÄ‡∏Å‡∏™‡∏ï‡πå‡πÄ‡∏Æ‡πâ‡∏≤‡∏™‡πå", "‡∏™‡∏ô‡∏≤‡∏°‡∏Å‡∏µ‡∏¨‡∏≤", "‡∏™‡∏ô‡∏≤‡∏°‡∏Å‡∏≠‡∏•‡πå‡∏ü",
        "‡∏ü‡∏≤‡∏£‡πå‡∏°", "‡πÇ‡∏ä‡∏ß‡πå‡∏£‡∏π‡∏°", "‡πÇ‡∏Å‡∏î‡∏±‡∏á", "‡πÇ‡∏£‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå", "‡∏ö‡πâ‡∏≤‡∏ô", "‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô", "‡∏´‡∏≠‡∏û‡∏±‡∏Å",
        "‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î", "‡∏≠‡∏û‡∏≤‡∏£‡πå‡∏ó‡πÄ‡∏°‡πâ‡∏ô‡∏ó‡πå","‡∏°‡∏ö");


for (i in type_place){

   if(contains(address_raw,i)) {

      addElement(type_list,i);
      return
   }
}


if(contains(address_raw,"‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà") or contains(address_raw,"/")) {

addElement(type_list,"***‡∏ö‡πâ‡∏≤‡∏ô");
      return

}




addElement(type_list,"‡πÑ‡∏°‡πà‡∏û‡∏ö : "+address_raw);</script>
  </action>
  <action type="execute_flows">
    <useDefaultName>false</useDefaultName>
    <name>UPDATE DB</name>
    <includeFlowNamePatternList>20:  SUPPORT</includeFlowNamePatternList>
    <excludeFlowNamePatternList></excludeFlowNamePatternList>
    <skipDisabledFlowsWithoutError>true</skipDisabledFlowsWithoutError>
    <waitForFlowsToFinish>true</waitForFlowsToFinish>
    <returnLocalVariablesToCallingFlow>false</returnLocalVariablesToCallingFlow>
  </action>
  <action type="show_custom_widget_overlay">
    <useDefaultName>false</useDefaultName>
    <name>WGT-DENY</name>
    <overlayName>SPF_INCOMING_DENY</overlayName>
    <widgetName>SPF_INCOMING_DENY</widgetName>
    <width></width>
    <height></height>
    <gravityType>BOTTOM_LEFT</gravityType>
    <xOffset>0</xOffset>
    <yOffset>280</yOffset>
    <draggable>false</draggable>
    <opacity>1.00</opacity>
    <clickable>true</clickable>
    <stretchToFillArea>false</stretchToFillArea>
    <showOnTop>true</showOnTop>
    <noPositionRestriction>false</noPositionRestriction>
    <useAccessibilityService>true</useAccessibilityService>
  </action>
  <action type="show_custom_widget_overlay">
    <useDefaultName>false</useDefaultName>
    <name>WGT-DETAIL</name>
    <overlayName>SPF_INCOMING_DETAIL</overlayName>
    <widgetName>SPF_INCOMING_DETAIL</widgetName>
    <width></width>
    <height></height>
    <gravityType>BOTTOM_LEFT</gravityType>
    <xOffset>0</xOffset>
    <yOffset>420</yOffset>
    <draggable>false</draggable>
    <opacity>1.00</opacity>
    <clickable>false</clickable>
    <stretchToFillArea>false</stretchToFillArea>
    <showOnTop>true</showOnTop>
    <noPositionRestriction>false</noPositionRestriction>
    <useAccessibilityService>true</useAccessibilityService>
  </action>
  <action type="control_user_interface">
    <useDefaultName>false</useDefaultName>
    <name>WN-CLEAR</name>
    <script>sleep(1000);


while(true) {

   wn=getTextInActiveWindow();

   if(contains(wn,"‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ñ‡∏±‡∏î‡πÑ‡∏õ")) {

      while(contains("‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ñ‡∏±‡∏î‡πÑ‡∏õ")==true) {sleep(1000)}
      return}

   else if(contains(wn,"‡∏ø")) {

      global_spxdb["order"]["incoming"]=newMap();
      global_spxdb["order"]["taken"]=newMap();
      global_spxdb["order"]["previous_income"]=0;

      while(getBounds("‡∏ï‡∏Å‡∏•‡∏á")!=null) {sleep(1000)}
      return}

   else if(findAll(wn,"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠|‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà")!="[]") {

      return
   }
   sleep(40);
}</script>
  </action>
  <action type="write_to_file">
    <useDefaultName>false</useDefaultName>
    <name>WRITE  </name>
    <path>/storage/emulated/0/Android/application/SPFDB/LOCATION-ENGINE/2_engine.csv</path>
    <text>{newfile}</text>
    <append>false</append>
  </action>
  <action type="write_to_file">
    <useDefaultName>false</useDefaultName>
    <name>WRITE  x</name>
    <path>/storage/emulated/0/Android/application/SPFDB/LOCATION-ENGINE/3_polyline.kml</path>
    <text>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;
&lt;kml xmlns="http://www.opengis.net/kml/2.2" xmlns:gx="http://www.google.com/kml/ext/2.2"&gt;
  &lt;Document&gt;
    &lt;name&gt;yyy&lt;/name&gt;
    &lt;Style id="mm_folder_color_1"&gt;
      &lt;IconStyle&gt;
        &lt;color&gt;fff39621&lt;/color&gt;
        &lt;colorMode&gt;normal&lt;/colorMode&gt;
        &lt;scale&gt;1&lt;/scale&gt;
      &lt;/IconStyle&gt;
      &lt;LineStyle&gt;
        &lt;color&gt;fff39621&lt;/color&gt;
        &lt;width&gt;1&lt;/width&gt;
      &lt;/LineStyle&gt;
      &lt;PolyStyle&gt;
        &lt;color&gt;fff39621&lt;/color&gt;
      &lt;/PolyStyle&gt;
    &lt;/Style&gt;
    &lt;Folder id="1"&gt;
      &lt;styleUrl&gt;#mm_folder_color_1&lt;/styleUrl&gt;
      &lt;name&gt;POLYLINE&lt;/name&gt;
      &lt;Style id="mm_marker_color_7"&gt;
        &lt;IconStyle&gt;
          &lt;color&gt;fff39621&lt;/color&gt;
          &lt;colorMode&gt;normal&lt;/colorMode&gt;
          &lt;scale&gt;1&lt;/scale&gt;
        &lt;/IconStyle&gt;
        &lt;LineStyle&gt;
          &lt;color&gt;fff39621&lt;/color&gt;
          &lt;width&gt;1&lt;/width&gt;
        &lt;/LineStyle&gt;
        &lt;PolyStyle&gt;
          &lt;color&gt;fff39621&lt;/color&gt;
        &lt;/PolyStyle&gt;
      &lt;/Style&gt;
{polyline}   &lt;/Folder&gt;
  &lt;/Document&gt;
&lt;/kml&gt;</text>
    <append>false</append>
  </action>
  <action type="write_to_file">
    <useDefaultName>true</useDefaultName>
    <name>Write to File: {address_x} to /storage/emulated/0/filxxxxxxxxe.txt (append)</name>
    <path>/storage/emulated/0/filxxxxxxxxe.txt</path>
    <text>{address_x}</text>
    <append>true</append>
  </action>
  <action type="write_to_file">
    <useDefaultName>true</useDefaultName>
    <name>Write to File: {writer} to /storage/emulated/0/file.csv (overwrite)</name>
    <path>/storage/emulated/0/file.csv</path>
    <text>{writer}</text>
    <append>false</append>
  </action>
  <action type="write_to_file">
    <useDefaultName>true</useDefaultName>
    <name>Write to File: {write} to /storage/emulated/0/file.kml (overwrite)</name>
    <path>/storage/emulated/0/file.kml</path>
    <text>{write}</text>
    <append>false</append>
  </action>
  <action type="write_to_file">
    <useDefaultName>false</useDefaultName>
    <name>WRITEFILE</name>
    <path>/storage/emulated/0/Android/application/SPFDB/LOCATION-ENGINE/1_base.csv</path>
    <text>{W}</text>
    <append>false</append>
  </action>
  <action type="control_user_interface">
    <useDefaultName>false</useDefaultName>
    <name>X</name>
    <script>i=0;

while(not clickById("com.shopee.foody.driver.th:id/iv_assign_order_close")) {

   i=i+1;

   if(i==10) {

      touchGesture(0, 1, newList(549, 1206));
      touchGesture(0, 1, newList(949, 249));
   }
   if(i&gt;=100) {

     return 
   }
   sleep(10);
}</script>
  </action>
  <action type="script">
    <useDefaultName>false</useDefaultName>
    <name>XML BU</name>
    <script>

write="";



documentFactory=callJavaStaticMethod("javax.xml.parsers.DocumentBuilderFactory", "newInstance()");
documentBuilder=callJavaMethod(documentFactory, "javax.xml.parsers.DocumentBuilderFactory", "newDocumentBuilder()");




document=callJavaMethod(documentBuilder, "javax.xml.parsers.DocumentBuilder", "newDocument()");
root=callJavaMethod(document, "org.w3c.dom.Document", "createElement(java.lang.String)", "kml");




callJavaMethod(document, "org.w3c.dom.Node", "appendChild(org.w3c.dom.Node)", root);





book=callJavaMethod(document, "org.w3c.dom.Document", "createElement(java.lang.String)", "book");


callJavaMethod(root, "org.w3c.dom.Node", "appendChild(org.w3c.dom.Node)", book);








transformerFactory=callJavaStaticMethod("javax.xml.transform.TransformerFactory", "newInstance()");

transformer=callJavaMethod(transformerFactory, "javax.xml.transform.TransformerFactory", "newTransformer()");







//callJavaMethod(transformer, "javax.xml.transform.Transformer", "setOutputProperty(java.lang.String,¬†java.lang.String)", param1, param2)


x=callJavaConstructor("java.io.StringWriter", "StringWriter()");

a=callJavaConstructor("javax.xml.transform.dom.DOMSource", "DOMSource(org.w3c.dom.Node)", document);
b=callJavaConstructor("javax.xml.transform.stream.StreamResult", "StreamResult(java.io.Writer)", x);

callJavaMethod(transformer, "javax.xml.transform.Transformer", "transform(javax.xml.transform.Source,¬†javax.xml.transform.Result)", a, b);




y=callJavaMethod(x, "java.io.StringWriter", "toString()");

</script>
  </action>
  <action type="set_flow_state">
    <useDefaultName>false</useDefaultName>
    <name>‚ùå
TAKE, DENY</name>
    <enable>false</enable>
    <includeFlowNamePatternList>#23  TAKE,#22A  DENY &lt;MAINACT&gt;,#22B  DENY &lt;DIALOG&gt;</includeFlowNamePatternList>
    <excludeFlowNamePatternList></excludeFlowNamePatternList>
  </action>
  <action type="message_dialog">
    <useDefaultName>false</useDefaultName>
    <name>‚ùå  No Navigation! </name>
    <title>‚ùå  No Navigation!</title>
    <message></message>
    <buttonLabel></buttonLabel>
    <timeoutEnabled>true</timeoutEnabled>
    <timeout>5000</timeout>
  </action>
  <action type="control_user_interface">
    <useDefaultName>false</useDefaultName>
    <name>üì¶</name>
    <script>for (i in [1 to 300]) {

   wn=getTextInActiveWindow();
   if(contains(wn,"‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏£‡∏±‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥")) {

      state="autoaccept";
      sqrt();}

   else if(contains(wn,"‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£")) {

      state="food";
      setWidgetElementProperty("SPF_INCOMING_DENY", "T1", "text", "‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò");
      //sleep(500);
      sqrt()}

   else if(contains(wn,"‡∏ñ‡∏π‡∏Å‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å")) {

      state="cancel";
      sqrt()}

   else if(contains(wn,"‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö") and not contains(wn,"‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£")) {

      return
   }
   sleep(10);
}

state="timeout";
sqrt();</script>
  </action>
  <flow type="flow">
    <name>#22A  DENY &lt;MAINACT&gt;</name>
    <description> </description>
    <group>üìå</group>
    <enabled>true</enabled>
    <executionPolicy>SKIP</executionPolicy>
    <emergencyStopCount>999999</emergencyStopCount>
    <triggercontainer id="t1" x="70.0" y="-122.5">
      <trigger>SPF-HOME</trigger>
    </triggercontainer>
    <notecontainer id="t2" x="280.0" y="-122.5" w="140.0" h="105.0">OFF ACTIVITY</notecontainer>
    <actioncontainer id="t3" x="245.0" y="192.5">CLEAR </actioncontainer>
    <actioncontainer id="t4" x="-105.0" y="192.5">HIDE DENY,DETAIL</actioncontainer>
    <actioncontainer id="t5" x="70.0" y="192.5">‚ùå
TAKE, DENY</actioncontainer>
    <actioncontainer id="t6" x="70.0" y="297.5">STOP INC</actioncontainer>
    <connection from="t1" to="t5" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t1" to="t4" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t1" to="t3" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t1" to="t2" type="NOTE" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t5" to="t6" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
  </flow>
  <flow type="flow">
    <name>#22B  DENY &lt;DIALOG&gt;</name>
    <description> </description>
    <group>üìå</group>
    <enabled>true</enabled>
    <executionPolicy>SKIP</executionPolicy>
    <emergencyStopCount>999999</emergencyStopCount>
    <triggercontainer id="t1" x="-105.0" y="17.5">
      <trigger>SPF-CANCEL</trigger>
    </triggercontainer>
    <actioncontainer id="t2" x="105.0" y="192.5">HIDE DENY,DETAIL</actioncontainer>
    <actioncontainer id="t3" x="-315.0" y="297.5">STOP INC</actioncontainer>
    <actioncontainer id="t4" x="-315.0" y="192.5">‚ùå
TAKE, DENY</actioncontainer>
    <actioncontainer id="t5" x="-105.0" y="192.5">CF-DENY</actioncontainer>
    <connection from="t1" to="t2" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t1" to="t4" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t1" to="t5" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t4" to="t3" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
  </flow>
  <flow type="flow">
    <name>#23  TAKE</name>
    <description> </description>
    <group>üìå</group>
    <enabled>true</enabled>
    <executionPolicy>SKIP</executionPolicy>
    <emergencyStopCount>999999</emergencyStopCount>
    <actioncontainer id="t1" x="-210.0" y="87.5">‚ùå
TAKE, DENY</actioncontainer>
    <actioncontainer id="t2" x="-210.0" y="192.5">STOP INC</actioncontainer>
    <actioncontainer id="t3" x="-350.0" y="87.5">HIDE DENY,DETAIL</actioncontainer>
    <conditioncontainer id="t4" x="35.0" y="87.5">ONGOING</conditioncontainer>
    <conditioncontainer id="t5" x="35.0" y="297.5">..</conditioncontainer>
    <conditioncontainer id="t6" x="35.0" y="437.5">IGNORE </conditioncontainer>
    <actioncontainer id="t7" x="35.0" y="612.5">=</actioncontainer>
    <notecontainer id="t8" x="210.0" y="612.5" w="140.0" h="105.0">‡πÄ‡∏û‡∏¥‡πà‡∏°  previous_income</notecontainer>
    <actioncontainer id="t9" x="35.0" y="-227.5">





    </actioncontainer>
    <triggercontainer id="t10" x="35.0" y="-507.5">
      <trigger>SPF-TAKE</trigger>
    </triggercontainer>
    <actioncontainer id="t11" x="34.999992" y="-367.50006">SO2</actioncontainer>
    <connection from="t1" to="t2" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t4" to="t5" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t5" to="t6" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t5" to="t6" type="FALSE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t6" to="t5" type="TRUE" sourcePosition="WEST" targetPosition="WEST" />
    <connection from="t6" to="t7" type="FALSE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t9" to="t4" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t9" to="t1" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t9" to="t3" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t10" to="t11" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t11" to="t9" type="EXCEPTION" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t11" to="t9" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
  </flow>
  <flow type="flow">
    <name>#24  FINISHED</name>
    <description> </description>
    <group>üìå</group>
    <enabled>true</enabled>
    <executionPolicy>SKIP</executionPolicy>
    <emergencyStopCount>999999</emergencyStopCount>
    <triggercontainer id="t1" x="70.0" y="52.5">
      <trigger>GOOD</trigger>
    </triggercontainer>
    <actioncontainer id="t2" x="70.0" y="192.5">WN-CLEAR</actioncontainer>
    <connection from="t1" to="t2" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
  </flow>
  <flow type="flow">
    <name>#30:  CSV-BASE</name>
    <description> </description>
    <group>üìå</group>
    <enabled>true</enabled>
    <executionPolicy>SKIP</executionPolicy>
    <emergencyStopCount>999999</emergencyStopCount>
    <triggercontainer id="t1" x="2310.0" y="-1767.5" />
    <actioncontainer id="t2" x="2065.0" y="-402.5">FOOD-RP</actioncontainer>
    <actioncontainer id="t3" x="2310.0" y="157.5">Execute Flows: #33:  LOCATION ENGINE</actioncontainer>
    <conditioncontainer id="t4" x="3360.0" y="-962.5">FILE2?</conditioncontainer>
    <actioncontainer id="t5" x="3395.0" y="-822.5">SQL-ASSIGN 1</actioncontainer>
    <notecontainer id="t6" x="3395.0" y="-752.5" w="140.0" h="105.0">‡πÉ‡∏´‡πâ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</notecontainer>
    <actioncontainer id="t7" x="3430.0" y="-752.5">FILTER 5A</actioncontainer>
    <conditioncontainer id="t8" x="3430.0" y="-892.5">FILE2?</conditioncontainer>
    <actioncontainer id="t9" x="3430.0" y="-787.5">SQL-CANCEL ‡∏±‡∏±</actioncontainer>
    <actioncontainer id="t10" x="3430.0" y="-682.5">Script: for (i in [0 to length(varSelect)-1]) { //addElement(id_cancel,varSelect[i][0]); for (ix in [0 to length(gfggg["route"]["all"])-1]) { if(contains(order["route"]["all"][ix]["delivery_order_id"],varSelect[i][0])) { order["route"]["all"][ix]=null; } } }</actioncontainer>
    <conditioncontainer id="t11" x="3430.0" y="-577.5">     DEBUG    </conditioncontainer>
    <actioncontainer id="t12" x="2310.0" y="-402.5">BASE-CSV</actioncontainer>
    <actioncontainer id="t13" x="2450.0" y="-402.5">BASE-XML </actioncontainer>
    <actioncontainer id="t14" x="2310.0" y="-87.5">  OK  </actioncontainer>
    <actioncontainer id="t15" x="2310.0" y="-192.5">WRITEFILE</actioncontainer>
    <conditioncontainer id="t16" x="2065.0" y="-822.5"> Debug Dialog</conditioncontainer>
    <conditioncontainer id="t17" x="2310.0" y="-1592.5">EXIST?.2</conditioncontainer>
    <actioncontainer id="t18" x="2310.0" y="-1172.5">SEL
ASSIGN/CC.2</actioncontainer>
    <actioncontainer id="t19" x="2310.0" y="-1067.5">FILTER X4+CC</actioncontainer>
    <connection from="t1" to="t17" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t4" to="t5" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t5" to="t7" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t7" to="t8" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t8" to="t9" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t10" to="t11" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t12" to="t15" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t12" to="t2" type="EXCEPTION" sourcePosition="WEST" targetPosition="EAST" />
    <connection from="t14" to="t3" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t15" to="t14" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t17" to="t18" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t18" to="t19" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t19" to="t12" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
  </flow>
  <flow type="flow">
    <name>#33:  LOCATION ENGINE</name>
    <description> </description>
    <group>üìå</group>
    <enabled>true</enabled>
    <executionPolicy>SKIP</executionPolicy>
    <emergencyStopCount>999999</emergencyStopCount>
    <triggercontainer id="t1" x="-560.0" y="-6002.5" />
    <actioncontainer id="t2" x="5320.0" y="-2082.5">Write to File: {write} to /storage/emulated/0/file.kml (overwrite)</actioncontainer>
    <conditioncontainer id="t3" x="5530.0" y="-1662.5">     DEBUG    </conditioncontainer>
    <actioncontainer id="t4" x="4935.0" y="-2292.5">TEST INPUT</actioncontainer>
    <actioncontainer id="t5" x="5145.0" y="-2047.5">Script: loc_id=fromJSON(response)["predictions"][0]["id"]; response=fromJSON(response)["predictions"];</actioncontainer>
    <actioncontainer id="t6" x="4935.0" y="-2082.5">P-AUTOFIL</actioncontainer>
    <actioncontainer id="t7" x="4935.0" y="-1977.5">HTTP Request: GET https://mall.shopee.co.th/api/v4/geo/details?components=country%3ATH&amp;fields=formatted_address%2Cgeometry&amp;group=DS&amp;placeid={loc_id}&amp;sessiontoken=d1157d8d-55e9-4ed8-9697-21826590124d&amp;use_case=marketplace.checkout   store in response</actioncontainer>
    <actioncontainer id="t8" x="4935.0" y="-1872.5">Script: //response=fromJSON(response)["result"]["geometry"]["location"] //lnglat</actioncontainer>
    <actioncontainer id="t9" x="5145.0" y="-2292.5">J-GEO </actioncontainer>
    <actioncontainer id="t10" x="5145.0" y="-2187.5">HTTP Request: GET https://mall.shopee.co.th/api/v4/geo/autocomplete?city={city}&amp;components=country%3ATH&amp;district={district}&amp;input={input}&amp;sessiontoken=d1157d8d-55e9-4ed8-9697-21826590124d&amp;state={state}&amp;use_case=marketplace.checkout&amp;user_lat=13.7177965&amp;user_lng=100.3443447&amp;zipcode={zip}   store in response</actioncontainer>
    <actioncontainer id="t11" x="4935.0" y="-2187.5">DJ</actioncontainer>
    <actioncontainer id="t12" x="5740.0" y="-2082.5">Start Activity: android.intent.action.VIEW {uri} com.google.android.apps.maps/ </actioncontainer>
    <conditioncontainer id="t13" x="6020.0" y="-1907.5"> Debug Dialog</conditioncontainer>
    <actioncontainer id="t14" x="6090.0" y="-2257.5">Script: route=newMapFromValues("jobs", newList(),"vehicles",newList()); for (i in [0 to length(order["route"]["all"])-1]) { if(order["route"]["all"][i]["location_type"]==2) { addElement(route["jobs"], newMapFromValues( "id", i+1, "service",300, "delivery",newList(2), "location",newList( order["route"]["all"][i]["details"]["address"]["longitude"], order["route"]["all"][i]["details"]["address"]["latitude"] ) //"skills",newList(1) )); } } addElement(route["vehicles"],newMapFromValues( "id",1, "profile","driving-car", "start",newList(100.350930,13.745119), "end",newList(100.350930,13.745119), "capacity",newList(100) //"skills",newList(1,14) )); route=toJSON(route)</actioncontainer>
    <actioncontainer id="t15" x="5740.0" y="-2187.5">Script: response=fromJSON(response); start=response["routes"][0]["steps"][0]["location"]; start="{start[1]},{start[0]}"; end=response["routes"][0]["steps"][length(response["routes"][0]["steps"])-1]["location"]; end="{end[1]},{end[0]}"; waypoint=""; for (i in [0 to length(response["routes"][0]["steps"])-1]) { if(response["routes"][0]["steps"][i]["type"]=="job") { point=response["routes"][0]["steps"][i]["location"]; waypoint=waypoint+"{point[1]},{point[0]}|" } } waypoint=substring(waypoint, 0, length(waypoint)-1); uri = "https://www.google.com/maps/dir/?api=1" + "&amp;origin={start}" + "&amp;destination={end}" + "&amp;waypoints={waypoint}";</actioncontainer>
    <actioncontainer id="t16" x="6475.0" y="-1347.5">Script: /*import org.xmlpull.v1.XmlSerializer; import android.util.Xml; import java.io.File; import java.io.FileOutputStream; import java.io.OutputStreamWriter; import java.io.Writer; import java.io.BufferedReader; import java.io.FileReader; import java.io.IOException; public class CsvToKmlConverter { public static void convertCsvToKml(File csvFile, File kmlFile) { try { BufferedReader reader = new BufferedReader(new FileReader(csvFile)); Writer writer = new OutputStreamWriter(new FileOutputStream(kmlFile), "UTF-8"); XmlSerializer xmlSerializer = Xml.newSerializer(); xmlSerializer.setOutput(writer); xmlSerializer.startDocument("UTF-8", true); // Start KML xmlSerializer.startTag(null, "kml"); xmlSerializer.attribute(null, "xmlns", "http://www.opengis.net/kml/2.2"); xmlSerializer.startTag(null, "Document"); String line; boolean isFirstLine = true; while ((line = reader.readLine()) != null) { if (isFirstLine) { // ‡∏Ç‡πâ‡∏≤‡∏° Header isFirstLine = false; continue; } String[] values = line.split(","); if (values.length &gt;= 3) { String name = values[0]; String lat = values[1]; String lon = values[2]; xmlSerializer.startTag(null, "Placemark"); xmlSerializer.startTag(null, "name"); xmlSerializer.text(name); xmlSerializer.endTag(null, "name"); xmlSerializer.startTag(null, "Point"); xmlSerializer.startTag(null, "coordinates"); xmlSerializer.text(lon + "," + lat + ",0"); xmlSerializer.endTag(null, "coordinates"); xmlSerializer.endTag(null, "Point"); xmlSerializer.endTag(null, "Placemark"); } } // End KML xmlSerializer.endTag(null, "Document"); xmlSerializer.endTag(null, "kml"); xmlSerializer.endDocument(); reader.close(); writer.close(); } catch (IOException e) { e.printStackTrace(); } } } */ xmlSerializer=callJavaStaticMethod("android.util.Xml", "newSerializer()"); callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "startDocument(java.lang.String, java.lang.Boolean)", "UTF-8",true); callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "startTag(java.lang.String, java.lang.String)", null, "kml"); callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "attribute(java.lang.String, java.lang.String, java.lang.String)", null, "xmlns", "http://www.opengis.net/kml/2.2"); callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "startTag(java.lang.String, java.lang.String)", null, "Document"); callJavaMethod(xmlSerializer, "org.xmlpull.v1.XmlSerializer", "endDocument()")</actioncontainer>
    <actioncontainer id="t17" x="6510.0" y="-2082.5">Message Dialog: ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á {name} {city} {district} {subdt} {zipcode}</actioncontainer>
    <conditioncontainer id="t18" x="6545.0" y="-2292.5">Expression: osm=fromJSON(osm)["address"]; quarter=trim(replaceAll(osm["quarter"],"‡πÅ‡∏Ç‡∏ß‡∏á|‡∏ï‡∏≥‡∏ö‡∏•|‡∏ï\\.","")); if(maps["locality"]==null or maps["locality"]=="null") { if(contains(maps["name"],quarter)) { name=""; city=osm["city"]; district=trim(replaceAll(osm["suburb"],"‡πÄ‡∏Ç‡∏ï|‡∏≠‡∏≥‡πÄ‡∏†‡∏≠","")); subdt=quarter; zipcode=osm["postcode"]; return true } } else { //use for country name=maps["name"]; city=maps["admin"]; district=trim(replaceAll(maps["sub-admin"],"‡∏≠‡∏≥‡πÄ‡∏†‡∏≠|‡∏≠\\.","")); subdt=trim(replaceAll(maps["locality"],"‡∏ï‡∏≥‡∏ö‡∏•|‡∏ï\\.","")); zipcode=maps["postalCode"]; return true } return false</conditioncontainer>
    <actioncontainer id="t19" x="6265.0" y="-2047.5">OSMk</actioncontainer>
    <conditioncontainer id="t20" x="6545.0" y="-2047.5">Debug Dialoguhyy</conditioncontainer>
    <actioncontainer id="t21" x="6650.0" y="-2292.5">Delete HTTP Request Cookies: Domain matches https://shopee.co.th/api/v4/geo/get_poi_by_geo</actioncontainer>
    <conditioncontainer id="t22" x="6475.0" y="-1872.5">     DEBUG    </conditioncontainer>
    <conditioncontainer id="t23" x="6405.0" y="-1452.5">     DEBUG    </conditioncontainer>
    <actioncontainer id="t24" x="6475.0" y="-1592.5">LONGDO API </actioncontainer>
    <actioncontainer id="t25" x="140.0" y="-2467.5">POST-POI</actioncontainer>
    <actioncontainer id="t26" x="140.0" y="-2572.5">DEL-COOKIE</actioncontainer>
    <actioncontainer id="t27" x="140.0" y="-2677.5">POI-JSON</actioncontainer>
    <actioncontainer id="t28" x="140.0" y="-2782.5">DEL-COOKIE</actioncontainer>
    <notecontainer id="t29" x="140.0" y="-2082.5" w="140.0" h="105.0">{"error_msg":"ERR_NOT_FOUND","error":37900201}</notecontainer>
    <conditioncontainer id="t30" x="490.0" y="-2292.5">


  </conditioncontainer>
    <conditioncontainer id="t31" x="-560.0" y="-2922.5">CHECKLOOP?</conditioncontainer>
    <conditioncontainer id="t32" x="-560.0" y="-4077.5"> AUTOFILL? </conditioncontainer>
    <actioncontainer id="t33" x="-560.0" y="-3867.5">HTTP
GEOCODE</actioncontainer>
    <actioncontainer id="t34" x="490.0" y="-3867.5">RE-FILL</actioncontainer>
    <conditioncontainer id="t35" x="140.0" y="-2292.5">POI?</conditioncontainer>
    <conditioncontainer id="t36" x="6090.0" y="-1522.5">     DEBUG    </conditioncontainer>
    <actioncontainer id="t37" x="6160.0" y="-1697.5">Script: lat=toNumber(split(value,",")[0]); lon=toNumber(split(value,",")[1]);</actioncontainer>
    <actioncontainer id="t38" x="6230.0" y="-1732.5">Inpubbt Dialog:  Single-line text </actioncontainer>
    <actioncontainer id="t39" x="6335.0" y="-1732.5">LONGDO API</actioncontainer>
    <conditioncontainer id="t40" x="5250.0" y="-1837.5">     DEBUG    </conditioncontainer>
    <actioncontainer id="t41" x="5320.0" y="-1942.5">XML BU</actioncontainer>
    <actioncontainer id="t42" x="5320.0" y="-2187.5">Script: file_text=replaceAll(file_text, "\n"," "); line_color="fff39621"; line=" {file_text}"; write= "&lt;?xml version='1.0' encoding='UTF-8' ?&gt;"+"\n"+ '&lt;kml xmlns="http://www.opengis.net/kml/2.2" xmlns:gx="http://www.google.com/kml/ext/2.2"&gt;'+"\n"+ " &lt;Document&gt;"+"\n"+ " &lt;name&gt;yyy&lt;/name&gt;"+"\n"+ ' &lt;Style id="mm_folder_color_1"&gt;'+"\n"+ " &lt;IconStyle&gt;"+"\n"+ " &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+ " &lt;colorMode&gt;normal&lt;/colorMode&gt;"+"\n"+ " &lt;scale&gt;1&lt;/scale&gt;"+"\n"+ " &lt;/IconStyle&gt;"+"\n"+ " &lt;LineStyle&gt;"+"\n"+ " &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+ " &lt;width&gt;1&lt;/width&gt;"+"\n"+ " &lt;/LineStyle&gt;"+"\n"+ " &lt;PolyStyle&gt;"+"\n"+ " &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+ " &lt;/PolyStyle&gt;"+"\n"+ " &lt;/Style&gt;"+"\n"+ ' &lt;Folder id="1"&gt;'+"\n"+ " &lt;styleUrl&gt;#mm_folder_color_1&lt;/styleUrl&gt;"+"\n"+ " &lt;name&gt;POLYLINE&lt;/name&gt;"+"\n"+ ' &lt;Style id="mm_marker_color_7"&gt;'+"\n"+ " &lt;IconStyle&gt;"+"\n"+ " &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+ " &lt;colorMode&gt;normal&lt;/colorMode&gt;"+"\n"+ " &lt;scale&gt;1&lt;/scale&gt;"+"\n"+ " &lt;/IconStyle&gt;"+"\n"+ " &lt;LineStyle&gt;"+"\n"+ " &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+ " &lt;width&gt;1&lt;/width&gt;"+"\n"+ " &lt;/LineStyle&gt;"+"\n"+ " &lt;PolyStyle&gt;"+"\n"+ " &lt;color&gt;{line_color}&lt;/color&gt;"+"\n"+ " &lt;/PolyStyle&gt;"+"\n"+ " &lt;/Style&gt;"+"\n"+ ' &lt;Placemark id="7"&gt;'+"\n"+ " &lt;name&gt;Marker 1&lt;/name&gt;"+"\n"+ " &lt;LineString&gt;"+"\n"+ " &lt;coordinates&gt;{line}&lt;/coordinates&gt;"+"\n"+ " &lt;/LineString&gt;"+"\n"+ " &lt;styleUrl&gt;#mm_marker_color_7&lt;/styleUrl&gt;"+"\n"+ " &lt;/Placemark&gt;"+"\n"+ ' &lt;Placemark id="8"&gt;'+"\n"+ " &lt;name&gt;Marker 2&lt;/name&gt;"+"\n"+ " &lt;LineString&gt;"+"\n"+ " &lt;coordinates&gt;{line}&lt;/coordinates&gt;"+"\n"+ " &lt;/LineString&gt;"+"\n"+ " &lt;styleUrl&gt;#mm_marker_color_7&lt;/styleUrl&gt;"+"\n"+ " &lt;/Placemark&gt;"+"\n"+ " &lt;/Folder&gt;"+"\n"+ " &lt;/Document&gt;"+"\n"+ "&lt;/kml&gt;"+"\n";</actioncontainer>
    <actioncontainer id="t43" x="5215.0" y="-2397.5">IMPORT CSVc</actioncontainer>
    <actioncontainer id="t44" x="5530.0" y="-1942.5">Script: points=newList(); file_text=split(file_text,"\n"); for (i in [0 to length(file_text)-1]) { v=split(file_text[i],","); addElement(points, newMapFromValues("latitude",toNumber(v[0]),"longitude",toNumber(v[1]))); if(i==5) {break} } points=toJSON(points)</actioncontainer>
    <actioncontainer id="t45" x="5530.0" y="-2047.5">IMPORT CSVc</actioncontainer>
    <actioncontainer id="t46" x="5740.0" y="-2292.5">HTTP Request: POST https://api.openrouteservice.org/optimization application/json {route} store in response</actioncontainer>
    <actioncontainer id="t47" x="-560.0" y="-2292.5">OUTRANGE!!</actioncontainer>
    <actioncontainer id="t48" x="-875.0" y="-3132.5">POLYLINE</actioncontainer>
    <notecontainer id="t49" x="-175.0" y="-4217.5" w="140.0" h="105.0">shopee_token</notecontainer>
    <notecontainer id="t50" x="-175.0" y="-4322.5" w="140.0" h="105.0">{"data":null,"error":19,"error_msg":"Failed to authenticate"}</notecontainer>
    <conditioncontainer id="t51" x="-560.0" y="-3132.5"> RANGE? </conditioncontainer>
    <actioncontainer id="t52" x="-2275.0" y="-3132.5">HTTP Request: GET https://mall.shopee.co.th/api/v4/geo/autocomplete?city={city}&amp;components=country%3ATH&amp;district={district}&amp;input={input}&amp;sessiontoken=d1157d8d-55e9-4ed8-9697-21826590124d&amp;state={state}&amp;use_case=marketplace.checkout&amp;user_lat=13.7177965&amp;user_lng=100.3443447&amp;zipcode={zip}   store in response</actioncontainer>
    <actioncontainer id="t53" x="-2275.0" y="-3027.5">Script: loc_id=fromJSON(response)["predictions"][0]["id"]; response=fromJSON(response)["predictions"];</actioncontainer>
    <conditioncontainer id="t54" x="-2275.0" y="-2887.5">     DEBUG    </conditioncontainer>
    <actioncontainer id="t55" x="-560.0" y="-5687.5">SPLITS V3</actioncontainer>
    <actioncontainer id="t56" x="-560.0" y="-5057.5">rmVAR</actioncontainer>
    <actioncontainer id="t57" x="-560.0" y="-4322.5">TYPE</actioncontainer>
    <actioncontainer id="t58" x="350.0" y="-4707.5">SHOP DUPICATE</actioncontainer>
    <actioncontainer id="t59" x="700.0" y="-4707.5">lEXX</actioncontainer>
    <actioncontainer id="t60" x="840.0" y="-4462.5">WRITE  x</actioncontainer>
    <actioncontainer id="t61" x="700.0" y="-4462.5">WRITE  </actioncontainer>
    <actioncontainer id="t62" x="-175.0" y="-4707.5">DEST_TYPE</actioncontainer>
    <conditioncontainer id="t63" x="-560.0" y="-4707.5">COLUMN</conditioncontainer>
    <actioncontainer id="t64" x="-560.0" y="-5792.5">RAW CSV</actioncontainer>
    <actioncontainer id="t65" x="-560.0" y="-4217.5">HTTP
AUTOFILL</actioncontainer>
    <connection from="t1" to="t64" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t4" to="t11" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t5" to="t40" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t6" to="t9" type="NORMAL" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t7" to="t8" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t8" to="t40" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t9" to="t10" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t10" to="t5" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t11" to="t6" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t15" to="t12" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t16" to="t36" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t17" to="t20" type="NORMAL" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t18" to="t17" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t18" to="t20" type="FALSE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t20" to="t39" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t20" to="t39" type="FALSE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t21" to="t36" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t24" to="t36" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t25" to="t35" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t26" to="t25" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t27" to="t26" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t28" to="t27" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t30" to="t47" type="FALSE" sourcePosition="SOUTH" targetPosition="SOUTH" />
    <connection from="t30" to="t34" type="TRUE" sourcePosition="NORTH" targetPosition="SOUTH" />
    <connection from="t31" to="t28" type="TRUE" sourcePosition="EAST" targetPosition="NORTH" />
    <connection from="t31" to="t47" type="FALSE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t32" to="t33" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t32" to="t28" type="FALSE" sourcePosition="EAST" targetPosition="NORTH" />
    <connection from="t33" to="t51" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t34" to="t33" type="NORMAL" sourcePosition="WEST" targetPosition="EAST" />
    <connection from="t35" to="t47" type="TRUE" sourcePosition="WEST" targetPosition="EAST" />
    <connection from="t35" to="t47" type="EXCEPTION" sourcePosition="SOUTH" targetPosition="SOUTH" />
    <connection from="t35" to="t30" type="FALSE" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t38" to="t37" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t41" to="t3" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t42" to="t2" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t43" to="t42" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t44" to="t3" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t45" to="t44" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t46" to="t15" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t47" to="t48" type="NORMAL" sourcePosition="WEST" targetPosition="SOUTH" />
    <connection from="t48" to="t56" type="NORMAL" sourcePosition="NORTH" targetPosition="WEST" />
    <connection from="t51" to="t31" type="FALSE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t51" to="t48" type="TRUE" sourcePosition="WEST" targetPosition="EAST" />
    <connection from="t52" to="t53" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t53" to="t54" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t55" to="t56" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t56" to="t63" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t57" to="t65" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t58" to="t59" type="NORMAL" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t59" to="t61" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t59" to="t60" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t62" to="t58" type="NORMAL" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t63" to="t57" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t63" to="t62" type="FALSE" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t64" to="t55" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t65" to="t32" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t65" to="t49" type="NOTE" sourcePosition="EAST" targetPosition="WEST" />
  </flow>
  <flow type="flow">
    <name>#34:  ROUTE PLANNER</name>
    <description> </description>
    <group>üìå</group>
    <enabled>true</enabled>
    <executionPolicy>PARALLEL</executionPolicy>
    <triggercontainer id="t1" x="-210.0" y="-2607.5">
      <trigger>EX-MAP MAKER</trigger>
    </triggercontainer>
    <actioncontainer id="t2" x="245.0" y="-87.5">Start Activity: android.intent.action.VIEW {uri} </actioncontainer>
    <actioncontainer id="t3" x="1120.0" y="577.5">LONGDO API</actioncontainer>
    <notecontainer id="t4" x="-1277.5" y="-1085.0" w="385.0" h="210.0">results[0]

distance/1000
time/60
int totalSeconds = 6676;
int minutes = totalSeconds / 60;
int seconds = totalSeconds % 60;
System.out.println(minutes + " ‡∏ô‡∏≤‡∏ó‡∏µ " + seconds + " ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ");</notecontainer>
    <actioncontainer id="t5" x="-1155.0" y="-1277.5"> SELECT </actioncontainer>
    <notecontainer id="t6" x="-1295.0" y="-2152.5" w="140.0" h="105.0">path</notecontainer>
    <actioncontainer id="t7" x="-1295.0" y="-1977.5">Execute Root Command: ls -ltr /storage/emulated/0/ in </actioncontainer>
    <notecontainer id="t8" x="-1382.5" y="-1872.5" w="245.0" h="35.0">ls -ltr /storage/emulated/0/</notecontainer>
    <actioncontainer id="t9" x="-525.0" y="-2012.5">IMPORT CSVX</actioncontainer>
    <actioncontainer id="t10" x="-525.0" y="-2222.5">4_allexport</actioncontainer>
    <actioncontainer id="t11" x="-210.0" y="-1277.5">1-URI</actioncontainer>
    <actioncontainer id="t12" x="-210.0" y="-1067.5">ORS
(VRP)</actioncontainer>
    <actioncontainer id="t13" x="70.0" y="-1277.5">Script: route=newMapFromValues("mode","motorcycle","agents",newList(),"jobs",newList()); for (i in [0 to length(file_text)-1]) { if(contains(file_text[i][0],"CUST") and not contains(file_text[i][0],"FIX")) { addElement(route["jobs"],newMapFromValues( "location",newList(toNumber(file_text[i][3]),toNumber(file_text[i][2])), "duration",0) ); } } addElement(route["agents"],newMapFromValues( "start_location",newList(100.350930,13.745119), "end_location", newList(100.344338,13.717727)) ); /*addElement(route["locations"],newMapFromValues( "id","warehouse-0", "location",newList(100.350930,13.745119) ));*/ route=toJSON(route)</actioncontainer>
    <actioncontainer id="t14" x="70.0" y="-1172.5">GEOAPIFY
(TSP)</actioncontainer>
    <actioncontainer id="t15" x="70.0" y="-1067.5">Scripbbjt: </actioncontainer>
    <actioncontainer id="t16" x="350.0" y="-1277.5">HERE PARAMETER</actioncontainer>
    <actioncontainer id="t17" x="350.0" y="-1172.5">HERE API 
(TSP)</actioncontainer>
    <actioncontainer id="t18" x="350.0" y="-1067.5">Scripbbjt: nnj</actioncontainer>
    <actioncontainer id="t19" x="630.0" y="-1277.5">DATA-HERzE</actioncontainer>
    <actioncontainer id="t20" x="630.0" y="-1172.5">LONGDO
(TSP)</actioncontainer>
    <actioncontainer id="t21" x="630.0" y="-1067.5">Scripjjjt: response=fromJSON(response);</actioncontainer>
    <conditioncontainer id="t22" x="-210.0" y="-2397.5">  


</conditioncontainer>
    <conditioncontainer id="t23" x="-525.0" y="-2397.5">MAP MAKER</conditioncontainer>
    <actioncontainer id="t24" x="-210.0" y="-1872.5">CURRENT-LOC</actioncontainer>
    <actioncontainer id="t25" x="-210.0" y="-1172.5">ORS / PAR</actioncontainer>
    <actioncontainer id="t26" x="-210.0" y="-1767.5">IMPORT CSVgg</actioncontainer>
    <conditioncontainer id="t27" x="-315.0" y="-1487.5">     DEBUG    </conditioncontainer>
    <actioncontainer id="t28" x="-210.0" y="-1662.5">SPLITS V3s</actioncontainer>
    <connection from="t1" to="t22" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t10" to="t9" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t11" to="t25" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t12" to="t2" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t13" to="t14" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t14" to="t15" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t15" to="t2" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t16" to="t17" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t17" to="t18" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t18" to="t2" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t19" to="t20" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t20" to="t21" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t21" to="t2" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t22" to="t23" type="FALSE" sourcePosition="WEST" targetPosition="EAST" />
    <connection from="t22" to="t24" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t23" to="t10" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t24" to="t26" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t25" to="t12" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t26" to="t28" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t28" to="t13" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
  </flow>
  <flow type="flow">
    <name>#39: MANUAL</name>
    <description> </description>
    <group>üìå</group>
    <enabled>true</enabled>
    <executionPolicy>PARALLEL</executionPolicy>
    <triggercontainer id="t1" x="630.0" y="-17.5" />
    <actioncontainer id="t2" x="35.0" y="542.5">DB-SPFX</actioncontainer>
    <actioncontainer id="t3" x="35.0" y="192.5">




          </actioncontainer>
    <notecontainer id="t4" x="35.0" y="192.5" w="350.0" h="105.0">                    ALL CUSTOMER EXPORT</notecontainer>
    <actioncontainer id="t5" x="245.0" y="717.5">LIST</actioncontainer>
    <actioncontainer id="t6" x="385.0" y="717.5">FIL</actioncontainer>
    <conditioncontainer id="t7" x="35.0" y="717.5">FILE?</conditioncontainer>
    <conditioncontainer id="t8" x="35.0" y="857.5">FILE2?</conditioncontainer>
    <actioncontainer id="t9" x="280.0" y="1347.5">Script: shopeedb=newMap(); customer_list=newList(); for (i in [0 to length(varSelect)-1]) { db=fromJSON(varSelect[i][3]); for (i in [0 to length(db["driver_delivery_order"]["routes"])-1]) { if(db["drghyiver_delivery_order"]["routes"][i]["location_type"]==2) { addElement(customer_list, db["driver_delivery_order"]["routes"][i]) } } for (i in [0 to length(customer_list)-1]) { for (ii in [0 to length(db["deliveries"])-1]) { if(customer_list[i]["delivery_order_id"]==db["deliveries"][ii]["delivery_order"]["delivery_order_id"]) { customer_list[i]= newMapFromValues( "name",db["deliveries"][ii]["delivery_order"]["delivery_address"]["name"], "phone",db["deliveries"][ii]["delivery_order"]["delivery_address"]["phone"], "address",db["deliveries"][ii]["delivery_order"]["delivery_address"]["location"], "distance",customer_list[i]["distance"], //"cod",db["deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000, "income",db["deliveries"][ii]["delivery_order"]["income"]/100000 ); //addMapEntry(customer_list[i],"xxx", db["deliveries"][ii]["delivery_order"]); //customer_list[i]["delivery_order_id"]=db["deliveries"][ii]["delivery_order"]; break } } } }</actioncontainer>
    <actioncontainer id="t10" x="280.0" y="1452.5">FILTER-nnn</actioncontainer>
    <actioncontainer id="t11" x="1050.0" y="752.5">DT</actioncontainer>
    <notecontainer id="t12" x="2450.0" y="210.0" w="420.0" h="70.0">3
SEARCH SUGGEST ¬ª GEOCODER </notecontainer>
    <actioncontainer id="t13" x="2310.0" y="927.5">Script: response=fromJSON(response)["result"]["geometry"]["location"] //lnglat</actioncontainer>
    <actioncontainer id="t14" x="2310.0" y="822.5">HTTP Request: GET https://mall.shopee.co.th/api/v4/geo/details?components=country%3ATH&amp;fields=formatted_address%2Cgeometry&amp;group=DS&amp;placeid={loc_id}&amp;sessiontoken=d1157d8d-55e9-4ed8-9697-21826590124d&amp;use_case=marketplace.checkout   store in response</actioncontainer>
    <conditioncontainer id="t15" x="2310.0" y="1207.5">     DEBUG    </conditioncontainer>
    <actioncontainer id="t16" x="2310.0" y="507.5">HTTP Request: GET https://mall.shopee.co.th/api/v4/geo/autocomplete?city={city}&amp;components=country%3ATH&amp;district={district}&amp;input={input}&amp;sessiontoken=d1157d8d-55e9-4ed8-9697-21826590124d&amp;state={state}&amp;use_case=marketplace.checkout&amp;user_lat=13.7177965&amp;user_lng=100.3443447&amp;zipcode={zip}   store in response</actioncontainer>
    <conditioncontainer id="t17" x="840.0" y="1067.5">     DEBUG    </conditioncontainer>
    <actioncontainer id="t18" x="2310.0" y="612.5">Script: loc_id=fromJSON(response)["predictions"][0]["id"];</actioncontainer>
    <actioncontainer id="t19" x="805.0" y="472.5">DJ</actioncontainer>
    <notecontainer id="t20" x="455.0" y="472.5" w="140.0" h="105.0">‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏ô‡∏¥‡πà‡∏°‡∏ã‡∏µ‡πà‡πÄ‡∏™‡πá‡∏á‡∏Ç‡∏ô‡∏™‡πà‡∏á 1988 ‡∏à‡∏≥‡∏Å‡∏±‡∏î ‡∏™‡∏≤‡∏Ç‡∏≤‡∏°‡∏´‡∏≤‡∏ä‡∏±‡∏¢, ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 1258/2, ‡∏ñ‡∏ô‡∏ô ‡∏ß‡∏¥‡πÄ‡∏ä‡∏µ‡∏¢‡∏£‡πÇ‡∏ä‡∏é‡∏Å, ‡∏ï‡∏≥‡∏ö‡∏• ‡∏°‡∏´‡∏≤‡∏ä‡∏±‡∏¢, ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£ </notecontainer>
    <notecontainer id="t21" x="927.5" y="175.0" w="245.0" h="70.0">1. TOP ACCURACY 
(EX) AUTOFILL ¬ª GEOCODER </notecontainer>
    <actioncontainer id="t22" x="840.0" y="892.5">Copy Text to Clipboard: {latlng}</actioncontainer>
    <actioncontainer id="t23" x="35.0" y="1627.5">Write to File: {writer} to /storage/emulated/0/file.csv (overwrite)</actioncontainer>
    <actioncontainer id="t24" x="35.0" y="1137.5">SELECTnnn</actioncontainer>
    <actioncontainer id="t25" x="35.0" y="1452.5">Script: header=newList("Folder name","Folder color","Latitude","Longitude","Title","Description","Color","Phone number","Timestamp","Pin icon code"); writer="{header,listformat,comma}"+"\n"; //x=newList(1,2,3,4); for (i in [0 to length(customer_list)-1]) { //log(customer_list[i]); if(contains(customer_list[i],"latitude")) { writer=writer+ "Test"+","+ "ff9800"+","+ customer_list[i]["address"]["latitude"]+","+ customer_list[i]["address"]["longitude"]+","+ replaceAll(customer_list[i]["name"],"\\.|\\,","")+","+ replaceAll(customer_list[i]["address"]["address"],"\\.|\\,","")+","+ "ff9800"+","+ ""+","+ ""+","+ 41+ "\n" } } /* writer=writer+ "üìå"+","+ "ff5722"+","+ split[0]+","+ split[1]+","+ restaurants[i]["restaurant"]+","+ restaurants[i]["address"]+","+ "ff5722"+","+ ""+","+ ""+","+ 41+ */</actioncontainer>
    <actioncontainer id="t26" x="840.0" y="647.5">P-AUTOFIL</actioncontainer>
    <actioncontainer id="t27" x="1050.0" y="472.5">J-GEO</actioncontainer>
    <actioncontainer id="t28" x="1050.0" y="647.5">P-GEO</actioncontainer>
    <actioncontainer id="t29" x="805.0" y="367.5">TEST INPUT</actioncontainer>
    <actioncontainer id="t30" x="1540.0" y="367.5">TEST INPUT</actioncontainer>
    <actioncontainer id="t31" x="1540.0" y="472.5">DJ</actioncontainer>
    <actioncontainer id="t32" x="1540.0" y="647.5">P-AUTOFIL</actioncontainer>
    <actioncontainer id="t33" x="1540.0" y="787.5">HTTP Request: GET https://mall.shopee.co.th/api/v4/geo/details?components=country%3ATH&amp;fields=formatted_address%2Cgeometry&amp;group=DS&amp;placeid={loc_id}&amp;sessiontoken=d1157d8d-55e9-4ed8-9697-21826590124d&amp;use_case=marketplace.checkout   store in response</actioncontainer>
    <actioncontainer id="t34" x="1540.0" y="892.5">Script: //response=fromJSON(response)["result"]["geometry"]["location"] //lnglat</actioncontainer>
    <conditioncontainer id="t35" x="1750.0" y="1032.5">     DEBUG    </conditioncontainer>
    <actioncontainer id="t36" x="1750.0" y="647.5">Script: loc_id=fromJSON(response)["predictions"][0]["id"]; response=fromJSON(response)["predictions"];</actioncontainer>
    <actioncontainer id="t37" x="1750.0" y="472.5">HTTP Request: GET https://mall.shopee.co.th/api/v4/geo/autocomplete?city={city}&amp;components=country%3ATH&amp;district={district}&amp;input={input}&amp;sessiontoken=d1157d8d-55e9-4ed8-9697-21826590124d&amp;state={state}&amp;use_case=marketplace.checkout&amp;user_lat=13.7177965&amp;user_lng=100.3443447&amp;zipcode={zip}   store in response</actioncontainer>
    <actioncontainer id="t38" x="1750.0" y="367.5">J-GEO </actioncontainer>
    <actioncontainer id="t39" x="2310.0" y="367.5">Script: city="‡πÄ‡∏Ç‡∏ï"+"‡∏ó‡∏ß‡∏µ‡∏ß‡∏±‡∏í‡∏ô‡∏≤"; district="‡πÅ‡∏Ç‡∏ß‡∏á"+"‡∏®‡∏≤‡∏•‡∏≤‡∏ò‡∏£‡∏£‡∏°‡∏™‡∏û‡∏ô‡πå"; state="‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£"; //input="(‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ö‡∏™‡∏≤‡∏¢: 0636376715) ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 233/1, ‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô ‡∏ï‡∏•‡∏≤‡∏î‡πÅ‡∏™‡∏á‡∏™‡∏¥‡∏£‡∏¥ (‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏Å‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏° MR.DIY), ‡∏ã‡∏≠‡∏¢ ‡πÄ‡∏û‡∏ä‡∏£‡πÄ‡∏Å‡∏©‡∏°110 ‡πÅ‡∏Ç‡∏ß‡∏á‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡πâ‡∏≤‡∏á‡∏û‡∏•‡∏π ‡πÄ‡∏Ç‡∏ï‡∏´‡∏ô‡∏≠‡∏á‡πÅ‡∏Ç‡∏° ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£ 10160"; input="35/1 ‡∏´‡∏°‡∏π‡πà 14 ‡πÅ‡∏Ç‡∏ß‡∏á‡∏®‡∏≤‡∏•‡∏≤‡∏ò‡∏£‡∏£‡∏°‡∏™‡∏û‡∏ô‡πå ‡πÄ‡∏Ç‡∏ï‡∏ó‡∏ß‡∏µ‡∏ß‡∏±‡∏í‡∏ô‡∏≤ ‡∏Å‡∏ó‡∏°"; //‡∏ï‡∏≥‡∏ö‡∏•‡∏ï‡∏•‡∏≤‡∏î‡∏Ç‡∏ß‡∏±‡∏ç zip=10170;</actioncontainer>
    <conditioncontainer id="t40" x="280.0" y="1207.5">     DEBUG    </conditioncontainer>
    <actioncontainer id="t41" x="35.0" y="1242.5">Script: shopeedb=newMap(); customer_list=newList(); for (i in [0 to length(varSelect)-1]) { db=fromJSON(varSelect[i][3]); for (i in [0 to length(db["driver_delivery_order"]["routes"])-1]) { if(db["drghyiver_delivery_order"]["routes"][i]["location_type"]==2) { addElement(customer_list, db["driver_delivery_order"]["routes"][i]) } } for (i in [0 to length(customer_list)-1]) { for (ii in [0 to length(db["deliveries"])-1]) { if(customer_list[i]["delivery_order_id"]==db["deliveries"][ii]["delivery_order"]["delivery_order_id"]) { customer_list[i]= newMapFromValues( "name",db["deliveries"][ii]["delivery_order"]["delivery_address"]["name"], "phone",db["deliveries"][ii]["delivery_order"]["delivery_address"]["phone"], "addresjjjs",db["deliveries"][ii]["delivery_order"]["delivery_address"]["location"], "distance",customer_list[i]["distance"], //"cod",db["deliveries"][ii]["delivery_order"]["dropoff_cash_transaction"]["cash_amount"]/100000, "income",db["deliveries"][ii]["delivery_order"]["income"]/100000 ); //addMapEntry(customer_list[i],"xxx", db["deliveries"][ii]["delivery_order"]); //customer_list[i]["delivery_order_id"]=db["deliveries"][ii]["delivery_order"]; break } } } }</actioncontainer>
    <actioncontainer id="t42" x="-210.0" y="1522.5">Write to File: {address_x} to /storage/emulated/0/filxxxxxxxxe.txt (append)</actioncontainer>
    <connection from="t1" to="t29" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t2" to="t7" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t3" to="t2" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t5" to="t6" type="NORMAL" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t6" to="t2" type="NORMAL" sourcePosition="NORTH" targetPosition="EAST" />
    <connection from="t7" to="t5" type="FALSE" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t7" to="t8" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t8" to="t24" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t11" to="t22" type="NORMAL" sourcePosition="SOUTH" targetPosition="EAST" />
    <connection from="t13" to="t15" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t14" to="t13" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t16" to="t18" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t18" to="t14" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t19" to="t26" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t22" to="t17" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t24" to="t41" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t26" to="t27" type="NORMAL" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t27" to="t28" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t28" to="t11" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t29" to="t19" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t30" to="t31" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t31" to="t32" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t32" to="t38" type="NORMAL" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t33" to="t34" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t34" to="t35" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t36" to="t35" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t37" to="t36" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t38" to="t37" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t39" to="t16" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t40" to="t42" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t41" to="t40" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
  </flow>
  <flow type="flow">
    <name>#41: MAP MARKER</name>
    <description> </description>
    <group>üìå</group>
    <enabled>true</enabled>
    <executionPolicy>SKIP</executionPolicy>
    <emergencyStopCount>999999</emergencyStopCount>
    <triggercontainer id="t1" x="-70.0" y="52.5">
      <trigger>MARKER-START</trigger>
      <trigger>MARKER-END</trigger>
    </triggercontainer>
    <conditioncontainer id="t2" x="105.0" y="297.5">   END   </conditioncontainer>
    <conditioncontainer id="t3" x="-70.0" y="297.5">   START   </conditioncontainer>
    <conditioncontainer id="t4" x="490.0" y="297.5">  CLICK  </conditioncontainer>
    <actioncontainer id="t5" x="805.0" y="542.5">


    </actioncontainer>
    <conditioncontainer id="t6" x="490.0" y="1347.5">CF: ADD</conditioncontainer>
    <conditioncontainer id="t7" x="490.0" y="1767.5">CF: SHOW</conditioncontainer>
    <actioncontainer id="t8" x="735.0" y="1767.5">#42: NAVIGATION</actioncontainer>
    <actioncontainer id="t9" x="490.0" y="542.5">FIND CONTENT?</actioncontainer>
    <actioncontainer id="t10" x="490.0" y="787.5">IMPORT CSV</actioncontainer>
    <conditioncontainer id="t11" x="735.0" y="1172.5">     DEBUG    </conditioncontainer>
    <actioncontainer id="t12" x="490.0" y="1557.5">FIXELEMENT</actioncontainer>
    <actioncontainer id="t13" x="280.0" y="1557.5">Notification on Screen: üìù  ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</actioncontainer>
    <actioncontainer id="t14" x="-70.0" y="542.5">MM-REC</actioncontainer>
    <actioncontainer id="t15" x="105.0" y="542.5">MM-HIDE</actioncontainer>
    <conditioncontainer id="t16" x="490.0" y="1172.5">2L</conditioncontainer>
    <actioncontainer id="t17" x="490.0" y="997.5">SPLITS V2N</actioncontainer>
    <connection from="t1" to="t3" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t2" to="t15" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t2" to="t4" type="FALSE" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t3" to="t14" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t3" to="t2" type="FALSE" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t4" to="t9" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t6" to="t12" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t7" to="t8" type="TRUE" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t9" to="t5" type="EXCEPTION" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t9" to="t10" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t10" to="t17" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t12" to="t13" type="NORMAL" sourcePosition="WEST" targetPosition="EAST" />
    <connection from="t16" to="t6" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t16" to="t11" type="FALSE" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t17" to="t16" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
  </flow>
  <flow type="flow">
    <name>#42: NAVIGATION</name>
    <description> </description>
    <group>üìå</group>
    <enabled>true</enabled>
    <executionPolicy>SKIP</executionPolicy>
    <emergencyStopCount>999999</emergencyStopCount>
    <triggercontainer id="t1" x="-910.0" y="-752.5" />
    <conditioncontainer id="t2" x="-385.0" y="437.5">4
CLOSE</conditioncontainer>
    <conditioncontainer id="t3" x="-910.0" y="-297.5">  CLICK  </conditioncontainer>
    <conditioncontainer id="t4" x="-910.0" y="-577.5">BEGINNING</conditioncontainer>
    <conditioncontainer id="t5" x="-910.0" y="-17.5">W-STATUS</conditioncontainer>
    <conditioncontainer id="t6" x="-910.0" y="227.5">  AREA  </conditioncontainer>
    <actioncontainer id="t7" x="490.0" y="787.5">Hide Custom Widget Overlay: SPF_ROUTE_MINIMIZE</actioncontainer>
    <actioncontainer id="t8" x="-35.0" y="787.5">Show Custom Widget Overlay: SPF_ROUTE_MINIMIZE, SPF_ROUTE_MINIMIZE  Top Left</actioncontainer>
    <conditioncontainer id="t9" x="-910.0" y="437.5">1
CALL</conditioncontainer>
    <conditioncontainer id="t10" x="-735.0" y="437.5">2
NAVIG</conditioncontainer>
    <conditioncontainer id="t11" x="-560.0" y="437.5">3
NEXT</conditioncontainer>
    <actioncontainer id="t12" x="315.0" y="1102.5">Show Custom Widget Overljjay: Overlay 10, SPF_ROUTE_STATUSBAR ‡πâ‡πâ Top Left</actioncontainer>
    <actioncontainer id="t13" x="490.0" y="892.5">Script: global_widget["SPF_ROUTE_MINIMIZE"]["x"]=widget_x_offset; global_widget["SPF_ROUTE_MINIMIZE"]["y"]=widget_y_offset;</actioncontainer>
    <actioncontainer id="t14" x="105.0" y="787.5">Hide Custom Widget Overlay: SPF_ROUTE_STATUSBAR</actioncontainer>
    <conditioncontainer id="t15" x="-595.0" y="-577.5"> INDEX </conditioncontainer>
    <actioncontainer id="t16" x="-595.0" y="-402.5">Hide Custom Widget Overlay: SPF_ROUTE_STATUSBAR</actioncontainer>
    <actioncontainer id="t17" x="-560.0" y="647.5">Script: removeElement(global_navigation, 0);</actioncontainer>
    <actioncontainer id="t18" x="-315.0" y="-577.5">‚ùå  No Navigation! </actioncontainer>
    <actioncontainer id="t19" x="-735.0" y="647.5">Init Variablfde Location: last known location into location</actioncontainer>
    <actioncontainer id="t20" x="-735.0" y="787.5">Script: url="https://www.google.com/maps/dir/?api=1&amp;origin={location,locationformat,decimal}&amp;destination={global_navigation[0][8][0]},{global_navigation[0][8][1]}&amp;waypoints={global_navigation[0][2]},{global_navigation[0][3]}&amp;travelmode=driving&amp;dir_action=navigate";</actioncontainer>
    <actioncontainer id="t21" x="-910.0" y="647.5">Call Number: {global_navigation[0][7]} (SIM 1)</actioncontainer>
    <actioncontainer id="t22" x="-735.0" y="997.5">Start Activity: android.intent.action.VIEW {url} com.google.android.apps.maps/ </actioncontainer>
    <connection from="t1" to="t4" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t2" to="t14" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t2" to="t7" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t3" to="t5" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t4" to="t3" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t4" to="t15" type="FALSE" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t5" to="t6" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t5" to="t7" type="FALSE" sourcePosition="EAST" targetPosition="NORTH" />
    <connection from="t5" to="t12" type="FALSE" sourcePosition="EAST" targetPosition="NORTH" />
    <connection from="t6" to="t14" type="FALSE" sourcePosition="EAST" targetPosition="NORTH" />
    <connection from="t6" to="t8" type="FALSE" sourcePosition="EAST" targetPosition="NORTH" />
    <connection from="t6" to="t9" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t7" to="t13" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t9" to="t21" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t9" to="t10" type="FALSE" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t10" to="t19" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t10" to="t11" type="FALSE" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t11" to="t17" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t11" to="t2" type="FALSE" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t15" to="t18" type="FALSE" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t15" to="t16" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t16" to="t12" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t17" to="t15" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t18" to="t14" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t18" to="t7" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t19" to="t20" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t20" to="t22" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
  </flow>
  <flow type="flow">
    <name>#43: CONFIG</name>
    <description> </description>
    <group>üìå</group>
    <enabled>true</enabled>
    <executionPolicy>PARALLEL</executionPolicy>
    <triggercontainer id="t1" x="35.0" y="-192.5" />
    <actioncontainer id="t2" x="35.0" y="157.5">   MENU   </actioncontainer>
    <conditioncontainer id="t3" x="35.0" y="332.5">     OK     </conditioncontainer>
    <conditioncontainer id="t4" x="35.0" y="507.5">CLEAR</conditioncontainer>
    <actioncontainer id="t5" x="35.0" y="52.5"> MESCRIPT</actioncontainer>
    <connection from="t1" to="t5" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t2" to="t3" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t3" to="t4" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t4" to="t5" type="TRUE" sourcePosition="WEST" targetPosition="WEST" />
    <connection from="t5" to="t2" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
  </flow>
  <flow type="flow">
    <name>20:  SUPPORT</name>
    <description> </description>
    <group>üìå</group>
    <enabled>true</enabled>
    <executionPolicy>PARALLEL</executionPolicy>
    <triggercontainer id="t1" x="-105.0" y="17.5">
      <trigger>SPF-NOTIF</trigger>
    </triggercontainer>
    <actioncontainer id="t2" x="35.0" y="577.5">FIL</actioncontainer>
    <actioncontainer id="t3" x="35.0" y="472.5">LIST</actioncontainer>
    <actioncontainer id="t4" x="-105.0" y="472.5">CP2</actioncontainer>
    <actioncontainer id="t5" x="-105.0" y="227.5">PERFORM</actioncontainer>
    <connection from="t1" to="t5" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t2" to="t4" type="NORMAL" sourcePosition="EAST" targetPosition="NORTH" />
    <connection from="t3" to="t2" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t4" to="t3" type="EXCEPTION" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t5" to="t4" type="EXCEPTION" sourcePosition="SOUTH" targetPosition="NORTH" />
  </flow>
  <flow type="flow">
    <name>21:  ORDER-INC</name>
    <description>üìå</description>
    <group>üìå</group>
    <enabled>true</enabled>
    <executionPolicy>SKIP</executionPolicy>
    <emergencyStopCount>999999</emergencyStopCount>
    <triggercontainer id="t1" x="105.0" y="-7192.5">
      <trigger>SPF-ICM</trigger>
    </triggercontainer>
    <actioncontainer id="t2" x="105.0" y="1067.5">Write to File: {writer} to /storage/emulated/0/file.csv (overwrite)</actioncontainer>
    <actioncontainer id="t3" x="105.0" y="962.5">Script: /* Folder name,Folder color,Latitude,Longitude,Title,Description,Color,Phone number,Timestamp,Pin icon code CUSTOMER,009688,13.717246094464993,100.41886858642101,Marker 1,,009688,,2025-03-05T14:04:55Z,268 CUSTOMER,009688,13.720979716439867,100.39747897535563,Marker 2,,009688,,2025-03-05T14:05:13Z,269 SHOP,f44336,13.739496469745207,100.43600622564554,Marker 1,,f44336,,2025-03-05T14:03:24Z,268 SHOP,f44336,13.725766925674511,100.43142098933458,Marker 2,, f44336,,2025-03-05T14:04:10Z,269 CUSTOMER,009688,13.773109041236552,100.43157957494259,Marker 7,, 009688,,2025-03-05T22:50:18Z,419 ==+1 CUSTOMER,009688,13.758255351056553,100.43494742363691,Marker 8,,009688,,2025-03-05T22:58:08Z,265 ==+2 23AC9A =‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß #ED4D2D =‡∏™‡πâ‡∏° */ header=newList("Folder name","Folder color","Latitude","Longitude","Title","Description","Color","Phone number","Timestamp","Pin icon code"); writer="{header,listformat,comma}"+"\n"; if(global_device["device"]=="alioth") { name=newList("1_SHOP","1_CUSTOMER"); color=newList("ed4d2d","23ac9a"); } else { name=newList("2_SHOP","2_CUSTOMER"); color=newList("ffeb3b","cddc39"); } for (i in [0 to length(order["route"]["all"])-1]){ count=i+1; if(order["route"]["all"][i]["location_type"]==1) { adds=newList( name[0], color[0], order["route"]["all"][i]["details"]["address"]["latitude"], order["route"]["all"][i]["details"]["address"]["longitude"], count+" - "+(order["route"]["all"][i]["details"]["parcel"]["weight"]), order["route"]["all"][i]["details"]["address"]["address"], color[0], "+"+order["route"]["all"][i]["details"]["phone"], "", 419); } else { adds=newList( name[1], color[1], order["route"]["all"][i]["details"]["address"]["latitude"], order["route"]["all"][i]["details"]["address"]["longitude"], count+" COD : "+order["route"]["all"][i]["details"]["cod"], order["route"]["all"][i]["details"]["address"]["address"], color[1], "+"+order["route"]["all"][i]["details"]["phone"], "", 419); } writer=writer+"{adds,listformat,comma}"+"\n"; }</actioncontainer>
    <notecontainer id="t4" x="105.0" y="752.5" w="140.0" h="35.0">MAP</notecontainer>
    <conditioncontainer id="t5" x="105.0" y="822.5">Expression: type=="‡∏û‡∏±‡∏™‡∏î‡∏∏"</conditioncontainer>
    <notecontainer id="t6" x="2170.0" y="-2292.5" w="140.0" h="105.0">‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏•‡∏ö</notecontainer>
    <notecontainer id="t7" x="2170.0" y="-2187.5" w="140.0" h="105.0">‡∏õ‡∏¥‡∏î Cancel ‡πÅ‡∏•‡πâ‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏ó‡∏ô ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏ô‡∏ã‡πâ‡∏≥</notecontainer>
    <notecontainer id="t8" x="-1400.0" y="-2117.5" w="420.0" h="455.0">text = getText("‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡∏Ç*");
sleep(1000);
text = getTextById("com.shopee.foody.driver.th:id/pop_up_title");
sleep(1000);
text = getText("‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡∏Ç*");
sleep(1000);
text = getTextById("com.shopee.foody.driver.th:id/pop_up_title");
sleep(1000);
bounds = getBounds("‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°");
sleep(1000);
bounds = getBoundsById("com.shopee.foody.driver.th:id/positive");
sleep(1000);
bounds = getBounds("‡∏ï‡∏Å‡∏•‡∏á");
sleep(1000);
bounds = getBoundsById("com.shopee.foody.driver.th:id/negative");</notecontainer>
    <notecontainer id="t9" x="-1400.0" y="-1645.0" w="420.0" h="490.0">text = getText("‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏£‡∏±‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥");
sleep(1000);
text = getTextById("com.shopee.foody.driver.th:id/auto_accept_order_title");
sleep(1000);
bounds = getBounds("‡∏ø 30");
sleep(1000);
bounds = getBoundsById("com.shopee.foody.driver.th:id/auto_accept_order_earn_money");
sleep(1000);
bounds = getBoundsById("com.shopee.foody.driver.th:id/positive");
sleep(1000);
clickById("com.shopee.foody.driver.th:id/positive");
sleep(1000);
bounds = getBounds("‡∏ï‡∏Å‡∏•‡∏á");
sleep(1000);
bounds = getBoundsById("com.shopee.foody.driver.th:id/btn_text");</notecontainer>
    <actioncontainer id="t10" x="-1540.0" y="-1312.5">Script: start=getDate();</actioncontainer>
    <actioncontainer id="t11" x="-1400.0" y="-1312.5">Script: log(getDate()-start);</actioncontainer>
    <notecontainer id="t12" x="-1470.0" y="-2852.5" w="140.0" h="35.0">‡∏™‡∏≥‡∏£‡∏≠‡∏á</notecontainer>
    <notecontainer id="t13" x="-1365.0" y="-2537.5" w="350.0" h="105.0">‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ =&gt; ‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥
‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å =&gt; ‡∏á‡∏≤‡∏ô‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏° =&gt; ‡∏ñ‡∏≤‡∏° (‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏≤‡∏°‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</notecontainer>
    <actioncontainer id="t14" x="-1470.0" y="-2782.5">SELECT</actioncontainer>
    <actioncontainer id="t15" x="-1470.0" y="-2677.5">FILTER-</actioncontainer>
    <actioncontainer id="t16" x="-1155.0" y="-1627.5">***DEMO TAKE</actioncontainer>
    <conditioncontainer id="t17" x="-1330.0" y="-1102.5">ONGOING?</conditioncontainer>
    <actioncontainer id="t18" x="-1365.0" y="-1032.5">+</actioncontainer>
    <actioncontainer id="t19" x="-1400.0" y="-892.5">Download URL: {staticmap} to /storage/emulated/0/Download/youx</actioncontainer>
    <actioncontainer id="t20" x="-1505.0" y="-927.5">Script: //setWidgetElementProperty("SPF_DENY_ORDER", "Image_1", "visible", true); refreshWidget("SPF_DENY_ORDER", true);</actioncontainer>
    <actioncontainer id="t21" x="1085.0" y="-2257.5">SQL-ASSIGN 1</actioncontainer>
    <conditioncontainer id="t22" x="1470.0" y="-2537.5">FILE2?</conditioncontainer>
    <actioncontainer id="t23" x="1470.0" y="-2362.5">SQL-CANCEL ‡∏±‡∏±</actioncontainer>
    <conditioncontainer id="t24" x="1085.0" y="-2467.5">FILE2?</conditioncontainer>
    <actioncontainer id="t25" x="1085.0" y="-2152.5">FILTER 5A</actioncontainer>
    <actioncontainer id="t26" x="1995.0" y="-5722.5">CANCEL-ACC</actioncontainer>
    <actioncontainer id="t27" x="1995.0" y="-5617.5">SQL-CANCEL </actioncontainer>
    <actioncontainer id="t28" x="1995.0" y="-5512.5">15s</actioncontainer>
    <actioncontainer id="t29" x="1995.0" y="-5827.5">UPDATE DB</actioncontainer>
    <conditioncontainer id="t30" x="1995.0" y="-6842.5">CANCEL?</conditioncontainer>
    <notecontainer id="t31" x="665.0" y="-7507.5" w="350.0" h="35.0">‚úì  autocancel food when expresstime</notecontainer>
    <actioncontainer id="t32" x="105.0" y="-6527.5">UPDATE DB</actioncontainer>
    <actioncontainer id="t33" x="105.0" y="-6422.5">ACCESS DB</actioncontainer>
    <conditioncontainer id="t34" x="735.0" y="-6072.5">EX TIME?</conditioncontainer>
    <actioncontainer id="t35" x="735.0" y="-6247.5">ST-TAKE,CANCEL.2</actioncontainer>
    <actioncontainer id="t36" x="105.0" y="-6247.5">PRESENT</actioncontainer>
    <actioncontainer id="t37" x="735.0" y="-5862.5">X</actioncontainer>
    <actioncontainer id="t38" x="455.0" y="-6072.5">WGT-DENY</actioncontainer>
    <actioncontainer id="t39" x="455.0" y="-6247.5">ST-TAKE,CANCEL.2</actioncontainer>
    <actioncontainer id="t40" x="-140.0" y="-6247.5">WGT-DETAIL</actioncontainer>
    <actioncontainer id="t41" x="105.0" y="-5967.5">Execute Root Command: screencap -p /storage/emulated/0/Android/application/SPFDB/SCREENSHOT/{time}.png in </actioncontainer>
    <actioncontainer id="t42" x="105.0" y="-5617.5">Execute Flows: #22A  DENY &lt;MAINACT&gt;</actioncontainer>
    <actioncontainer id="t43" x="105.0" y="-6072.5">Script: time="{getDate(),datedformat,dd.MM.yyyy}"+"_{getDate(),dateformat,HH.mm}";</actioncontainer>
    <actioncontainer id="t44" x="105.0" y="-5722.5">BTN-ACCEPT</actioncontainer>
    <notecontainer id="t45" x="-210.0" y="-6842.5" w="140.0" h="105.0">500</notecontainer>
    <actioncontainer id="t46" x="420.0" y="-6982.5">SOUND-INC</actioncontainer>
    <conditioncontainer id="t47" x="735.0" y="-6842.5">üçõ</conditioncontainer>
    <actioncontainer id="t48" x="105.0" y="-6842.5">üì¶</actioncontainer>
    <connection from="t1" to="t48" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t3" to="t2" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t5" to="t3" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t14" to="t15" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t17" to="t18" type="TRUE" sourcePosition="EAST" targetPosition="NORTH" />
    <connection from="t21" to="t25" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t22" to="t23" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t24" to="t21" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t25" to="t22" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t26" to="t27" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t27" to="t28" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t29" to="t26" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t30" to="t29" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t32" to="t33" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t33" to="t36" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t34" to="t37" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t34" to="t38" type="FALSE" sourcePosition="WEST" targetPosition="EAST" />
    <connection from="t35" to="t34" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t36" to="t40" type="NORMAL" sourcePosition="WEST" targetPosition="EAST" />
    <connection from="t36" to="t43" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t36" to="t39" type="NORMAL" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t39" to="t38" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t41" to="t44" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t43" to="t41" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t44" to="t42" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t47" to="t30" type="FALSE" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t47" to="t35" type="TRUE" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t47" to="t46" type="TRUE" sourcePosition="NORTH" targetPosition="EAST" />
    <connection from="t48" to="t32" type="NORMAL" sourcePosition="SOUTH" targetPosition="NORTH" />
    <connection from="t48" to="t47" type="EXCEPTION" sourcePosition="EAST" targetPosition="WEST" />
    <connection from="t48" to="t46" type="NORMAL" sourcePosition="NORTH" targetPosition="WEST" />
    <connection from="t48" to="t45" type="NOTE" sourcePosition="WEST" targetPosition="EAST" />
  </flow>
</data>